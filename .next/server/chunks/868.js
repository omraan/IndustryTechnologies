exports.id=868,exports.ids=[868],exports.modules={1605:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.addAdminServicesToServer=$.registerAdminService=void 0;let ee=[];function ei(g,$){ee.push({getServiceDefinition:g,getHandlers:$})}function er(g){for(let{getServiceDefinition:$,getHandlers:ei}of ee)g.addService($(),ei())}$.registerAdminService=ei,$.addAdminServicesToServer=er},77257:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.BackoffTimeout=void 0;let ee=1e3,ei=1.6,er=12e4,en=.2;function es(g,$){return Math.random()*($-g)+g}class eo{constructor(g,$){this.callback=g,this.initialDelay=ee,this.multiplier=ei,this.maxDelay=er,this.jitter=en,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,$&&($.initialDelay&&(this.initialDelay=$.initialDelay),$.multiplier&&(this.multiplier=$.multiplier),$.jitter&&(this.jitter=$.jitter),$.maxDelay&&(this.maxDelay=$.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(g){var $,ee;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},g),this.hasRef||null===(ee=($=this.timerId).unref)||void 0===ee||ee.call($)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let g=Math.min(this.nextDelay*this.multiplier,this.maxDelay),$=g*this.jitter;this.nextDelay=g+es(-$,$)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let g=new Date,$=this.startTime;$.setMilliseconds($.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),g<$?this.runTimer($.getTime()-g.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var g,$;this.hasRef=!0,null===($=(g=this.timerId).ref)||void 0===$||$.call(g)}unref(){var g,$;this.hasRef=!1,null===($=(g=this.timerId).unref)||void 0===$||$.call(g)}getEndTime(){return this.endTime}}$.BackoffTimeout=eo},68612:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.CallCredentials=void 0;let ei=ee(32908);function er(g){return"getRequestHeaders"in g&&"function"==typeof g.getRequestHeaders}class en{static createFromMetadataGenerator(g){return new eo(g)}static createFromGoogleCredential(g){return en.createFromMetadataGenerator(($,ee)=>{let en;(en=er(g)?g.getRequestHeaders($.service_url):new Promise((ee,ei)=>{g.getRequestMetadata($.service_url,(g,$)=>{if(g){ei(g);return}if(!$){ei(Error("Headers not set by metadata plugin"));return}ee($)})})).then(g=>{let $=new ei.Metadata;for(let ee of Object.keys(g))$.add(ee,g[ee]);ee(null,$)},g=>{ee(g)})})}static createEmpty(){return new ep}}$.CallCredentials=en;class es extends en{constructor(g){super(),this.creds=g}async generateMetadata(g){let $=new ei.Metadata,ee=await Promise.all(this.creds.map($=>$.generateMetadata(g)));for(let g of ee)$.merge(g);return $}compose(g){return new es(this.creds.concat([g]))}_equals(g){return this===g||g instanceof es&&this.creds.every(($,ee)=>$._equals(g.creds[ee]))}}class eo extends en{constructor(g){super(),this.metadataGenerator=g}generateMetadata(g){return new Promise(($,ee)=>{this.metadataGenerator(g,(g,ei)=>{void 0!==ei?$(ei):ee(g)})})}compose(g){return new es([this,g])}_equals(g){return this===g||g instanceof eo&&this.metadataGenerator===g.metadataGenerator}}class ep extends en{generateMetadata(g){return Promise.resolve(new ei.Metadata)}compose(g){return g}_equals(g){return g instanceof ep}}},88577:(g,$)=>{"use strict";function ee(g){return void 0!==g.onReceiveMetadata&&1===g.onReceiveMetadata.length}Object.defineProperty($,"__esModule",{value:!0}),$.InterceptingListenerImpl=$.isInterceptingListener=void 0,$.isInterceptingListener=ee;class ei{constructor(g,$){this.listener=g,this.nextListener=$,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(g){this.processingMetadata=!0,this.listener.onReceiveMetadata(g,g=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(g),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(g){this.processingMessage=!0,this.listener.onReceiveMessage(g,g=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=g,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(g),this.processPendingStatus())})}onReceiveStatus(g){this.listener.onReceiveStatus(g,g=>{this.processingMetadata||this.processingMessage?this.pendingStatus=g:this.nextListener.onReceiveStatus(g)})}}$.InterceptingListenerImpl=ei},60060:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.getNextCallNumber=void 0;let ee=0;function ei(){return ee++}$.getNextCallNumber=ei},12953:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ClientDuplexStreamImpl=$.ClientWritableStreamImpl=$.ClientReadableStreamImpl=$.ClientUnaryCallImpl=$.callErrorFromStatus=void 0;let ei=ee(82361),er=ee(12781),en=ee(69238);function es(g,$){let ee=`${g.code} ${en.Status[g.code]}: ${g.details}`,ei=Error(ee),er=`${ei.stack}
for call at
${$}`;return Object.assign(Error(ee),g,{stack:er})}$.callErrorFromStatus=es;class eo extends ei.EventEmitter{constructor(){super()}cancel(){var g;null===(g=this.call)||void 0===g||g.cancelWithStatus(en.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,$;return null!==($=null===(g=this.call)||void 0===g?void 0:g.getPeer())&&void 0!==$?$:"unknown"}}$.ClientUnaryCallImpl=eo;class ep extends er.Readable{constructor(g){super({objectMode:!0}),this.deserialize=g}cancel(){var g;null===(g=this.call)||void 0===g||g.cancelWithStatus(en.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,$;return null!==($=null===(g=this.call)||void 0===g?void 0:g.getPeer())&&void 0!==$?$:"unknown"}_read(g){var $;null===($=this.call)||void 0===$||$.startRead()}}$.ClientReadableStreamImpl=ep;class eu extends er.Writable{constructor(g){super({objectMode:!0}),this.serialize=g}cancel(){var g;null===(g=this.call)||void 0===g||g.cancelWithStatus(en.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,$;return null!==($=null===(g=this.call)||void 0===g?void 0:g.getPeer())&&void 0!==$?$:"unknown"}_write(g,$,ee){var ei;let er={callback:ee},en=Number($);Number.isNaN(en)||(er.flags=en),null===(ei=this.call)||void 0===ei||ei.sendMessageWithContext(er,g)}_final(g){var $;null===($=this.call)||void 0===$||$.halfClose(),g()}}$.ClientWritableStreamImpl=eu;class eh extends er.Duplex{constructor(g,$){super({objectMode:!0}),this.serialize=g,this.deserialize=$}cancel(){var g;null===(g=this.call)||void 0===g||g.cancelWithStatus(en.Status.CANCELLED,"Cancelled on client")}getPeer(){var g,$;return null!==($=null===(g=this.call)||void 0===g?void 0:g.getPeer())&&void 0!==$?$:"unknown"}_read(g){var $;null===($=this.call)||void 0===$||$.startRead()}_write(g,$,ee){var ei;let er={callback:ee},en=Number($);Number.isNaN(en)||(er.flags=en),null===(ei=this.call)||void 0===ei||ei.sendMessageWithContext(er,g)}_final(g){var $;null===($=this.call)||void 0===$||$.halfClose(),g()}}$.ClientDuplexStreamImpl=eh},77021:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ChannelCredentials=void 0;let ei=ee(24404),er=ee(68612),en=ee(66801);function es(g,$){if(g&&!(g instanceof Buffer))throw TypeError(`${$}, if provided, must be a Buffer.`)}class eo{constructor(g){this.callCredentials=g||er.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(g,$,ee,er){var eo;if(es(g,"Root certificate"),es($,"Private key"),es(ee,"Certificate chain"),$&&!ee)throw Error("Private key must be given with accompanying certificate chain");if(!$&&ee)throw Error("Certificate chain must be given with accompanying private key");let ep=(0,ei.createSecureContext)({ca:null!==(eo=null!=g?g:(0,en.getDefaultRootsData)())&&void 0!==eo?eo:void 0,key:null!=$?$:void 0,cert:null!=ee?ee:void 0,ciphers:en.CIPHER_SUITES});return new eu(ep,null!=er?er:{})}static createFromSecureContext(g,$){return new eu(g,null!=$?$:{})}static createInsecure(){return new ep}}$.ChannelCredentials=eo;class ep extends eo{constructor(g){super(g)}compose(g){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(g){return g instanceof ep}}class eu extends eo{constructor(g,$){super(),this.secureContext=g,this.verifyOptions=$,this.connectionOptions={secureContext:g},(null==$?void 0:$.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=$.checkServerIdentity)}compose(g){let $=this.callCredentials.compose(g);return new eh(this,$)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(g){return this===g||g instanceof eu&&this.secureContext===g.secureContext&&this.verifyOptions.checkServerIdentity===g.verifyOptions.checkServerIdentity}}class eh extends eo{constructor(g,$){super($),this.channelCredentials=g}compose(g){let $=this.callCredentials.compose(g);return new eh(this.channelCredentials,$)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(g){return this===g||g instanceof eh&&this.channelCredentials._equals(g.channelCredentials)&&this.callCredentials._equals(g.callCredentials)}}},70332:(g,$)=>{"use strict";function ee(g,$){let ee=Object.keys(g).sort(),ei=Object.keys($).sort();if(ee.length!==ei.length)return!1;for(let er=0;er<ee.length;er+=1)if(ee[er]!==ei[er]||g[ee[er]]!==$[ei[er]])return!1;return!0}Object.defineProperty($,"__esModule",{value:!0}),$.channelOptionsEqual=$.recognizedOptions=void 0,$.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},$.channelOptionsEqual=ee},49914:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ChannelImplementation=void 0;let ei=ee(77021),er=ee(35233);class en{constructor(g,$,ee){if("string"!=typeof g)throw TypeError("Channel target must be a string");if(!($ instanceof ei.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(ee&&"object"!=typeof ee)throw TypeError("Channel options must be an object");this.internalChannel=new er.InternalChannel(g,$,ee)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(g){return this.internalChannel.getConnectivityState(g)}watchConnectivityState(g,$,ee){this.internalChannel.watchConnectivityState(g,$,ee)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(g,$,ee,ei,er){if("string"!=typeof g)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof $||$ instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(g,$,ee,ei,er)}}$.ChannelImplementation=en},83316:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setup=$.getChannelzServiceDefinition=$.getChannelzHandlers=$.unregisterChannelzRef=$.registerChannelzSocket=$.registerChannelzServer=$.registerChannelzSubchannel=$.registerChannelzChannel=$.ChannelzCallTracker=$.ChannelzChildrenTracker=$.ChannelzTrace=void 0;let ei=ee(41808),er=ee(91360),en=ee(69238),es=ee(72782),eo=ee(1605),ep=ee(47697);function eu(g){return{channel_id:g.id,name:g.name}}function eh(g){return{subchannel_id:g.id,name:g.name}}function em(g){return{server_id:g.id}}function ef(g){return{socket_id:g.id,name:g.name}}let eg=32;class ev{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(g,$,ee){let ei=new Date;this.events.push({description:$,severity:g,timestamp:ei,childChannel:(null==ee?void 0:ee.kind)==="channel"?ee:void 0,childSubchannel:(null==ee?void 0:ee.kind)==="subchannel"?ee:void 0}),this.events.length>=2*eg&&(this.events=this.events.slice(eg)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:eF(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(g=>({description:g.description,severity:g.severity,timestamp:eF(g.timestamp),channel_ref:g.childChannel?eu(g.childChannel):null,subchannel_ref:g.childSubchannel?eh(g.childSubchannel):null}))}}}$.ChannelzTrace=ev;class ey{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(g){var $,ee,ei;switch(g.kind){case"channel":{let ee=null!==($=this.channelChildren.get(g.id))&&void 0!==$?$:{ref:g,count:0};ee.count+=1,this.channelChildren.set(g.id,ee);break}case"subchannel":{let $=null!==(ee=this.subchannelChildren.get(g.id))&&void 0!==ee?ee:{ref:g,count:0};$.count+=1,this.subchannelChildren.set(g.id,$);break}case"socket":{let $=null!==(ei=this.socketChildren.get(g.id))&&void 0!==ei?ei:{ref:g,count:0};$.count+=1,this.socketChildren.set(g.id,$)}}}unrefChild(g){switch(g.kind){case"channel":{let $=this.channelChildren.get(g.id);void 0!==$&&($.count-=1,0===$.count?this.channelChildren.delete(g.id):this.channelChildren.set(g.id,$));break}case"subchannel":{let $=this.subchannelChildren.get(g.id);void 0!==$&&($.count-=1,0===$.count?this.subchannelChildren.delete(g.id):this.subchannelChildren.set(g.id,$));break}case"socket":{let $=this.socketChildren.get(g.id);void 0!==$&&($.count-=1,0===$.count?this.socketChildren.delete(g.id):this.socketChildren.set(g.id,$))}}}getChildLists(){let g=[];for(let{ref:$}of this.channelChildren.values())g.push($);let $=[];for(let{ref:g}of this.subchannelChildren.values())$.push(g);let ee=[];for(let{ref:g}of this.socketChildren.values())ee.push(g);return{channels:g,subchannels:$,sockets:ee}}}$.ChannelzChildrenTracker=ey;class e_{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}$.ChannelzCallTracker=e_;let ew=1;function eS(){return ew++}let eT=[],eC=[],eE=[],eI=[];function eN(g,$,ee){let ei=eS(),er={id:ei,name:g,kind:"channel"};return ee&&(eT[ei]={ref:er,getInfo:$}),er}function eD(g,$,ee){let ei=eS(),er={id:ei,name:g,kind:"subchannel"};return ee&&(eC[ei]={ref:er,getInfo:$}),er}function ek(g,$){let ee=eS(),ei={id:ee,kind:"server"};return $&&(eE[ee]={ref:ei,getInfo:g}),ei}function eR(g,$,ee){let ei=eS(),er={id:ei,name:g,kind:"socket"};return ee&&(eI[ei]={ref:er,getInfo:$}),er}function eA(g){switch(g.kind){case"channel":delete eT[g.id];return;case"subchannel":delete eC[g.id];return;case"server":delete eE[g.id];return;case"socket":delete eI[g.id];return}}function eO(g){let $=Number.parseInt(g,16);return[$/256|0,$%256]}function eP(g){if(""===g)return[];let $=g.split(":").map(g=>eO(g)),ee=[];return ee.concat(...$)}function eM(g){if((0,ei.isIPv4)(g))return Buffer.from(Uint8Array.from(g.split(".").map(g=>Number.parseInt(g))));if(!(0,ei.isIPv6)(g))return null;{let $,ee;let ei=g.indexOf("::");-1===ei?($=g,ee=""):($=g.substring(0,ei),ee=g.substring(ei+2));let er=Buffer.from(eP($)),en=Buffer.from(eP(ee)),es=Buffer.alloc(16-er.length-en.length,0);return Buffer.concat([er,es,en])}}function eL(g){switch(g){case er.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case er.ConnectivityState.IDLE:return{state:"IDLE"};case er.ConnectivityState.READY:return{state:"READY"};case er.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case er.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function eF(g){if(!g)return null;let $=g.getTime();return{seconds:$/1e3|0,nanos:$%1e3*1e6}}function eV(g){let $=g.getInfo();return{ref:eu(g.ref),data:{target:$.target,state:eL($.state),calls_started:$.callTracker.callsStarted,calls_succeeded:$.callTracker.callsSucceeded,calls_failed:$.callTracker.callsFailed,last_call_started_timestamp:eF($.callTracker.lastCallStartedTimestamp),trace:$.trace.getTraceMessage()},channel_ref:$.children.channels.map(g=>eu(g)),subchannel_ref:$.children.subchannels.map(g=>eh(g))}}function eB(g,$){let ee=Number.parseInt(g.request.channel_id),ei=eT[ee];if(void 0===ei){$({code:en.Status.NOT_FOUND,details:"No channel data found for id "+ee});return}$(null,{channel:eV(ei)})}function eU(g,$){let ee=Number.parseInt(g.request.max_results),ei=[],er=Number.parseInt(g.request.start_channel_id);for(;er<eT.length;er++){let g=eT[er];if(void 0!==g&&(ei.push(eV(g)),ei.length>=ee))break}$(null,{channel:ei,end:er>=eE.length})}function ej(g){let $=g.getInfo();return{ref:em(g.ref),data:{calls_started:$.callTracker.callsStarted,calls_succeeded:$.callTracker.callsSucceeded,calls_failed:$.callTracker.callsFailed,last_call_started_timestamp:eF($.callTracker.lastCallStartedTimestamp),trace:$.trace.getTraceMessage()},listen_socket:$.listenerChildren.sockets.map(g=>ef(g))}}function eq(g,$){let ee=Number.parseInt(g.request.server_id),ei=eE[ee];if(void 0===ei){$({code:en.Status.NOT_FOUND,details:"No server data found for id "+ee});return}$(null,{server:ej(ei)})}function ez(g,$){let ee=Number.parseInt(g.request.max_results),ei=[],er=Number.parseInt(g.request.start_server_id);for(;er<eE.length;er++){let g=eE[er];if(void 0!==g&&(ei.push(ej(g)),ei.length>=ee))break}$(null,{server:ei,end:er>=eE.length})}function eH(g,$){let ee=Number.parseInt(g.request.subchannel_id),ei=eC[ee];if(void 0===ei){$({code:en.Status.NOT_FOUND,details:"No subchannel data found for id "+ee});return}let er=ei.getInfo(),es={ref:eh(ei.ref),data:{target:er.target,state:eL(er.state),calls_started:er.callTracker.callsStarted,calls_succeeded:er.callTracker.callsSucceeded,calls_failed:er.callTracker.callsFailed,last_call_started_timestamp:eF(er.callTracker.lastCallStartedTimestamp),trace:er.trace.getTraceMessage()},socket_ref:er.children.sockets.map(g=>ef(g))};$(null,{subchannel:es})}function e$(g){var $;return(0,es.isTcpSubchannelAddress)(g)?{address:"tcpip_address",tcpip_address:{ip_address:null!==($=eM(g.host))&&void 0!==$?$:void 0,port:g.port}}:{address:"uds_address",uds_address:{filename:g.path}}}function eW(g,$){var ee,ei,er,es,eo;let ep=Number.parseInt(g.request.socket_id),eu=eI[ep];if(void 0===eu){$({code:en.Status.NOT_FOUND,details:"No socket data found for id "+ep});return}let eh=eu.getInfo(),em=eh.security?{model:"tls",tls:{cipher_suite:eh.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(ee=eh.security.cipherSuiteStandardName)&&void 0!==ee?ee:void 0,other_name:null!==(ei=eh.security.cipherSuiteOtherName)&&void 0!==ei?ei:void 0,local_certificate:null!==(er=eh.security.localCertificate)&&void 0!==er?er:void 0,remote_certificate:null!==(es=eh.security.remoteCertificate)&&void 0!==es?es:void 0}}:null,eg={ref:ef(eu.ref),local:eh.localAddress?e$(eh.localAddress):null,remote:eh.remoteAddress?e$(eh.remoteAddress):null,remote_name:null!==(eo=eh.remoteName)&&void 0!==eo?eo:void 0,security:em,data:{keep_alives_sent:eh.keepAlivesSent,streams_started:eh.streamsStarted,streams_succeeded:eh.streamsSucceeded,streams_failed:eh.streamsFailed,last_local_stream_created_timestamp:eF(eh.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:eF(eh.lastRemoteStreamCreatedTimestamp),messages_received:eh.messagesReceived,messages_sent:eh.messagesSent,last_message_received_timestamp:eF(eh.lastMessageReceivedTimestamp),last_message_sent_timestamp:eF(eh.lastMessageSentTimestamp),local_flow_control_window:eh.localFlowControlWindow?{value:eh.localFlowControlWindow}:null,remote_flow_control_window:eh.remoteFlowControlWindow?{value:eh.remoteFlowControlWindow}:null}};$(null,{socket:eg})}function eK(g,$){let ee=Number.parseInt(g.request.server_id),ei=eE[ee];if(void 0===ei){$({code:en.Status.NOT_FOUND,details:"No server data found for id "+ee});return}let er=Number.parseInt(g.request.start_socket_id),es=Number.parseInt(g.request.max_results),eo=ei.getInfo(),ep=eo.sessionChildren.sockets.sort((g,$)=>g.id-$.id),eu=[],eh=0;for(;eh<ep.length&&(!(ep[eh].id>=er)||(eu.push(ef(ep[eh])),!(eu.length>=es)));eh++);$(null,{socket_ref:eu,end:eh>=ep.length})}function eG(){return{GetChannel:eB,GetTopChannels:eU,GetServer:eq,GetServers:ez,GetSubchannel:eH,GetSocket:eW,GetServerSockets:eK}}$.registerChannelzChannel=eN,$.registerChannelzSubchannel=eD,$.registerChannelzServer=ek,$.registerChannelzSocket=eR,$.unregisterChannelzRef=eA,$.getChannelzHandlers=eG;let eQ=null;function eY(){if(eQ)return eQ;let g=ee(18196).J_,$=g("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]}),ei=(0,ep.loadPackageDefinition)($);return eQ=ei.grpc.channelz.v1.Channelz.service}function eJ(){(0,eo.registerAdminService)(eY,eG)}$.getChannelzServiceDefinition=eY,$.setup=eJ},72158:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.getInterceptingCall=$.InterceptingCall=$.RequesterBuilder=$.ListenerBuilder=$.InterceptorConfigurationError=void 0;let ei=ee(32908),er=ee(88577),en=ee(69238),es=ee(9006);class eo extends Error{constructor(g){super(g),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,eo)}}$.InterceptorConfigurationError=eo;class ep{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(g){return this.metadata=g,this}withOnReceiveMessage(g){return this.message=g,this}withOnReceiveStatus(g){return this.status=g,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}$.ListenerBuilder=ep;class eu{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(g){return this.start=g,this}withSendMessage(g){return this.message=g,this}withHalfClose(g){return this.halfClose=g,this}withCancel(g){return this.cancel=g,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}$.RequesterBuilder=eu;let eh={onReceiveMetadata:(g,$)=>{$(g)},onReceiveMessage:(g,$)=>{$(g)},onReceiveStatus:(g,$)=>{$(g)}},em={start:(g,$,ee)=>{ee(g,$)},sendMessage:(g,$)=>{$(g)},halfClose:g=>{g()},cancel:g=>{g()}};class ef{constructor(g,$){var ee,ei,er,en;this.nextCall=g,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,$?this.requester={start:null!==(ee=$.start)&&void 0!==ee?ee:em.start,sendMessage:null!==(ei=$.sendMessage)&&void 0!==ei?ei:em.sendMessage,halfClose:null!==(er=$.halfClose)&&void 0!==er?er:em.halfClose,cancel:null!==(en=$.cancel)&&void 0!==en?en:em.cancel}:this.requester=em}cancelWithStatus(g,$){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(g,$)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(g,$){var ee,ei,en,es,eo,ep;let eu={onReceiveMetadata:null!==(ei=null===(ee=null==$?void 0:$.onReceiveMetadata)||void 0===ee?void 0:ee.bind($))&&void 0!==ei?ei:g=>{},onReceiveMessage:null!==(es=null===(en=null==$?void 0:$.onReceiveMessage)||void 0===en?void 0:en.bind($))&&void 0!==es?es:g=>{},onReceiveStatus:null!==(ep=null===(eo=null==$?void 0:$.onReceiveStatus)||void 0===eo?void 0:eo.bind($))&&void 0!==ep?ep:g=>{}};this.processingMetadata=!0,this.requester.start(g,eu,(g,$)=>{var ee,ei,en;let es;if(this.processingMetadata=!1,(0,er.isInterceptingListener)($))es=$;else{let g={onReceiveMetadata:null!==(ee=$.onReceiveMetadata)&&void 0!==ee?ee:eh.onReceiveMetadata,onReceiveMessage:null!==(ei=$.onReceiveMessage)&&void 0!==ei?ei:eh.onReceiveMessage,onReceiveStatus:null!==(en=$.onReceiveStatus)&&void 0!==en?en:eh.onReceiveStatus};es=new er.InterceptingListenerImpl(g,eu)}this.nextCall.start(g,es),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(g,$){this.processingMessage=!0,this.requester.sendMessage($,ee=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=g,this.pendingMessage=$):(this.nextCall.sendMessageWithContext(g,ee),this.processPendingHalfClose())})}sendMessage(g){this.sendMessageWithContext({},g)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function eg(g,$,ee){var ei,er;let en=null!==(ei=ee.deadline)&&void 0!==ei?ei:1/0,es=ee.host,eo=null!==(er=ee.parent)&&void 0!==er?er:null,ep=ee.propagate_flags,eu=ee.credentials,eh=g.createCall($,en,es,eo,ep);return eu&&eh.setCredentials(eu),eh}$.InterceptingCall=ef;class ev{constructor(g,$){this.call=g,this.methodDefinition=$}cancelWithStatus(g,$){this.call.cancelWithStatus(g,$)}getPeer(){return this.call.getPeer()}sendMessageWithContext(g,$){let ee;try{ee=this.methodDefinition.requestSerialize($)}catch(g){this.call.cancelWithStatus(en.Status.INTERNAL,`Request message serialization failure: ${(0,es.getErrorMessage)(g)}`);return}this.call.sendMessageWithContext(g,ee)}sendMessage(g){this.sendMessageWithContext({},g)}start(g,$){let ee=null;this.call.start(g,{onReceiveMetadata:g=>{var ee;null===(ee=null==$?void 0:$.onReceiveMetadata)||void 0===ee||ee.call($,g)},onReceiveMessage:g=>{var er;let eo;try{eo=this.methodDefinition.responseDeserialize(g)}catch(g){ee={code:en.Status.INTERNAL,details:`Response message parsing error: ${(0,es.getErrorMessage)(g)}`,metadata:new ei.Metadata},this.call.cancelWithStatus(ee.code,ee.details);return}null===(er=null==$?void 0:$.onReceiveMessage)||void 0===er||er.call($,eo)},onReceiveStatus:g=>{var ei,er;ee?null===(ei=null==$?void 0:$.onReceiveStatus)||void 0===ei||ei.call($,ee):null===(er=null==$?void 0:$.onReceiveStatus)||void 0===er||er.call($,g)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class ey extends ev{constructor(g,$){super(g,$)}start(g,$){var ee,ei;let er=!1,en={onReceiveMetadata:null!==(ei=null===(ee=null==$?void 0:$.onReceiveMetadata)||void 0===ee?void 0:ee.bind($))&&void 0!==ei?ei:g=>{},onReceiveMessage:g=>{var ee;er=!0,null===(ee=null==$?void 0:$.onReceiveMessage)||void 0===ee||ee.call($,g)},onReceiveStatus:g=>{var ee,ei;er||null===(ee=null==$?void 0:$.onReceiveMessage)||void 0===ee||ee.call($,null),null===(ei=null==$?void 0:$.onReceiveStatus)||void 0===ei||ei.call($,g)}};super.start(g,en),this.call.startRead()}}class e_ extends ev{}function ew(g,$,ee){let ei=eg(g,ee.path,$);return ee.responseStream?new e_(ei,ee):new ey(ei,ee)}function eS(g,$,ee,ei){if(g.clientInterceptors.length>0&&g.clientInterceptorProviders.length>0)throw new eo("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(g.callInterceptors.length>0&&g.callInterceptorProviders.length>0)throw new eo("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let er=[];er=g.callInterceptors.length>0||g.callInterceptorProviders.length>0?[].concat(g.callInterceptors,g.callInterceptorProviders.map(g=>g($))).filter(g=>g):[].concat(g.clientInterceptors,g.clientInterceptorProviders.map(g=>g($))).filter(g=>g);let en=Object.assign({},ee,{method_definition:$}),es=er.reduceRight((g,$)=>ee=>$(ee,g),g=>ew(ei,g,$));return es(en)}$.getInterceptingCall=eS},47307:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Client=void 0;let ei=ee(12953),er=ee(49914),en=ee(91360),es=ee(69238),eo=ee(32908),ep=ee(72158),eu=Symbol(),eh=Symbol(),em=Symbol(),ef=Symbol();function eg(g){return"function"==typeof g}function ev(g){return g.stack.split("\n").slice(1).join("\n")}class ey{constructor(g,$,ee={}){var ei,en;if(ee=Object.assign({},ee),this[eh]=null!==(ei=ee.interceptors)&&void 0!==ei?ei:[],delete ee.interceptors,this[em]=null!==(en=ee.interceptor_providers)&&void 0!==en?en:[],delete ee.interceptor_providers,this[eh].length>0&&this[em].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[ef]=ee.callInvocationTransformer,delete ee.callInvocationTransformer,ee.channelOverride)this[eu]=ee.channelOverride;else if(ee.channelFactoryOverride){let ei=ee.channelFactoryOverride;delete ee.channelFactoryOverride,this[eu]=ei(g,$,ee)}else this[eu]=new er.ChannelImplementation(g,$,ee)}close(){this[eu].close()}getChannel(){return this[eu]}waitForReady(g,$){let ee=ei=>{let er;if(ei){$(Error("Failed to connect before the deadline"));return}try{er=this[eu].getConnectivityState(!0)}catch(g){$(Error("The channel has been closed"));return}if(er===en.ConnectivityState.READY)$();else try{this[eu].watchConnectivityState(er,g,ee)}catch(g){$(Error("The channel has been closed"))}};setImmediate(ee)}checkOptionalUnaryResponseArguments(g,$,ee){if(eg(g))return{metadata:new eo.Metadata,options:{},callback:g};if(eg($))return g instanceof eo.Metadata?{metadata:g,options:{},callback:$}:{metadata:new eo.Metadata,options:g,callback:$};if(!(g instanceof eo.Metadata&&$ instanceof Object&&eg(ee)))throw Error("Incorrect arguments passed");return{metadata:g,options:$,callback:ee}}makeUnaryRequest(g,$,ee,er,en,eo,eg){var ey,e_;let ew=this.checkOptionalUnaryResponseArguments(en,eo,eg),eS={path:g,requestStream:!1,responseStream:!1,requestSerialize:$,responseDeserialize:ee},eT={argument:er,metadata:ew.metadata,call:new ei.ClientUnaryCallImpl,channel:this[eu],methodDefinition:eS,callOptions:ew.options,callback:ew.callback};this[ef]&&(eT=this[ef](eT));let eC=eT.call,eE={clientInterceptors:this[eh],clientInterceptorProviders:this[em],callInterceptors:null!==(ey=eT.callOptions.interceptors)&&void 0!==ey?ey:[],callInterceptorProviders:null!==(e_=eT.callOptions.interceptor_providers)&&void 0!==e_?e_:[]},eI=(0,ep.getInterceptingCall)(eE,eT.methodDefinition,eT.callOptions,eT.channel);eC.call=eI;let eN=null,eD=!1,ek=Error();return eI.start(eT.metadata,{onReceiveMetadata:g=>{eC.emit("metadata",g)},onReceiveMessage(g){null!==eN&&eI.cancelWithStatus(es.Status.INTERNAL,"Too many responses received"),eN=g},onReceiveStatus(g){if(!eD){if(eD=!0,g.code===es.Status.OK){if(null===eN){let $=ev(ek);eT.callback((0,ei.callErrorFromStatus)({code:es.Status.INTERNAL,details:"No message received",metadata:g.metadata},$))}else eT.callback(null,eN)}else{let $=ev(ek);eT.callback((0,ei.callErrorFromStatus)(g,$))}ek=null,eC.emit("status",g)}}}),eI.sendMessage(er),eI.halfClose(),eC}makeClientStreamRequest(g,$,ee,er,en,eo){var eg,ey;let e_=this.checkOptionalUnaryResponseArguments(er,en,eo),ew={path:g,requestStream:!0,responseStream:!1,requestSerialize:$,responseDeserialize:ee},eS={metadata:e_.metadata,call:new ei.ClientWritableStreamImpl($),channel:this[eu],methodDefinition:ew,callOptions:e_.options,callback:e_.callback};this[ef]&&(eS=this[ef](eS));let eT=eS.call,eC={clientInterceptors:this[eh],clientInterceptorProviders:this[em],callInterceptors:null!==(eg=eS.callOptions.interceptors)&&void 0!==eg?eg:[],callInterceptorProviders:null!==(ey=eS.callOptions.interceptor_providers)&&void 0!==ey?ey:[]},eE=(0,ep.getInterceptingCall)(eC,eS.methodDefinition,eS.callOptions,eS.channel);eT.call=eE;let eI=null,eN=!1,eD=Error();return eE.start(eS.metadata,{onReceiveMetadata:g=>{eT.emit("metadata",g)},onReceiveMessage(g){null!==eI&&eE.cancelWithStatus(es.Status.INTERNAL,"Too many responses received"),eI=g},onReceiveStatus(g){if(!eN){if(eN=!0,g.code===es.Status.OK){if(null===eI){let $=ev(eD);eS.callback((0,ei.callErrorFromStatus)({code:es.Status.INTERNAL,details:"No message received",metadata:g.metadata},$))}else eS.callback(null,eI)}else{let $=ev(eD);eS.callback((0,ei.callErrorFromStatus)(g,$))}eD=null,eT.emit("status",g)}}}),eT}checkMetadataAndOptions(g,$){let ee,ei;return g instanceof eo.Metadata?(ee=g,ei=$||{}):(ei=g||{},ee=new eo.Metadata),{metadata:ee,options:ei}}makeServerStreamRequest(g,$,ee,er,en,eo){var eg,ey;let e_=this.checkMetadataAndOptions(en,eo),ew={path:g,requestStream:!1,responseStream:!0,requestSerialize:$,responseDeserialize:ee},eS={argument:er,metadata:e_.metadata,call:new ei.ClientReadableStreamImpl(ee),channel:this[eu],methodDefinition:ew,callOptions:e_.options};this[ef]&&(eS=this[ef](eS));let eT=eS.call,eC={clientInterceptors:this[eh],clientInterceptorProviders:this[em],callInterceptors:null!==(eg=eS.callOptions.interceptors)&&void 0!==eg?eg:[],callInterceptorProviders:null!==(ey=eS.callOptions.interceptor_providers)&&void 0!==ey?ey:[]},eE=(0,ep.getInterceptingCall)(eC,eS.methodDefinition,eS.callOptions,eS.channel);eT.call=eE;let eI=!1,eN=Error();return eE.start(eS.metadata,{onReceiveMetadata(g){eT.emit("metadata",g)},onReceiveMessage(g){eT.push(g)},onReceiveStatus(g){if(!eI){if(eI=!0,eT.push(null),g.code!==es.Status.OK){let $=ev(eN);eT.emit("error",(0,ei.callErrorFromStatus)(g,$))}eN=null,eT.emit("status",g)}}}),eE.sendMessage(er),eE.halfClose(),eT}makeBidiStreamRequest(g,$,ee,er,en){var eo,eg;let ey=this.checkMetadataAndOptions(er,en),e_={path:g,requestStream:!0,responseStream:!0,requestSerialize:$,responseDeserialize:ee},ew={metadata:ey.metadata,call:new ei.ClientDuplexStreamImpl($,ee),channel:this[eu],methodDefinition:e_,callOptions:ey.options};this[ef]&&(ew=this[ef](ew));let eS=ew.call,eT={clientInterceptors:this[eh],clientInterceptorProviders:this[em],callInterceptors:null!==(eo=ew.callOptions.interceptors)&&void 0!==eo?eo:[],callInterceptorProviders:null!==(eg=ew.callOptions.interceptor_providers)&&void 0!==eg?eg:[]},eC=(0,ep.getInterceptingCall)(eT,ew.methodDefinition,ew.callOptions,ew.channel);eS.call=eC;let eE=!1,eI=Error();return eC.start(ew.metadata,{onReceiveMetadata(g){eS.emit("metadata",g)},onReceiveMessage(g){eS.push(g)},onReceiveStatus(g){if(!eE){if(eE=!0,eS.push(null),g.code!==es.Status.OK){let $=ev(eI);eS.emit("error",(0,ei.callErrorFromStatus)(g,$))}eI=null,eS.emit("status",g)}}}),eS}}$.Client=ey},56702:(g,$)=>{"use strict";var ee;Object.defineProperty($,"__esModule",{value:!0}),$.CompressionAlgorithms=void 0,function(g){g[g.identity=0]="identity",g[g.deflate=1]="deflate",g[g.gzip=2]="gzip"}(ee||($.CompressionAlgorithms=ee={}))},69718:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.CompressionFilterFactory=$.CompressionFilter=void 0;let ei=ee(59796),er=ee(56702),en=ee(69238),es=ee(81818),eo=ee(68200),ep=g=>"number"==typeof g&&"string"==typeof er.CompressionAlgorithms[g];class eu{async writeMessage(g,$){let ee=g;$&&(ee=await this.compressMessage(ee));let ei=Buffer.allocUnsafe(ee.length+5);return ei.writeUInt8($?1:0,0),ei.writeUInt32BE(ee.length,1),ee.copy(ei,5),ei}async readMessage(g){let $=1===g.readUInt8(0),ee=g.slice(5);return $&&(ee=await this.decompressMessage(ee)),ee}}class eh extends eu{async compressMessage(g){return g}async writeMessage(g,$){let ee=Buffer.allocUnsafe(g.length+5);return ee.writeUInt8(0,0),ee.writeUInt32BE(g.length,1),g.copy(ee,5),ee}decompressMessage(g){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class em extends eu{compressMessage(g){return new Promise(($,ee)=>{ei.deflate(g,(g,ei)=>{g?ee(g):$(ei)})})}decompressMessage(g){return new Promise(($,ee)=>{ei.inflate(g,(g,ei)=>{g?ee(g):$(ei)})})}}class ef extends eu{compressMessage(g){return new Promise(($,ee)=>{ei.gzip(g,(g,ei)=>{g?ee(g):$(ei)})})}decompressMessage(g){return new Promise(($,ee)=>{ei.unzip(g,(g,ei)=>{g?ee(g):$(ei)})})}}class eg extends eu{constructor(g){super(),this.compressionName=g}compressMessage(g){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(g){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function ev(g){switch(g){case"identity":return new eh;case"deflate":return new em;case"gzip":return new ef;default:return new eg(g)}}class ey extends es.BaseFilter{constructor(g,$){var ee;super(),this.sharedFilterConfig=$,this.sendCompression=new eh,this.receiveCompression=new eh,this.currentCompressionAlgorithm="identity";let ei=g["grpc.default_compression_algorithm"];if(void 0!==ei){if(ep(ei)){let g=er.CompressionAlgorithms[ei],en=null===(ee=$.serverSupportedEncodingHeader)||void 0===ee?void 0:ee.split(",");(!en||en.includes(g))&&(this.currentCompressionAlgorithm=g,this.sendCompression=ev(this.currentCompressionAlgorithm))}else eo.log(en.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${ei}`)}}async sendMetadata(g){let $=await g;return $.set("grpc-accept-encoding","identity,deflate,gzip"),$.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?$.remove("grpc-encoding"):$.set("grpc-encoding",this.currentCompressionAlgorithm),$}receiveMetadata(g){let $=g.get("grpc-encoding");if($.length>0){let g=$[0];"string"==typeof g&&(this.receiveCompression=ev(g))}g.remove("grpc-encoding");let ee=g.get("grpc-accept-encoding")[0];if(ee){this.sharedFilterConfig.serverSupportedEncodingHeader=ee;let g=ee.split(",");g.includes(this.currentCompressionAlgorithm)||(this.sendCompression=new eh,this.currentCompressionAlgorithm="identity")}return g.remove("grpc-accept-encoding"),g}async sendMessage(g){var $;let ee;let ei=await g;return ee=!(this.sendCompression instanceof eh)&&((null!==($=ei.flags)&&void 0!==$?$:0)&2)==0,{message:await this.sendCompression.writeMessage(ei.message,ee),flags:ei.flags}}async receiveMessage(g){return this.receiveCompression.readMessage(await g)}}$.CompressionFilter=ey;class e_{constructor(g,$){this.options=$,this.sharedFilterConfig={}}createFilter(){return new ey(this.options,this.sharedFilterConfig)}}$.CompressionFilterFactory=e_},91360:(g,$)=>{"use strict";var ee;Object.defineProperty($,"__esModule",{value:!0}),$.ConnectivityState=void 0,function(g){g[g.IDLE=0]="IDLE",g[g.CONNECTING=1]="CONNECTING",g[g.READY=2]="READY",g[g.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",g[g.SHUTDOWN=4]="SHUTDOWN"}(ee||($.ConnectivityState=ee={}))},69238:(g,$)=>{"use strict";var ee,ei,er;Object.defineProperty($,"__esModule",{value:!0}),$.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=$.DEFAULT_MAX_SEND_MESSAGE_LENGTH=$.Propagate=$.LogVerbosity=$.Status=void 0,function(g){g[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(ee||($.Status=ee={})),function(g){g[g.DEBUG=0]="DEBUG",g[g.INFO=1]="INFO",g[g.ERROR=2]="ERROR",g[g.NONE=3]="NONE"}(ei||($.LogVerbosity=ei={})),function(g){g[g.DEADLINE=1]="DEADLINE",g[g.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",g[g.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",g[g.CANCELLATION=8]="CANCELLATION",g[g.DEFAULTS=65535]="DEFAULTS"}(er||($.Propagate=er={})),$.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,$.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},6614:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.restrictControlPlaneStatusCode=void 0;let ei=ee(69238),er=[ei.Status.OK,ei.Status.INVALID_ARGUMENT,ei.Status.NOT_FOUND,ei.Status.ALREADY_EXISTS,ei.Status.FAILED_PRECONDITION,ei.Status.ABORTED,ei.Status.OUT_OF_RANGE,ei.Status.DATA_LOSS];function en(g,$){return er.includes(g)?{code:ei.Status.INTERNAL,details:`Invalid status from control plane: ${g} ${ei.Status[g]} ${$}`}:{code:g,details:$}}$.restrictControlPlaneStatusCode=en},50823:(g,$)=>{"use strict";function ee(...g){let $=1/0;for(let ee of g){let g=ee instanceof Date?ee.getTime():ee;g<$&&($=g)}return $}Object.defineProperty($,"__esModule",{value:!0}),$.deadlineToString=$.getRelativeTimeout=$.getDeadlineTimeoutString=$.minDeadline=void 0,$.minDeadline=ee;let ei=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function er(g){let $=new Date().getTime();g instanceof Date&&(g=g.getTime());let ee=Math.max(g-$,0);for(let[g,$]of ei){let ei=ee/$;if(ei<1e8)return String(Math.ceil(ei))+g}throw Error("Deadline is too far in the future")}$.getDeadlineTimeoutString=er;let en=2147483647;function es(g){let $=g instanceof Date?g.getTime():g,ee=new Date().getTime(),ei=$-ee;return ei<0?0:ei>en?1/0:ei}function eo(g){if(g instanceof Date)return g.toISOString();{let $=new Date(g);return Number.isNaN($.getTime())?""+g:$.toISOString()}}$.getRelativeTimeout=es,$.deadlineToString=eo},89589:(g,$)=>{"use strict";function ee(g){return{seconds:g/1e3|0,nanos:g%1e3*1e6|0}}function ei(g){return 1e3*g.seconds+g.nanos/1e6|0}function er(g){return"number"==typeof g.seconds&&"number"==typeof g.nanos}Object.defineProperty($,"__esModule",{value:!0}),$.isDuration=$.durationToMs=$.msToDuration=void 0,$.msToDuration=ee,$.durationToMs=ei,$.isDuration=er},9006:(g,$)=>{"use strict";function ee(g){return g instanceof Error?g.message:String(g)}function ei(g){return"object"==typeof g&&null!==g&&"code"in g&&"number"==typeof g.code?g.code:null}Object.defineProperty($,"__esModule",{value:!0}),$.getErrorCode=$.getErrorMessage=void 0,$.getErrorMessage=ee,$.getErrorCode=ei},86868:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.OutlierDetectionLoadBalancingConfig=$.BaseSubchannelWrapper=$.registerAdminService=$.FilterStackFactory=$.BaseFilter=$.PickResultType=$.QueuePicker=$.UnavailablePicker=$.ChildLoadBalancerHandler=$.subchannelAddressToString=$.validateLoadBalancingConfig=$.getFirstUsableConfig=$.registerLoadBalancerType=$.createChildChannelControlHelper=$.BackoffTimeout=$.durationToMs=$.uriToString=$.createResolver=$.registerResolver=$.log=$.trace=void 0;var ei=ee(68200);Object.defineProperty($,"trace",{enumerable:!0,get:function(){return ei.trace}}),Object.defineProperty($,"log",{enumerable:!0,get:function(){return ei.log}});var er=ee(14755);Object.defineProperty($,"registerResolver",{enumerable:!0,get:function(){return er.registerResolver}}),Object.defineProperty($,"createResolver",{enumerable:!0,get:function(){return er.createResolver}});var en=ee(14717);Object.defineProperty($,"uriToString",{enumerable:!0,get:function(){return en.uriToString}});var es=ee(89589);Object.defineProperty($,"durationToMs",{enumerable:!0,get:function(){return es.durationToMs}});var eo=ee(77257);Object.defineProperty($,"BackoffTimeout",{enumerable:!0,get:function(){return eo.BackoffTimeout}});var ep=ee(77203);Object.defineProperty($,"createChildChannelControlHelper",{enumerable:!0,get:function(){return ep.createChildChannelControlHelper}}),Object.defineProperty($,"registerLoadBalancerType",{enumerable:!0,get:function(){return ep.registerLoadBalancerType}}),Object.defineProperty($,"getFirstUsableConfig",{enumerable:!0,get:function(){return ep.getFirstUsableConfig}}),Object.defineProperty($,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return ep.validateLoadBalancingConfig}});var eu=ee(72782);Object.defineProperty($,"subchannelAddressToString",{enumerable:!0,get:function(){return eu.subchannelAddressToString}});var eh=ee(38390);Object.defineProperty($,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return eh.ChildLoadBalancerHandler}});var em=ee(32939);Object.defineProperty($,"UnavailablePicker",{enumerable:!0,get:function(){return em.UnavailablePicker}}),Object.defineProperty($,"QueuePicker",{enumerable:!0,get:function(){return em.QueuePicker}}),Object.defineProperty($,"PickResultType",{enumerable:!0,get:function(){return em.PickResultType}});var ef=ee(81818);Object.defineProperty($,"BaseFilter",{enumerable:!0,get:function(){return ef.BaseFilter}});var eg=ee(4213);Object.defineProperty($,"FilterStackFactory",{enumerable:!0,get:function(){return eg.FilterStackFactory}});var ev=ee(1605);Object.defineProperty($,"registerAdminService",{enumerable:!0,get:function(){return ev.registerAdminService}});var ey=ee(69609);Object.defineProperty($,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return ey.BaseSubchannelWrapper}});var e_=ee(35683);Object.defineProperty($,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return e_.OutlierDetectionLoadBalancingConfig}})},4213:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.FilterStackFactory=$.FilterStack=void 0;class ee{constructor(g){this.filters=g}sendMetadata(g){let $=g;for(let g=0;g<this.filters.length;g++)$=this.filters[g].sendMetadata($);return $}receiveMetadata(g){let $=g;for(let g=this.filters.length-1;g>=0;g--)$=this.filters[g].receiveMetadata($);return $}sendMessage(g){let $=g;for(let g=0;g<this.filters.length;g++)$=this.filters[g].sendMessage($);return $}receiveMessage(g){let $=g;for(let g=this.filters.length-1;g>=0;g--)$=this.filters[g].receiveMessage($);return $}receiveTrailers(g){let $=g;for(let g=this.filters.length-1;g>=0;g--)$=this.filters[g].receiveTrailers($);return $}push(g){this.filters.unshift(...g)}getFilters(){return this.filters}}$.FilterStack=ee;class ei{constructor(g){this.factories=g}push(g){this.factories.unshift(...g)}clone(){return new ei([...this.factories])}createFilter(){return new ee(this.factories.map(g=>g.createFilter()))}}$.FilterStackFactory=ei},81818:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.BaseFilter=void 0;class ee{async sendMetadata(g){return g}receiveMetadata(g){return g}async sendMessage(g){return g}async receiveMessage(g){return g}receiveTrailers(g){return g}}$.BaseFilter=ee},18304:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.getProxiedConnection=$.mapProxyName=void 0;let ei=ee(68200),er=ee(69238),en=ee(14755),es=ee(13685),eo=ee(24404),ep=ee(68200),eu=ee(72782),eh=ee(14717),em=ee(57310),ef="proxy";function eg(g){ep.trace(er.LogVerbosity.DEBUG,ef,g)}function ev(){let g,$="",ee="";if(process.env.grpc_proxy)ee="grpc_proxy",$=process.env.grpc_proxy;else if(process.env.https_proxy)ee="https_proxy",$=process.env.https_proxy;else{if(!process.env.http_proxy)return{};ee="http_proxy",$=process.env.http_proxy}try{g=new em.URL($)}catch(g){return(0,ei.log)(er.LogVerbosity.ERROR,`cannot parse value of "${ee}" env var`),{}}if("http:"!==g.protocol)return(0,ei.log)(er.LogVerbosity.ERROR,`"${g.protocol}" scheme not supported in proxy URI`),{};let en=null;g.username&&(g.password?((0,ei.log)(er.LogVerbosity.INFO,"userinfo found in proxy URI"),en=`${g.username}:${g.password}`):en=g.username);let es=g.hostname,eo=g.port;""===eo&&(eo="80");let ep={address:`${es}:${eo}`};return en&&(ep.creds=en),eg("Proxy server "+ep.address+" set by environment variable "+ee),ep}function ey(){let g=process.env.no_grpc_proxy,$="no_grpc_proxy";return(g||(g=process.env.no_proxy,$="no_proxy"),g)?(eg("No proxy server list set by environment variable "+$),g.split(",")):[]}function e_(g,$){var ee;let ei={target:g,extraOptions:{}};if((null!==(ee=$["grpc.enable_http_proxy"])&&void 0!==ee?ee:1)===0||"unix"===g.scheme)return ei;let er=ev();if(!er.address)return ei;let en=(0,eh.splitHostPort)(g.path);if(!en)return ei;let es=en.host;for(let $ of ey())if($===es)return eg("Not using proxy for target in no_proxy list: "+(0,eh.uriToString)(g)),ei;let eo={"grpc.http_connect_target":(0,eh.uriToString)(g)};return er.creds&&(eo["grpc.http_connect_creds"]=er.creds),{target:{scheme:"dns",path:er.address},extraOptions:eo}}function ew(g,$,ee){if(!("grpc.http_connect_target"in $))return Promise.resolve({});let ep=$["grpc.http_connect_target"],em=(0,eh.parseUri)(ep);if(null===em)return Promise.resolve({});let ef={method:"CONNECT",path:em.path},ev={Host:em.path};(0,eu.isTcpSubchannelAddress)(g)?(ef.host=g.host,ef.port=g.port):ef.socketPath=g.path,"grpc.http_connect_creds"in $&&(ev["Proxy-Authorization"]="Basic "+Buffer.from($["grpc.http_connect_creds"]).toString("base64")),ef.headers=ev;let ey=(0,eu.subchannelAddressToString)(g);return eg("Using proxy "+ey+" to connect to "+ef.path),new Promise((g,$)=>{let ep=es.request(ef);ep.once("connect",(es,eu,ev)=>{var e_;if(ep.removeAllListeners(),eu.removeAllListeners(),200===es.statusCode){if(eg("Successfully connected to "+ef.path+" through proxy "+ey),"secureContext"in ee){let ei=(0,en.getDefaultAuthority)(em),er=(0,eh.splitHostPort)(ei),es=null!==(e_=null==er?void 0:er.host)&&void 0!==e_?e_:ei,ep=eo.connect(Object.assign({host:es,servername:es,socket:eu},ee),()=>{eg("Successfully established a TLS connection to "+ef.path+" through proxy "+ey),g({socket:ep,realTarget:em})});ep.on("error",g=>{eg("Failed to establish a TLS connection to "+ef.path+" through proxy "+ey+" with error "+g.message),$()})}else eg("Successfully established a plaintext connection to "+ef.path+" through proxy "+ey),g({socket:eu,realTarget:em})}else(0,ei.log)(er.LogVerbosity.ERROR,"Failed to connect to "+ef.path+" through proxy "+ey+" with status "+es.statusCode),$()}),ep.once("error",g=>{ep.removeAllListeners(),(0,ei.log)(er.LogVerbosity.ERROR,"Failed to connect to proxy "+ey+" with error "+g.message),$()}),ep.end()})}$.mapProxyName=e_,$.getProxiedConnection=ew},16063:(g,$,ee)=>{"use strict";eN={value:!0},eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=eN=$.Rz=eN=eN=eN=eN=eN=eN=$.SF=$.K9=void 0;let ei=ee(68612);eN={enumerable:!0,get:function(){return ei.CallCredentials}};let er=ee(49914);eN={enumerable:!0,get:function(){return er.ChannelImplementation}};let en=ee(56702);eN={enumerable:!0,get:function(){return en.CompressionAlgorithms}};let es=ee(91360);eN={enumerable:!0,get:function(){return es.ConnectivityState}};let eo=ee(77021);eN={enumerable:!0,get:function(){return eo.ChannelCredentials}};let ep=ee(47307);eN={enumerable:!0,get:function(){return ep.Client}};let eu=ee(69238);eN={enumerable:!0,get:function(){return eu.LogVerbosity}},eN={enumerable:!0,get:function(){return eu.Status}},eN={enumerable:!0,get:function(){return eu.Propagate}};let eh=ee(68200),em=ee(47697);Object.defineProperty($,"Rz",{enumerable:!0,get:function(){return em.loadPackageDefinition}}),eN={enumerable:!0,get:function(){return em.makeClientConstructor}},eN={enumerable:!0,get:function(){return em.makeClientConstructor}};let ef=ee(32908);Object.defineProperty($,"SF",{enumerable:!0,get:function(){return ef.Metadata}});let eg=ee(92903);eN={enumerable:!0,get:function(){return eg.Server}};let ev=ee(62501);eN={enumerable:!0,get:function(){return ev.ServerCredentials}};let ey=ee(9929);eN={enumerable:!0,get:function(){return ey.StatusBuilder}},$.K9={combineChannelCredentials:(g,...$)=>$.reduce((g,$)=>g.compose($),g),combineCallCredentials:(g,...$)=>$.reduce((g,$)=>g.compose($),g),createInsecure:eo.ChannelCredentials.createInsecure,createSsl:eo.ChannelCredentials.createSsl,createFromSecureContext:eo.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:ei.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:ei.CallCredentials.createFromGoogleCredential,createEmpty:ei.CallCredentials.createEmpty};let e_=g=>g.close();eN=e_;let ew=(g,$,ee)=>g.waitForReady($,ee);eN=ew;let eS=(g,$)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};eN=eS;let eT=(g,$,ee)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};eN=eT;let eC=g=>{eh.setLogger(g)};eN=eC;let eE=g=>{eh.setLoggerVerbosity(g)};eN=eE;let eI=g=>ep.Client.prototype.getChannel.call(g);eN=eI;var eN,eD=ee(72158);eN={enumerable:!0,get:function(){return eD.ListenerBuilder}},eN={enumerable:!0,get:function(){return eD.RequesterBuilder}},eN={enumerable:!0,get:function(){return eD.InterceptingCall}},eN={enumerable:!0,get:function(){return eD.InterceptorConfigurationError}};var ek=ee(83316);eN={enumerable:!0,get:function(){return ek.getChannelzServiceDefinition}},eN={enumerable:!0,get:function(){return ek.getChannelzHandlers}};var eR=ee(1605);eN={enumerable:!0,get:function(){return eR.addAdminServicesToServer}};let eA=ee(86868);eN=eA;let eO=ee(84988),eP=ee(50864),eM=ee(96633),eL=ee(72190),eF=ee(19580),eV=ee(35683),eB=ee(83316),eU=ee(81513).i8;(()=>{eh.trace(eu.LogVerbosity.DEBUG,"index","Loading @grpc/grpc-js version "+eU),eO.setup(),eP.setup(),eM.setup(),eL.setup(),eF.setup(),eV.setup(),eB.setup()})()},35233:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.InternalChannel=void 0;let ei=ee(77021),er=ee(61839),en=ee(88364),es=ee(32939),eo=ee(69238),ep=ee(4213),eu=ee(69718),eh=ee(14755),em=ee(68200),ef=ee(41732),eg=ee(18304),ev=ee(14717),ey=ee(91360),e_=ee(83316),ew=ee(80439),eS=ee(50823),eT=ee(65700),eC=ee(60060),eE=ee(6614),eI=ee(97564),eN=ee(69609),eD=2147483647,ek=1e3,eR=18e5,eA=new Map,eO=16777216,eP=1048576;class eM extends eN.BaseSubchannelWrapper{constructor(g,$){super(g),this.channel=$,this.refCount=0,this.subchannelStateListener=(g,ee,ei,er)=>{$.throttleKeepalive(er)},g.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class eL{constructor(g,$,ee){var ew,eS,eT,eC,eN,eL,eF,eV;if(this.credentials=$,this.options=ee,this.connectivityState=ey.ConnectivityState.IDLE,this.currentPicker=new es.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new e_.ChannelzCallTracker,this.childrenTracker=new e_.ChannelzChildrenTracker,"string"!=typeof g)throw TypeError("Channel target must be a string");if(!($ instanceof ei.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(ee&&"object"!=typeof ee)throw TypeError("Channel options must be an object");this.originalTarget=g;let eB=(0,ev.parseUri)(g);if(null===eB)throw Error(`Could not parse target name "${g}"`);let eU=(0,eh.mapUriDefaultScheme)(eB);if(null===eU)throw Error(`Could not find a default scheme for target name "${g}"`);this.callRefTimer=setInterval(()=>{},eD),null===(eS=(ew=this.callRefTimer).unref)||void 0===eS||eS.call(ew),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new e_.ChannelzTrace,this.channelzRef=(0,e_.registerChannelzChannel)(g,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,eh.getDefaultAuthority)(eU);let ej=(0,eg.mapProxyName)(eU,ee);this.target=ej.target,this.options=Object.assign({},this.options,ej.extraOptions),this.subchannelPool=(0,en.getSubchannelPool)((null!==(eT=ee["grpc.use_local_subchannel_pool"])&&void 0!==eT?eT:0)===0),this.retryBufferTracker=new eI.MessageBufferTracker(null!==(eC=ee["grpc.retry_buffer_size"])&&void 0!==eC?eC:eO,null!==(eN=ee["grpc.per_rpc_retry_buffer_size"])&&void 0!==eN?eN:eP),this.keepaliveTime=null!==(eL=ee["grpc.keepalive_time_ms"])&&void 0!==eL?eL:-1,this.idleTimeoutMs=Math.max(null!==(eF=ee["grpc.client_idle_timeout_ms"])&&void 0!==eF?eF:eR,ek);let eq={createSubchannel:(g,$)=>{let ee=this.subchannelPool.getOrCreateSubchannel(this.target,g,Object.assign({},this.options,$),this.credentials);ee.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",ee.getChannelzRef());let ei=new eM(ee,this);return this.wrappedSubchannels.add(ei),ei},updateState:(g,$)=>{this.currentPicker=$;let ee=this.pickQueue.slice();for(let g of(this.pickQueue=[],this.callRefTimerUnref(),ee))g.doPick();this.updateState(g)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:g=>{this.channelzEnabled&&this.childrenTracker.refChild(g)},removeChannelzChild:g=>{this.channelzEnabled&&this.childrenTracker.unrefChild(g)}};this.resolvingLoadBalancer=new er.ResolvingLoadBalancer(this.target,eq,ee,(g,$)=>{g.retryThrottling?eA.set(this.getTarget(),new eI.RetryThrottler(g.retryThrottling.maxTokens,g.retryThrottling.tokenRatio,eA.get(this.getTarget()))):eA.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=$,this.currentResolutionError=null,process.nextTick(()=>{let g=this.configSelectionQueue;for(let $ of(this.configSelectionQueue=[],this.callRefTimerUnref(),g))$.getConfig();this.configSelectionQueue=[]})},g=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+g.code+' and details "'+g.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,eE.restrictControlPlaneStatusCode)(g.code,g.details)),{metadata:g.metadata}));let $=this.configSelectionQueue;for(let ee of(this.configSelectionQueue=[],this.callRefTimerUnref(),$))ee.reportResolverError(g)}),this.filterStackFactory=new ep.FilterStackFactory([new ef.MaxMessageSizeFilterFactory(this.options),new eu.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(ee,void 0,2));let ez=Error();(0,em.trace)(eo.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(eV=ez.stack)||void 0===eV?void 0:eV.substring(ez.stack.indexOf("\n")+1)))}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(g,$){(0,em.trace)(null!=$?$:eo.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,ev.uriToString)(this.target)+" "+g)}callRefTimerRef(){var g,$,ee,ei;(null===($=(g=this.callRefTimer).hasRef)||void 0===$?void 0:$.call(g))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(ei=(ee=this.callRefTimer).ref)||void 0===ei||ei.call(ee))}callRefTimerUnref(){var g,$;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===($=(g=this.callRefTimer).unref)||void 0===$||$.call(g))}removeConnectivityStateWatcher(g){let $=this.connectivityStateWatchers.findIndex($=>$===g);$>=0&&this.connectivityStateWatchers.splice($,1)}updateState(g){(0,em.trace)(eo.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,ev.uriToString)(this.target)+" "+ey.ConnectivityState[this.connectivityState]+" -> "+ey.ConnectivityState[g]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ey.ConnectivityState[g]),this.connectivityState=g;let $=this.connectivityStateWatchers.slice();for(let ee of $)g!==ee.currentState&&(ee.timer&&clearTimeout(ee.timer),this.removeConnectivityStateWatcher(ee),ee.callback());g!==ey.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(g){if(g>this.keepaliveTime)for(let $ of(this.keepaliveTime=g,this.wrappedSubchannels))$.throttleKeepalive(g)}removeWrappedSubchannel(g){this.wrappedSubchannels.delete(g)}doPick(g,$){return this.currentPicker.pick({metadata:g,extraPickInfo:$})}queueCallForPick(g){this.pickQueue.push(g),this.callRefTimerRef()}getConfig(g,$){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(g,$)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(g){this.configSelectionQueue.push(g),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(ey.ConnectivityState.IDLE),this.currentPicker=new es.QueuePicker(this.resolvingLoadBalancer)}maybeStartIdleTimer(){var g,$;0===this.callCount&&(this.idleTimer=setTimeout(()=>{this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()},this.idleTimeoutMs),null===($=(g=this.idleTimer).unref)||void 0===$||$.call(g))}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1,this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}onCallEnd(g){this.channelzEnabled&&(g.code===eo.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.maybeStartIdleTimer()}createLoadBalancingCall(g,$,ee,ei,er){let en=(0,eC.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+en+'] method="'+$+'"'),new ew.LoadBalancingCall(this,g,$,ee,ei,er,en)}createRetryingCall(g,$,ee,ei,er){let en=(0,eC.getNextCallNumber)();return this.trace("createRetryingCall ["+en+'] method="'+$+'"'),new eI.RetryingCall(this,g,$,ee,ei,er,en,this.retryBufferTracker,eA.get(this.getTarget()))}createInnerCall(g,$,ee,ei,er){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(g,$,ee,ei,er):this.createRetryingCall(g,$,ee,ei,er)}createResolvingCall(g,$,ee,ei,er){let en=(0,eC.getNextCallNumber)();this.trace("createResolvingCall ["+en+'] method="'+g+'", deadline='+(0,eS.deadlineToString)($));let es={deadline:$,flags:null!=er?er:eo.Propagate.DEFAULTS,host:null!=ee?ee:this.defaultAuthority,parentCall:ei},ep=new eT.ResolvingCall(this,g,es,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),en);return this.onCallStart(),ep.addStatusWatcher(g=>{this.onCallEnd(g)}),ep}close(){this.resolvingLoadBalancer.destroy(),this.updateState(ey.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.channelzEnabled&&(0,e_.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,ev.uriToString)(this.target)}getConnectivityState(g){let $=this.connectivityState;return g&&(this.resolvingLoadBalancer.exitIdle(),this.maybeStartIdleTimer()),$}watchConnectivityState(g,$,ee){if(this.connectivityState===ey.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let ei=null;if($!==1/0){let g=$ instanceof Date?$:new Date($),en=new Date;if($===-1/0||g<=en){process.nextTick(ee,Error("Deadline passed without connectivity state change"));return}ei=setTimeout(()=>{this.removeConnectivityStateWatcher(er),ee(Error("Deadline passed without connectivity state change"))},g.getTime()-en.getTime())}let er={currentState:g,callback:ee,timer:ei};this.connectivityStateWatchers.push(er)}getChannelzRef(){return this.channelzRef}createCall(g,$,ee,ei,er){if("string"!=typeof g)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof $||$ instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===ey.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(g,$,ee,ei,er)}}$.InternalChannel=eL},38390:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ChildLoadBalancerHandler=void 0;let ei=ee(77203),er=ee(91360),en="child_load_balancer_helper";class es{constructor(g){this.channelControlHelper=g,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(g){this.parent=g,this.child=null}createSubchannel(g,$){return this.parent.channelControlHelper.createSubchannel(g,$)}updateState(g,$){var ee;if(this.calledByPendingChild()){if(g===er.ConnectivityState.CONNECTING)return;null===(ee=this.parent.currentChild)||void 0===ee||ee.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(g,$)}requestReresolution(){var g;let $=null!==(g=this.parent.pendingChild)&&void 0!==g?g:this.parent.currentChild;this.child===$&&this.parent.channelControlHelper.requestReresolution()}setChild(g){this.child=g}addChannelzChild(g){this.parent.channelControlHelper.addChannelzChild(g)}removeChannelzChild(g){this.parent.channelControlHelper.removeChannelzChild(g)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(g,$){return g.getLoadBalancerName()!==$.getLoadBalancerName()}updateAddressList(g,$,ee){let er;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,$)){let g=new this.ChildPolicyHelper(this),ee=(0,ei.createLoadBalancer)($,g);g.setChild(ee),null===this.currentChild?(this.currentChild=ee,er=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=ee,er=this.pendingChild)}else er=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=$,er.updateAddressList(g,$,ee)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return en}}$.ChildLoadBalancerHandler=es},35683:(g,$,ee)=>{"use strict";var ei;Object.defineProperty($,"__esModule",{value:!0}),$.setup=$.OutlierDetectionLoadBalancer=$.OutlierDetectionLoadBalancingConfig=void 0;let er=ee(91360),en=ee(69238),es=ee(89589),eo=ee(86868),ep=ee(77203),eu=ee(38390),eh=ee(32939),em=ee(72782),ef=ee(69609),eg=ee(68200),ev="outlier_detection";function ey(g){eg.trace(en.LogVerbosity.DEBUG,ev,g)}let e_="outlier_detection",ew=(null!==(ei=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==ei?ei:"true")==="true",eS={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},eT={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function eC(g,$,ee,ei){if($ in g&&typeof g[$]!==ee){let er=ei?`${ei}.${$}`:$;throw Error(`outlier detection config ${er} parse error: expected ${ee}, got ${typeof g[$]}`)}}function eE(g,$,ee){let ei=ee?`${ee}.${$}`:$;if($ in g){if(!(0,es.isDuration)(g[$]))throw Error(`outlier detection config ${ei} parse error: expected Duration, got ${typeof g[$]}`);if(!(g[$].seconds>=0&&g[$].seconds<=315576e6&&g[$].nanos>=0&&g[$].nanos<=999999999))throw Error(`outlier detection config ${ei} parse error: values out of range for non-negative Duaration`)}}function eI(g,$,ee){let ei=ee?`${ee}.${$}`:$;if(eC(g,$,"number",ee),$ in g&&!(g[$]>=0&&g[$]<=100))throw Error(`outlier detection config ${ei} parse error: value out of range for percentage (0-100)`)}class eN{constructor(g,$,ee,ei,er,en,es){if(this.childPolicy=es,es.length>0&&"pick_first"===es[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=g?g:1e4,this.baseEjectionTimeMs=null!=$?$:3e4,this.maxEjectionTimeMs=null!=ee?ee:3e5,this.maxEjectionPercent=null!=ei?ei:10,this.successRateEjection=er?Object.assign(Object.assign({},eS),er):null,this.failurePercentageEjection=en?Object.assign(Object.assign({},eT),en):null}getLoadBalancerName(){return e_}toJsonObject(){return{interval:(0,es.msToDuration)(this.intervalMs),base_ejection_time:(0,es.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,es.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(g=>g.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(g){return new eN(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,g)}static createFromJson(g){var $;if(eE(g,"interval"),eE(g,"base_ejection_time"),eE(g,"max_ejection_time"),eI(g,"max_ejection_percent"),"success_rate_ejection"in g){if("object"!=typeof g.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");eC(g.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),eI(g.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),eC(g.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),eC(g.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in g){if("object"!=typeof g.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");eI(g.failure_percentage_ejection,"threshold","failure_percentage_ejection"),eI(g.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),eC(g.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),eC(g.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new eN(g.interval?(0,es.durationToMs)(g.interval):null,g.base_ejection_time?(0,es.durationToMs)(g.base_ejection_time):null,g.max_ejection_time?(0,es.durationToMs)(g.max_ejection_time):null,null!==($=g.max_ejection_percent)&&void 0!==$?$:null,g.success_rate_ejection,g.failure_percentage_ejection,g.child_policy.map(ep.validateLoadBalancingConfig))}}$.OutlierDetectionLoadBalancingConfig=eN;class eD extends ef.BaseSubchannelWrapper{constructor(g,$){super(g),this.mapEntry=$,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=g.getConnectivityState(),g.addConnectivityStateListener((g,$,ee,ei)=>{if(this.childSubchannelState=ee,!this.ejected)for(let g of this.stateListeners)g(this,$,ee,ei)})}getConnectivityState(){return this.ejected?er.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(g){this.stateListeners.push(g)}removeConnectivityStateListener(g){let $=this.stateListeners.indexOf(g);$>-1&&this.stateListeners.splice($,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let g=this.mapEntry.subchannelWrappers.indexOf(this);g>=0&&this.mapEntry.subchannelWrappers.splice(g,1)}}eject(){for(let g of(this.ejected=!0,this.stateListeners))g(this,this.childSubchannelState,er.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let g of(this.ejected=!1,this.stateListeners))g(this,er.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function ek(){return{success:0,failure:0}}class eR{constructor(){this.activeBucket=ek(),this.inactiveBucket=ek()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=ek()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class eA{constructor(g,$){this.wrappedPicker=g,this.countCalls=$}pick(g){let $=this.wrappedPicker.pick(g);if($.pickResultType!==eh.PickResultType.COMPLETE)return $;{let g=$.subchannel,ee=g.getMapEntry();if(!ee)return Object.assign(Object.assign({},$),{subchannel:g.getWrappedSubchannel()});{let ei=$.onCallEnded;return this.countCalls&&(ei=g=>{var ei;g===en.Status.OK?ee.counter.addSuccess():ee.counter.addFailure(),null===(ei=$.onCallEnded)||void 0===ei||ei.call($,g)}),Object.assign(Object.assign({},$),{subchannel:g.getWrappedSubchannel(),onCallEnded:ei})}}}}class eO{constructor(g){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new eu.ChildLoadBalancerHandler((0,eo.createChildChannelControlHelper)(g,{createSubchannel:($,ee)=>{let ei=g.createSubchannel($,ee),er=this.addressMap.get((0,em.subchannelAddressToString)($)),en=new eD(ei,er);return(null==er?void 0:er.currentEjectionTimestamp)!==null&&en.eject(),null==er||er.subchannelWrappers.push(en),en},updateState:($,ee)=>{$===er.ConnectivityState.READY?g.updateState($,new eA(ee,this.isCountingEnabled())):g.updateState($,ee)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let g=0;for(let $ of this.addressMap.values())null!==$.currentEjectionTimestamp&&(g+=1);return 100*g/this.addressMap.size}runSuccessRateCheck(g){if(!this.latestConfig)return;let $=this.latestConfig.getSuccessRateEjectionConfig();if(!$)return;ey("Running success rate check");let ee=$.request_volume,ei=0,er=[];for(let[g,$]of this.addressMap){let en=$.counter.getLastSuccesses(),es=$.counter.getLastFailures();ey("Stats for "+g+": successes="+en+" failures="+es+" targetRequestVolume="+ee),en+es>=ee&&(ei+=1,er.push(en/(en+es)))}if(ey("Found "+ei+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+er+"]"),ei<$.minimum_hosts)return;let en=er.reduce((g,$)=>g+$)/er.length,es=0;for(let g of er){let $=g-en;es+=$*$}let eo=es/er.length,ep=Math.sqrt(eo),eu=en-ep*($.stdev_factor/1e3);for(let[ei,er]of(ey("stdev="+ep+" ejectionThreshold="+eu),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let en=er.counter.getLastSuccesses(),es=er.counter.getLastFailures();if(en+es<ee)continue;let eo=en/(en+es);if(ey("Checking candidate "+ei+" successRate="+eo),eo<eu){let ee=100*Math.random();ey("Candidate "+ei+" randomNumber="+ee+" enforcement_percentage="+$.enforcement_percentage),ee<$.enforcement_percentage&&(ey("Ejecting candidate "+ei),this.eject(er,g))}}}runFailurePercentageCheck(g){if(!this.latestConfig)return;let $=this.latestConfig.getFailurePercentageEjectionConfig();if(!$)return;ey("Running failure percentage check. threshold="+$.threshold+" request volume threshold="+$.request_volume);let ee=0;for(let g of this.addressMap.values()){let ei=g.counter.getLastSuccesses(),er=g.counter.getLastFailures();ei+er>=$.request_volume&&(ee+=1)}if(!(ee<$.minimum_hosts))for(let[ee,ei]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let er=ei.counter.getLastSuccesses(),en=ei.counter.getLastFailures();if(ey("Candidate successes="+er+" failures="+en),er+en<$.request_volume)continue;let es=100*en/(en+er);if(es>$.threshold){let er=100*Math.random();ey("Candidate "+ee+" randomNumber="+er+" enforcement_percentage="+$.enforcement_percentage),er<$.enforcement_percentage&&(ey("Ejecting candidate "+ee),this.eject(ei,g))}}}eject(g,$){for(let $ of(g.currentEjectionTimestamp=new Date,g.ejectionTimeMultiplier+=1,g.subchannelWrappers))$.eject()}uneject(g){for(let $ of(g.currentEjectionTimestamp=null,g.subchannelWrappers))$.uneject()}switchAllBuckets(){for(let g of this.addressMap.values())g.counter.switchBuckets()}startTimer(g){var $,ee;this.ejectionTimer=setTimeout(()=>this.runChecks(),g),null===(ee=($=this.ejectionTimer).unref)||void 0===ee||ee.call($)}runChecks(){let g=new Date;if(ey("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[$,ee]of(this.timerStartTime=g,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(g),this.runFailurePercentageCheck(g),this.addressMap.entries()))if(null===ee.currentEjectionTimestamp)ee.ejectionTimeMultiplier>0&&(ee.ejectionTimeMultiplier-=1);else{let g=this.latestConfig.getBaseEjectionTimeMs(),ei=this.latestConfig.getMaxEjectionTimeMs(),er=new Date(ee.currentEjectionTimestamp.getTime());er.setMilliseconds(er.getMilliseconds()+Math.min(g*ee.ejectionTimeMultiplier,Math.max(g,ei))),er<new Date&&(ey("Unejecting "+$),this.uneject(ee))}}updateAddressList(g,$,ee){if(!($ instanceof eN))return;let ei=new Set;for(let $ of g)ei.add((0,em.subchannelAddressToString)($));for(let g of ei)this.addressMap.has(g)||(ey("Adding map entry for "+g),this.addressMap.set(g,{counter:new eR,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let g of this.addressMap.keys())ei.has(g)||(ey("Removing map entry for "+g),this.addressMap.delete(g));let er=(0,ep.getFirstUsableConfig)($.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(g,er,ee),$.getSuccessRateEjectionConfig()||$.getFailurePercentageEjectionConfig()){if(this.timerStartTime){ey("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let g=$.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(g)}else ey("Starting new timer"),this.timerStartTime=new Date,this.startTimer($.getIntervalMs()),this.switchAllBuckets()}else for(let g of(ey("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(g),g.ejectionTimeMultiplier=0;this.latestConfig=$}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return e_}}function eP(){ew&&(0,eo.registerLoadBalancerType)(e_,eO,eN)}$.OutlierDetectionLoadBalancer=eO,$.setup=eP},72190:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setup=$.PickFirstLoadBalancer=$.shuffled=$.PickFirstLoadBalancingConfig=void 0;let ei=ee(77203),er=ee(91360),en=ee(32939),es=ee(68200),eo=ee(69238),ep="pick_first";function eu(g){es.trace(eo.LogVerbosity.DEBUG,ep,g)}let eh="pick_first",em=250;class ef{constructor(g){this.shuffleAddressList=g}getLoadBalancerName(){return eh}toJsonObject(){return{[eh]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(g){if("shuffleAddressList"in g&&"boolean"!=typeof g.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new ef(!0===g.shuffleAddressList)}}$.PickFirstLoadBalancingConfig=ef;class eg{constructor(g){this.subchannel=g}pick(g){return{pickResultType:en.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function ev(g){let $=g.slice();for(let g=$.length-1;g>1;g--){let ee=Math.floor(Math.random()*(g+1)),ei=$[g];$[g]=$[ee],$[ee]=ei}return $}$.shuffled=ev;class ey{constructor(g){this.channelControlHelper=g,this.children=[],this.currentState=er.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(g,$,ee)=>{this.onSubchannelStateUpdate(g,$,ee)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(g=>g.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(er.ConnectivityState.READY,new eg(this.currentPick)):0===this.children.length?this.updateState(er.ConnectivityState.IDLE,new en.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(er.ConnectivityState.TRANSIENT_FAILURE,new en.UnavailablePicker):this.updateState(er.ConnectivityState.CONNECTING,new en.QueuePicker(this))}maybeEnterStickyTransientFailureMode(){if(!this.stickyTransientFailureMode&&this.allChildrenHaveReportedTF()){for(let{subchannel:g}of(this.stickyTransientFailureMode=!0,this.channelControlHelper.requestReresolution(),this.children))g.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let g=this.currentPick;this.currentPick=null,g.unref(),g.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(g.getChannelzRef())}}onSubchannelStateUpdate(g,$,ee){var ei;if(null===(ei=this.currentPick)||void 0===ei?void 0:ei.realSubchannelEquals(g)){ee!==er.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.channelControlHelper.requestReresolution());return}for(let[$,ei]of this.children.entries())if(g.realSubchannelEquals(ei.subchannel)){ee===er.ConnectivityState.READY&&this.pickSubchannel(ei.subchannel),ee===er.ConnectivityState.TRANSIENT_FAILURE&&(ei.hasReportedTransientFailure=!0,this.maybeEnterStickyTransientFailureMode(),$===this.currentSubchannelIndex&&this.startNextSubchannelConnecting($+1)),ei.subchannel.startConnecting();return}}startNextSubchannelConnecting(g){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels&&!this.stickyTransientFailureMode){for(let[$,ee]of this.children.entries())if($>=g){let g=ee.subchannel.getConnectivityState();if(g===er.ConnectivityState.IDLE||g===er.ConnectivityState.CONNECTING){this.startConnecting($);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(g){var $,ee;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=g,this.children[g].subchannel.getConnectivityState()===er.ConnectivityState.IDLE&&(eu("Start connecting to subchannel with address "+this.children[g].subchannel.getAddress()),process.nextTick(()=>{var $;null===($=this.children[g])||void 0===$||$.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(ee=($=setTimeout(()=>{this.startNextSubchannelConnecting(g+1)},em)).unref)||void 0===ee?void 0:ee.call($)}pickSubchannel(g){this.currentPick&&g.realSubchannelEquals(this.currentPick)||(eu("Pick subchannel with address "+g.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=g,g.ref(),this.channelControlHelper.addChannelzChild(g.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(g,$){eu(er.ConnectivityState[this.currentState]+" -> "+er.ConnectivityState[g]),this.currentState=g,this.channelControlHelper.updateState(g,$)}resetSubchannelList(){for(let g of this.children)g.subchannel!==this.currentPick&&g.subchannel.removeConnectivityStateListener(this.subchannelStateListener),g.subchannel.unref(),this.channelControlHelper.removeChannelzChild(g.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1}updateAddressList(g,$){if(!($ instanceof ef))return;$.getShuffleAddressList()&&(g=ev(g));let ee=g.map(g=>({subchannel:this.channelControlHelper.createSubchannel(g,{}),hasReportedTransientFailure:!1}));for(let{subchannel:g}of ee)g.ref(),this.channelControlHelper.addChannelzChild(g.getChannelzRef());for(let{subchannel:g}of(this.resetSubchannelList(),this.children=ee,this.children))if(g.addConnectivityStateListener(this.subchannelStateListener),g.getConnectivityState()===er.ConnectivityState.READY){this.pickSubchannel(g);return}for(let g of this.children)g.subchannel.getConnectivityState()===er.ConnectivityState.TRANSIENT_FAILURE&&(g.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return eh}}function e_(){(0,ei.registerLoadBalancerType)(eh,ey,ef),(0,ei.registerDefaultLoadBalancerType)(eh)}$.PickFirstLoadBalancer=ey,$.setup=e_},19580:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setup=$.RoundRobinLoadBalancer=void 0;let ei=ee(77203),er=ee(91360),en=ee(32939),es=ee(72782),eo=ee(68200),ep=ee(69238),eu="round_robin";function eh(g){eo.trace(ep.LogVerbosity.DEBUG,eu,g)}let em="round_robin";class ef{getLoadBalancerName(){return em}constructor(){}toJsonObject(){return{[em]:{}}}static createFromJson(g){return new ef}}class eg{constructor(g,$=0){this.subchannelList=g,this.nextIndex=$}pick(g){let $=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:en.PickResultType.COMPLETE,subchannel:$,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class ev{constructor(g){this.channelControlHelper=g,this.subchannels=[],this.currentState=er.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateListener=(g,$,ee)=>{this.calculateAndUpdateState(),(ee===er.ConnectivityState.TRANSIENT_FAILURE||ee===er.ConnectivityState.IDLE)&&(this.channelControlHelper.requestReresolution(),g.startConnecting())}}countSubchannelsWithState(g){return this.subchannels.filter($=>$.getConnectivityState()===g).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(er.ConnectivityState.READY)>0){let g=this.subchannels.filter(g=>g.getConnectivityState()===er.ConnectivityState.READY),$=0;null!==this.currentReadyPicker&&($=g.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&($=0),this.updateState(er.ConnectivityState.READY,new eg(g,$))}else this.countSubchannelsWithState(er.ConnectivityState.CONNECTING)>0?this.updateState(er.ConnectivityState.CONNECTING,new en.QueuePicker(this)):this.countSubchannelsWithState(er.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(er.ConnectivityState.TRANSIENT_FAILURE,new en.UnavailablePicker):this.updateState(er.ConnectivityState.IDLE,new en.QueuePicker(this))}updateState(g,$){eh(er.ConnectivityState[this.currentState]+" -> "+er.ConnectivityState[g]),g===er.ConnectivityState.READY?this.currentReadyPicker=$:this.currentReadyPicker=null,this.currentState=g,this.channelControlHelper.updateState(g,$)}resetSubchannelList(){for(let g of this.subchannels)g.removeConnectivityStateListener(this.subchannelStateListener),g.unref(),this.channelControlHelper.removeChannelzChild(g.getChannelzRef());this.subchannels=[]}updateAddressList(g,$){for(let $ of(this.resetSubchannelList(),eh("Connect to address list "+g.map(g=>(0,es.subchannelAddressToString)(g))),this.subchannels=g.map(g=>this.channelControlHelper.createSubchannel(g,{})),this.subchannels)){$.ref(),$.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild($.getChannelzRef());let g=$.getConnectivityState();(g===er.ConnectivityState.IDLE||g===er.ConnectivityState.TRANSIENT_FAILURE)&&$.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let g of this.subchannels)g.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return em}}function ey(){(0,ei.registerLoadBalancerType)(em,ev,ef)}$.RoundRobinLoadBalancer=ev,$.setup=ey},77203:(g,$)=>{"use strict";function ee(g,$){var ee,ei,er,en,es,eo,ep,eu,eh,em;return{createSubchannel:null!==(ei=null===(ee=$.createSubchannel)||void 0===ee?void 0:ee.bind($))&&void 0!==ei?ei:g.createSubchannel.bind(g),updateState:null!==(en=null===(er=$.updateState)||void 0===er?void 0:er.bind($))&&void 0!==en?en:g.updateState.bind(g),requestReresolution:null!==(eo=null===(es=$.requestReresolution)||void 0===es?void 0:es.bind($))&&void 0!==eo?eo:g.requestReresolution.bind(g),addChannelzChild:null!==(eu=null===(ep=$.addChannelzChild)||void 0===ep?void 0:ep.bind($))&&void 0!==eu?eu:g.addChannelzChild.bind(g),removeChannelzChild:null!==(em=null===(eh=$.removeChannelzChild)||void 0===eh?void 0:eh.bind($))&&void 0!==em?em:g.removeChannelzChild.bind(g)}}Object.defineProperty($,"__esModule",{value:!0}),$.validateLoadBalancingConfig=$.getFirstUsableConfig=$.isLoadBalancerNameRegistered=$.createLoadBalancer=$.registerDefaultLoadBalancerType=$.registerLoadBalancerType=$.createChildChannelControlHelper=void 0,$.createChildChannelControlHelper=ee;let ei={},er=null;function en(g,$,ee){ei[g]={LoadBalancer:$,LoadBalancingConfig:ee}}function es(g){er=g}function eo(g,$){let ee=g.getLoadBalancerName();return ee in ei?new ei[ee].LoadBalancer($):null}function ep(g){return g in ei}function eu(g,$=!1){for(let $ of g)if($.getLoadBalancerName() in ei)return $;return $&&er?new ei[er].LoadBalancingConfig:null}function eh(g){if(!(null!==g&&"object"==typeof g))throw Error("Load balancing config must be an object");let $=Object.keys(g);if(1!==$.length)throw Error("Provided load balancing config has multiple conflicting entries");let ee=$[0];if(ee in ei)return ei[ee].LoadBalancingConfig.createFromJson(g[ee]);throw Error(`Unrecognized load balancing config name ${ee}`)}$.registerLoadBalancerType=en,$.registerDefaultLoadBalancerType=es,$.createLoadBalancer=eo,$.isLoadBalancerNameRegistered=ep,$.getFirstUsableConfig=eu,$.validateLoadBalancingConfig=eh},80439:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.LoadBalancingCall=void 0;let ei=ee(91360),er=ee(69238),en=ee(50823),es=ee(32908),eo=ee(32939),ep=ee(14717),eu=ee(68200),eh=ee(6614),em=ee(85158),ef="load_balancing_call";class eg{constructor(g,$,ee,ei,er,en,es){var eo,eu;this.channel=g,this.callConfig=$,this.methodName=ee,this.host=ei,this.credentials=er,this.deadline=en,this.callNumber=es,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let eh=this.methodName.split("/"),em="";eh.length>=2&&(em=eh[1]);let ef=null!==(eu=null===(eo=(0,ep.splitHostPort)(this.host))||void 0===eo?void 0:eo.host)&&void 0!==eu?eu:"localhost";this.serviceUrl=`https://${ef}/${em}`}trace(g){eu.trace(er.LogVerbosity.DEBUG,ef,"["+this.callNumber+"] "+g)}outputStatus(g,$){var ee,ei;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+g.code+' details="'+g.details+'"');let er=Object.assign(Object.assign({},g),{progress:$});null===(ee=this.listener)||void 0===ee||ee.onReceiveStatus(er),null===(ei=this.onCallEnded)||void 0===ei||ei.call(this,er.code)}}doPick(){var g,$;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let ee=this.channel.doPick(this.metadata,this.callConfig.pickInformation),ep=ee.subchannel?"("+ee.subchannel.getChannelzRef().id+") "+ee.subchannel.getAddress():""+ee.subchannel;switch(this.trace("Pick result: "+eo.PickResultType[ee.pickResultType]+" subchannel: "+ep+" status: "+(null===(g=ee.status)||void 0===g?void 0:g.code)+" "+(null===($=ee.status)||void 0===$?void 0:$.details)),ee.pickResultType){case eo.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(g=>{var $,eo,eu;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let eh=this.metadata.clone();if(eh.merge(g),eh.get("authorization").length>1&&this.outputStatus({code:er.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new es.Metadata},"PROCESSED"),ee.subchannel.getConnectivityState()!==ei.ConnectivityState.READY){this.trace("Picked subchannel "+ep+" has state "+ei.ConnectivityState[ee.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&eh.set("grpc-timeout",(0,en.getDeadlineTimeoutString)(this.deadline));try{this.child=ee.subchannel.getRealSubchannel().createCall(eh,this.host,this.methodName,{onReceiveMetadata:g=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(g)},onReceiveMessage:g=>{this.trace("Received message"),this.listener.onReceiveMessage(g)},onReceiveStatus:g=>{this.trace("Received status"),g.rstCode===em.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(g,"REFUSED"):this.outputStatus(g,"PROCESSED")}})}catch(g){this.trace("Failed to start call on picked subchannel "+ep+" with error "+g.message),this.outputStatus({code:er.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+g.message,metadata:new es.Metadata},"NOT_STARTED");return}null===(eo=($=this.callConfig).onCommitted)||void 0===eo||eo.call($),null===(eu=ee.onCallStarted)||void 0===eu||eu.call(ee),this.onCallEnded=ee.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},g=>{let{code:$,details:ee}=(0,eh.restrictControlPlaneStatusCode)("number"==typeof g.code?g.code:er.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${g.message}`);this.outputStatus({code:$,details:ee,metadata:new es.Metadata},"PROCESSED")});break;case eo.PickResultType.DROP:let{code:eu,details:ef}=(0,eh.restrictControlPlaneStatusCode)(ee.status.code,ee.status.details);setImmediate(()=>{this.outputStatus({code:eu,details:ef,metadata:ee.status.metadata},"DROP")});break;case eo.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:g,details:$}=(0,eh.restrictControlPlaneStatusCode)(ee.status.code,ee.status.details);setImmediate(()=>{this.outputStatus({code:g,details:$,metadata:ee.status.metadata},"PROCESSED")})}break;case eo.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(g,$){var ee;this.trace("cancelWithStatus code: "+g+' details: "'+$+'"'),null===(ee=this.child)||void 0===ee||ee.cancelWithStatus(g,$),this.outputStatus({code:g,details:$,metadata:new es.Metadata},"PROCESSED")}getPeer(){var g,$;return null!==($=null===(g=this.child)||void 0===g?void 0:g.getPeer())&&void 0!==$?$:this.channel.getTarget()}start(g,$){this.trace("start called"),this.listener=$,this.metadata=g,this.doPick()}sendMessageWithContext(g,$){this.trace("write() called with message of length "+$.length),this.child?this.child.sendMessageWithContext(g,$):this.pendingMessage={context:g,message:$}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(g){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}$.LoadBalancingCall=eg},68200:(g,$,ee)=>{"use strict";var ei,er,en,es;Object.defineProperty($,"__esModule",{value:!0}),$.isTracerEnabled=$.trace=$.log=$.setLoggerVerbosity=$.setLogger=$.getLogger=void 0;let eo=ee(69238),ep={error:(g,...$)=>{console.error("E "+g,...$)},info:(g,...$)=>{console.error("I "+g,...$)},debug:(g,...$)=>{console.error("D "+g,...$)}},eu=ep,eh=eo.LogVerbosity.ERROR,em=null!==(er=null!==(ei=process.env.GRPC_NODE_VERBOSITY)&&void 0!==ei?ei:process.env.GRPC_VERBOSITY)&&void 0!==er?er:"";switch(em.toUpperCase()){case"DEBUG":eh=eo.LogVerbosity.DEBUG;break;case"INFO":eh=eo.LogVerbosity.INFO;break;case"ERROR":eh=eo.LogVerbosity.ERROR;break;case"NONE":eh=eo.LogVerbosity.NONE}let ef=()=>eu;$.getLogger=ef;let eg=g=>{eu=g};$.setLogger=eg;let ev=g=>{eh=g};$.setLoggerVerbosity=ev;let ey=(g,...$)=>{let ee;if(g>=eh){switch(g){case eo.LogVerbosity.DEBUG:ee=eu.debug;break;case eo.LogVerbosity.INFO:ee=eu.info;break;case eo.LogVerbosity.ERROR:ee=eu.error}ee||(ee=eu.error),ee&&ee.bind(eu)(...$)}};$.log=ey;let e_=null!==(es=null!==(en=process.env.GRPC_NODE_TRACE)&&void 0!==en?en:process.env.GRPC_TRACE)&&void 0!==es?es:"",ew=new Set,eS=new Set;for(let g of e_.split(","))g.startsWith("-")?eS.add(g.substring(1)):ew.add(g);let eT=ew.has("all");function eC(g,ee,ei){eE(ee)&&(0,$.log)(g,new Date().toISOString()+" | "+ee+" | "+ei)}function eE(g){return!eS.has(g)&&(eT||ew.has(g))}$.trace=eC,$.isTracerEnabled=eE},47697:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.loadPackageDefinition=$.makeClientConstructor=void 0;let ei=ee(47307),er={unary:ei.Client.prototype.makeUnaryRequest,server_stream:ei.Client.prototype.makeServerStreamRequest,client_stream:ei.Client.prototype.makeClientStreamRequest,bidi:ei.Client.prototype.makeBidiStreamRequest};function en(g){return["__proto__","prototype","constructor"].includes(g)}function es(g,$,ee){ee||(ee={});class es extends ei.Client{}return Object.keys(g).forEach($=>{let ee;if(en($))return;let ei=g[$];if("string"==typeof $&&"$"===$.charAt(0))throw Error("Method names cannot start with $");ee=ei.requestStream?ei.responseStream?"bidi":"client_stream":ei.responseStream?"server_stream":"unary";let ep=ei.requestSerialize,eu=ei.responseDeserialize,eh=eo(er[ee],ei.path,ep,eu);es.prototype[$]=eh,Object.assign(es.prototype[$],ei),ei.originalName&&!en(ei.originalName)&&(es.prototype[ei.originalName]=es.prototype[$])}),es.service=g,es.serviceName=$,es}function eo(g,$,ee,ei){return function(...er){return g.call(this,$,ee,ei,...er)}}function ep(g){return"format"in g}function eu(g){let $={};for(let ee in g)if(Object.prototype.hasOwnProperty.call(g,ee)){let ei=g[ee],er=ee.split(".");if(er.some(g=>en(g)))continue;let eo=er[er.length-1],eu=$;for(let g of er.slice(0,-1))eu[g]||(eu[g]={}),eu=eu[g];ep(ei)?eu[eo]=ei:eu[eo]=es(ei,eo,{})}return $}$.makeClientConstructor=es,$.loadPackageDefinition=eu},41732:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.MaxMessageSizeFilterFactory=$.MaxMessageSizeFilter=void 0;let ei=ee(81818),er=ee(69238),en=ee(32908);class es extends ei.BaseFilter{constructor(g){super(),this.maxSendMessageSize=er.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=er.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in g&&(this.maxSendMessageSize=g["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in g&&(this.maxReceiveMessageSize=g["grpc.max_receive_message_length"])}async sendMessage(g){if(-1===this.maxSendMessageSize)return g;{let $=await g;if(!($.message.length>this.maxSendMessageSize))return $;throw{code:er.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${$.message.length} vs. ${this.maxSendMessageSize})`,metadata:new en.Metadata}}}async receiveMessage(g){if(-1===this.maxReceiveMessageSize)return g;{let $=await g;if(!($.length>this.maxReceiveMessageSize))return $;throw{code:er.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${$.length} vs. ${this.maxReceiveMessageSize})`,metadata:new en.Metadata}}}}$.MaxMessageSizeFilter=es;class eo{constructor(g){this.options=g}createFilter(){return new es(this.options)}}$.MaxMessageSizeFilterFactory=eo},32908:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;let ei=ee(68200),er=ee(69238),en=ee(9006),es=/^[0-9a-z_.-]+$/,eo=/^[ -~]*$/;function ep(g){return es.test(g)}function eu(g){return eo.test(g)}function eh(g){return g.endsWith("-bin")}function em(g){return!g.startsWith("grpc-")}function ef(g){return g.toLowerCase()}function eg(g,$){if(!ep(g))throw Error('Metadata key "'+g+'" contains illegal characters');if(null!=$){if(eh(g)){if(!Buffer.isBuffer($))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer($))throw Error("keys that don't end with '-bin' must have String values");if(!eu($))throw Error('Metadata string value "'+$+'" contains illegal characters')}}}class ev{constructor(g={}){this.internalRepr=new Map,this.options=g}set(g,$){eg(g=ef(g),$),this.internalRepr.set(g,[$])}add(g,$){eg(g=ef(g),$);let ee=this.internalRepr.get(g);void 0===ee?this.internalRepr.set(g,[$]):ee.push($)}remove(g){g=ef(g),this.internalRepr.delete(g)}get(g){return g=ef(g),this.internalRepr.get(g)||[]}getMap(){let g={};for(let[$,ee]of this.internalRepr)if(ee.length>0){let ei=ee[0];g[$]=Buffer.isBuffer(ei)?Buffer.from(ei):ei}return g}clone(){let g=new ev(this.options),$=g.internalRepr;for(let[g,ee]of this.internalRepr){let ei=ee.map(g=>Buffer.isBuffer(g)?Buffer.from(g):g);$.set(g,ei)}return g}merge(g){for(let[$,ee]of g.internalRepr){let g=(this.internalRepr.get($)||[]).concat(ee);this.internalRepr.set($,g)}}setOptions(g){this.options=g}getOptions(){return this.options}toHttp2Headers(){let g={};for(let[$,ee]of this.internalRepr)g[$]=ee.map(ey);return g}toJSON(){let g={};for(let[$,ee]of this.internalRepr)g[$]=ee;return g}static fromHttp2Headers(g){let $=new ev;for(let ee of Object.keys(g)){if(":"===ee.charAt(0))continue;let es=g[ee];try{eh(ee)?Array.isArray(es)?es.forEach(g=>{$.add(ee,Buffer.from(g,"base64"))}):void 0!==es&&(em(ee)?es.split(",").forEach(g=>{$.add(ee,Buffer.from(g.trim(),"base64"))}):$.add(ee,Buffer.from(es,"base64"))):Array.isArray(es)?es.forEach(g=>{$.add(ee,g)}):void 0!==es&&$.add(ee,es)}catch($){let g=`Failed to add metadata entry ${ee}: ${es}. ${(0,en.getErrorMessage)($)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,ei.log)(er.LogVerbosity.ERROR,g)}}return $}}$.Metadata=ev;let ey=g=>Buffer.isBuffer(g)?g.toString("base64"):g},32939:(g,$,ee)=>{"use strict";var ei;Object.defineProperty($,"__esModule",{value:!0}),$.QueuePicker=$.UnavailablePicker=$.PickResultType=void 0;let er=ee(32908),en=ee(69238);!function(g){g[g.COMPLETE=0]="COMPLETE",g[g.QUEUE=1]="QUEUE",g[g.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",g[g.DROP=3]="DROP"}(ei||($.PickResultType=ei={}));class es{constructor(g){void 0!==g?this.status=g:this.status={code:en.Status.UNAVAILABLE,details:"No connection established",metadata:new er.Metadata}}pick(g){return{pickResultType:ei.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}$.UnavailablePicker=es;class eo{constructor(g){this.loadBalancer=g,this.calledExitIdle=!1}pick(g){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:ei.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}$.QueuePicker=eo},84988:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setup=void 0;let ei=ee(14755),er=ee(9523),en=ee(73837),es=ee(45914),eo=ee(69238),ep=ee(32908),eu=ee(68200),eh=ee(69238),em=ee(14717),ef=ee(41808),eg=ee(77257),ev="dns_resolver";function ey(g){eu.trace(eh.LogVerbosity.DEBUG,ev,g)}let e_=443,ew=3e4,eS=en.promisify(er.resolveTxt),eT=en.promisify(er.lookup);function eC(...g){let $=[];for(let ee=0;ee<Math.max.apply(null,g.map(g=>g.length));ee++)for(let ei of g)ee<ei.length&&$.push(ei[ee]);return $}class eE{constructor(g,$,ee){var ei,er,en;this.target=g,this.listener=$,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,ey("Resolver constructed for target "+(0,em.uriToString)(g));let es=(0,em.splitHostPort)(g.path);null===es?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,ef.isIPv4)(es.host)||(0,ef.isIPv6)(es.host)?(this.ipResult=[{host:es.host,port:null!==(ei=es.port)&&void 0!==ei?ei:e_}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=es.host,this.port=null!==(er=es.port)&&void 0!==er?er:e_),this.percentage=100*Math.random(),1===ee["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:eo.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,em.uriToString)(this.target)}`,metadata:new ep.Metadata};let eu={initialDelay:ee["grpc.initial_reconnect_backoff_ms"],maxDelay:ee["grpc.max_reconnect_backoff_ms"]};this.backoff=new eg.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},eu),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(en=ee["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==en?en:ew,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){ey("Returning IP address for target "+(0,em.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)ey("Failed to parse DNS address "+(0,em.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:eo.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,em.uriToString)(this.target)}`,metadata:new ep.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;ey("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let g=this.dnsHostname;this.pendingLookupPromise=eT(g,{all:!0}),this.pendingLookupPromise.then(g=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let $=g.filter(g=>4===g.family),ee=g.filter(g=>6===g.family);this.latestLookupResult=eC(ee,$).map(g=>({host:g.address,port:+this.port}));let ei="["+this.latestLookupResult.map(g=>g.host+":"+g.port).join(",")+"]";if(ey("Resolved addresses for target "+(0,em.uriToString)(this.target)+": "+ei),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},g=>{null!==this.pendingLookupPromise&&(ey("Resolution error for target "+(0,em.uriToString)(this.target)+": "+g.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=eS(g),this.pendingTxtPromise.then(g=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,es.extractAndSelectServiceConfig)(g,this.percentage)}catch(g){this.latestServiceConfigError={code:eo.Status.UNAVAILABLE,details:`Parsing service config failed with error ${g.message}`,metadata:new ep.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},g=>{}))}}startNextResolutionTimer(){var g,$;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===($=(g=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===$?void 0:$.call(g),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?ey('resolution update delayed by "min time between resolutions" rate limit'):ey("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null}static getDefaultAuthority(g){return g.path}}function eI(){(0,ei.registerResolver)("dns",eE),(0,ei.registerDefaultScheme)("dns")}$.setup=eI},96633:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setup=void 0;let ei=ee(41808),er=ee(69238),en=ee(32908),es=ee(14755),eo=ee(14717),ep=ee(68200),eu="ip_resolver";function eh(g){ep.trace(er.LogVerbosity.DEBUG,eu,g)}let em="ipv4",ef="ipv6",eg=443;class ev{constructor(g,$,ee){var es;this.listener=$,this.addresses=[],this.error=null,eh("Resolver constructed for target "+(0,eo.uriToString)(g));let ep=[];if(!(g.scheme===em||g.scheme===ef)){this.error={code:er.Status.UNAVAILABLE,details:`Unrecognized scheme ${g.scheme} in IP resolver`,metadata:new en.Metadata};return}let eu=g.path.split(",");for(let $ of eu){let ee=(0,eo.splitHostPort)($);if(null===ee||g.scheme===em&&!(0,ei.isIPv4)(ee.host)||g.scheme===ef&&!(0,ei.isIPv6)(ee.host)){this.error={code:er.Status.UNAVAILABLE,details:`Failed to parse ${g.scheme} address ${$}`,metadata:new en.Metadata};return}ep.push({host:ee.host,port:null!==(es=ee.port)&&void 0!==es?es:eg})}this.addresses=ep,eh("Parsed "+g.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})})}destroy(){}static getDefaultAuthority(g){return g.path.split(",")[0]}}function ey(){(0,es.registerResolver)(em,ev),(0,es.registerResolver)(ef,ev)}$.setup=ey},50864:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.setup=void 0;let ei=ee(14755);class er{constructor(g,$,ee){let ei;this.listener=$,this.addresses=[],ei=""===g.authority?"/"+g.path:g.path,this.addresses=[{path:ei}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(g){return"localhost"}}function en(){(0,ei.registerResolver)("unix",er)}$.setup=en},14755:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.mapUriDefaultScheme=$.getDefaultAuthority=$.createResolver=$.registerDefaultScheme=$.registerResolver=void 0;let ei=ee(14717),er={},en=null;function es(g,$){er[g]=$}function eo(g){en=g}function ep(g,$,ee){if(void 0!==g.scheme&&g.scheme in er)return new er[g.scheme](g,$,ee);throw Error(`No resolver could be created for target ${(0,ei.uriToString)(g)}`)}function eu(g){if(void 0!==g.scheme&&g.scheme in er)return er[g.scheme].getDefaultAuthority(g);throw Error(`Invalid target ${(0,ei.uriToString)(g)}`)}function eh(g){return void 0!==g.scheme&&g.scheme in er?g:null!==en?{scheme:en,authority:void 0,path:(0,ei.uriToString)(g)}:null}$.registerResolver=es,$.registerDefaultScheme=eo,$.createResolver=ep,$.getDefaultAuthority=eu,$.mapUriDefaultScheme=eh},65700:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ResolvingCall=void 0;let ei=ee(69238),er=ee(50823),en=ee(32908),es=ee(68200),eo=ee(6614),ep="resolving_call";class eu{constructor(g,$,ee,en,es,eo){this.channel=g,this.method=$,this.filterStackFactory=en,this.credentials=es,this.callNumber=eo,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=ee.deadline,this.host=ee.host,ee.parentCall&&(ee.flags&ei.Propagate.CANCELLATION&&ee.parentCall.on("cancelled",()=>{this.cancelWithStatus(ei.Status.CANCELLED,"Cancelled by parent call")}),ee.flags&ei.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+ee.parentCall.getDeadline()),this.deadline=(0,er.minDeadline)(this.deadline,ee.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(g){es.trace(ei.LogVerbosity.DEBUG,ep,"["+this.callNumber+"] "+g)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,er.deadlineToString)(this.deadline));let g=(0,er.getRelativeTimeout)(this.deadline);if(g!==1/0){this.trace("Deadline will be reached in "+g+"ms");let $=()=>{this.cancelWithStatus(ei.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};g<=0?process.nextTick($):this.deadlineTimer=setTimeout($,g)}}outputStatus(g){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let $=this.filterStack.receiveTrailers(g);this.trace("ended with status: code="+$.code+' details="'+$.details+'"'),this.statusWatchers.forEach(g=>g($)),process.nextTick(()=>{var g;null===(g=this.listener)||void 0===g||g.onReceiveStatus($)})}}sendMessageOnChild(g,$){if(!this.child)throw Error("sendMessageonChild called with child not populated");let ee=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:$,flags:g.flags})).then($=>{this.writeFilterPending=!1,ee.sendMessageWithContext(g,$.message),this.pendingHalfClose&&ee.halfClose()},g=>{this.cancelWithStatus(g.code,g.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let g=this.channel.getConfig(this.method,this.metadata);if("NONE"===g.type){this.channel.queueCallForConfig(this);return}if("ERROR"===g.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(g.error);return}let $=g.config;if($.status!==ei.Status.OK){let{code:g,details:ee}=(0,eo.restrictControlPlaneStatusCode)($.status,"Failed to route call to method "+this.method);this.outputStatus({code:g,details:ee,metadata:new en.Metadata});return}if($.methodConfig.timeout){let g=new Date;g.setSeconds(g.getSeconds()+$.methodConfig.timeout.seconds),g.setMilliseconds(g.getMilliseconds()+$.methodConfig.timeout.nanos/1e6),this.deadline=(0,er.minDeadline)(this.deadline,g),this.runDeadlineTimer()}this.filterStackFactory.push($.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(g=>{this.child=this.channel.createInnerCall($,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(g,{onReceiveMetadata:g=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(g))},onReceiveMessage:g=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(g).then(g=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(g),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},g=>{this.cancelWithStatus(g.code,g.details)})},onReceiveStatus:g=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=g:this.outputStatus(g)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},g=>{this.outputStatus(g)})}reportResolverError(g){var $;(null===($=this.metadata)||void 0===$?void 0:$.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(g)}cancelWithStatus(g,$){var ee;this.trace("cancelWithStatus code: "+g+' details: "'+$+'"'),null===(ee=this.child)||void 0===ee||ee.cancelWithStatus(g,$),this.outputStatus({code:g,details:$,metadata:new en.Metadata})}getPeer(){var g,$;return null!==($=null===(g=this.child)||void 0===g?void 0:g.getPeer())&&void 0!==$?$:this.channel.getTarget()}start(g,$){this.trace("start called"),this.metadata=g.clone(),this.listener=$,this.getConfig()}sendMessageWithContext(g,$){this.trace("write() called with message of length "+$.length),this.child?this.sendMessageOnChild(g,$):this.pendingMessage={context:g,message:$}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(g){this.credentials=this.credentials.compose(g)}addStatusWatcher(g){this.statusWatchers.push(g)}getCallNumber(){return this.callNumber}}$.ResolvingCall=eu},61839:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ResolvingLoadBalancer=void 0;let ei=ee(77203),er=ee(45914),en=ee(91360),es=ee(14755),eo=ee(32939),ep=ee(77257),eu=ee(69238),eh=ee(32908),em=ee(68200),ef=ee(69238),eg=ee(14717),ev=ee(38390),ey="resolving_load_balancer";function e_(g){em.trace(ef.LogVerbosity.DEBUG,ey,g)}let ew=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function eS(g,$,ee,ei){for(let er of ee.name)switch(ei){case"EMPTY":if(!er.service&&!er.method)return!0;break;case"SERVICE":if(er.service===g&&!er.method)return!0;break;case"SERVICE_AND_METHOD":if(er.service===g&&er.method===$)return!0}return!1}function eT(g,$,ee,ei){for(let er of ee)if(eS(g,$,er,ei))return er;return null}function eC(g){return function($,ee){var ei,er;let en=$.split("/").filter(g=>g.length>0),es=null!==(ei=en[0])&&void 0!==ei?ei:"",eo=null!==(er=en[1])&&void 0!==er?er:"";if(g&&g.methodConfig)for(let $ of ew){let ee=eT(es,eo,g.methodConfig,$);if(ee)return{methodConfig:ee,pickInformation:{},status:eu.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:eu.Status.OK,dynamicFilterFactories:[]}}}class eE{constructor(g,$,ee,em,ef){this.target=g,this.channelControlHelper=$,this.onSuccessfulResolution=em,this.onFailedResolution=ef,this.latestChildState=en.ConnectivityState.IDLE,this.latestChildPicker=new eo.QueuePicker(this),this.currentState=en.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,ee["grpc.service_config"]?this.defaultServiceConfig=(0,er.validateServiceConfig)(JSON.parse(ee["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(en.ConnectivityState.IDLE,new eo.QueuePicker(this)),this.childLoadBalancer=new ev.ChildLoadBalancerHandler({createSubchannel:$.createSubchannel.bind($),requestReresolution:()=>{this.backoffTimeout.isRunning()?(e_("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(g,$)=>{this.latestChildState=g,this.latestChildPicker=$,this.updateState(g,$)},addChannelzChild:$.addChannelzChild.bind($),removeChannelzChild:$.removeChannelzChild.bind($)}),this.innerResolver=(0,es.createResolver)(g,{onSuccessfulResolution:(g,$,ee,er,en)=>{var es;this.backoffTimeout.stop(),this.backoffTimeout.reset();let eo=null;null===$?null===ee?(this.previousServiceConfig=null,eo=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(ee):eo=this.previousServiceConfig:(eo=$,this.previousServiceConfig=$);let ep=null!==(es=null==eo?void 0:eo.loadBalancingConfig)&&void 0!==es?es:[],em=(0,ei.getFirstUsableConfig)(ep,!0);if(null===em){this.handleResolutionFailure({code:eu.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new eh.Metadata});return}this.childLoadBalancer.updateAddressList(g,em,en);let ef=null!=eo?eo:this.defaultServiceConfig;this.onSuccessfulResolution(ef,null!=er?er:eC(ef))},onError:g=>{this.handleResolutionFailure(g)}},ee);let eg={initialDelay:ee["grpc.initial_reconnect_backoff_ms"],maxDelay:ee["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new ep.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},eg),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===en.ConnectivityState.IDLE&&this.updateState(en.ConnectivityState.CONNECTING,new eo.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(g,$){e_((0,eg.uriToString)(this.target)+" "+en.ConnectivityState[this.currentState]+" -> "+en.ConnectivityState[g]),g===en.ConnectivityState.IDLE&&($=new eo.QueuePicker(this)),this.currentState=g,this.channelControlHelper.updateState(g,$)}handleResolutionFailure(g){this.latestChildState===en.ConnectivityState.IDLE&&(this.updateState(en.ConnectivityState.TRANSIENT_FAILURE,new eo.UnavailablePicker(g)),this.onFailedResolution(g))}exitIdle(){(this.currentState===en.ConnectivityState.IDLE||this.currentState===en.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(g,$){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=en.ConnectivityState.IDLE,this.latestChildPicker=new eo.QueuePicker(this),this.currentState=en.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}$.ResolvingLoadBalancer=eE},97564:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.RetryingCall=$.MessageBufferTracker=$.RetryThrottler=void 0;let ei=ee(69238),er=ee(32908),en=ee(68200),es="retrying_call";class eo{constructor(g,$,ee){this.maxTokens=g,this.tokenRatio=$,ee?this.tokens=ee.tokens*(g/ee.maxTokens):this.tokens=g}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}$.RetryThrottler=eo;class ep{constructor(g,$){this.totalLimit=g,this.limitPerCall=$,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(g,$){var ee;let ei=null!==(ee=this.allocatedPerCall.get($))&&void 0!==ee?ee:0;return!(this.limitPerCall-ei<g)&&!(this.totalLimit-this.totalAllocated<g)&&(this.allocatedPerCall.set($,ei+g),this.totalAllocated+=g,!0)}free(g,$){var ee;if(this.totalAllocated<g)throw Error(`Invalid buffer allocation state: call ${$} freed ${g} > total allocated ${this.totalAllocated}`);this.totalAllocated-=g;let ei=null!==(ee=this.allocatedPerCall.get($))&&void 0!==ee?ee:0;if(ei<g)throw Error(`Invalid buffer allocation state: call ${$} freed ${g} > allocated for call ${ei}`);this.allocatedPerCall.set($,ei-g)}freeAll(g){var $;let ee=null!==($=this.allocatedPerCall.get(g))&&void 0!==$?$:0;if(this.totalAllocated<ee)throw Error(`Invalid buffer allocation state: call ${g} allocated ${ee} > total allocated ${this.totalAllocated}`);this.totalAllocated-=ee,this.allocatedPerCall.delete(g)}}$.MessageBufferTracker=ep;let eu="grpc-previous-rpc-attempts";class eh{constructor(g,$,ee,ei,er,en,es,eo,ep){if(this.channel=g,this.callConfig=$,this.methodName=ee,this.host=ei,this.credentials=er,this.deadline=en,this.callNumber=es,this.bufferTracker=eo,this.retryThrottler=ep,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,$.methodConfig.retryPolicy){this.state="RETRY";let g=$.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(g.initialBackoff.substring(0,g.initialBackoff.length-1))}else $.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(g){en.trace(ei.LogVerbosity.DEBUG,es,"["+this.callNumber+"] "+g)}reportStatus(g){this.trace("ended with status: code="+g.code+' details="'+g.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var $;null===($=this.listener)||void 0===$||$.onReceiveStatus({code:g.code,details:g.details,metadata:g.metadata})})}cancelWithStatus(g,$){for(let{call:ee}of(this.trace("cancelWithStatus code: "+g+' details: "'+$+'"'),this.reportStatus({code:g,details:$,metadata:new er.Metadata}),this.underlyingCalls))ee.cancelWithStatus(g,$)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(g){var $;return null!==($=this.writeBuffer[g-this.writeBufferOffset])&&void 0!==$?$:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let g=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let $=this.writeBufferOffset;$<g;$++){let g=this.getBufferEntry($);g.allocated&&this.bufferTracker.free(g.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(g-this.writeBufferOffset),this.writeBufferOffset=g}commitCall(g){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[g].state){this.trace("Committing call ["+this.underlyingCalls[g].call.getCallNumber()+"] at index "+g),this.state="COMMITTED",this.committedCallIndex=g;for(let $=0;$<this.underlyingCalls.length;$++)$!==g&&"COMPLETED"!==this.underlyingCalls[$].state&&(this.underlyingCalls[$].state="COMPLETED",this.underlyingCalls[$].call.cancelWithStatus(ei.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let g=-1,$=-1;for(let[ee,ei]of this.underlyingCalls.entries())"ACTIVE"===ei.state&&ei.nextMessageToSend>g&&(g=ei.nextMessageToSend,$=ee);-1===$?this.state="TRANSPARENT_ONLY":this.commitCall($)}isStatusCodeInList(g,$){return g.some(g=>g===$||g.toString().toLowerCase()===ei.Status[$].toLowerCase())}getNextRetryBackoffMs(){var g;let $=null===(g=this.callConfig)||void 0===g?void 0:g.methodConfig.retryPolicy;if(!$)return 0;let ee=Math.random()*this.nextRetryBackoffSec*1e3,ei=Number($.maxBackoff.substring(0,$.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*$.backoffMultiplier,ei),ee}maybeRetryCall(g,$){let ee;if("RETRY"!==this.state){$(!1);return}let ei=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(ei.maxAttempts,5)){$(!1);return}if(null===g)ee=this.getNextRetryBackoffMs();else if(g<0){this.state="TRANSPARENT_ONLY",$(!1);return}else ee=g,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var g,ee;if("RETRY"!==this.state){$(!1);return}(null===(ee=null===(g=this.retryThrottler)||void 0===g?void 0:g.canRetryCall())||void 0===ee||ee)&&($(!0),this.attempts+=1,this.startNewAttempt())},ee)}countActiveCalls(){let g=0;for(let $ of this.underlyingCalls)(null==$?void 0:$.state)==="ACTIVE"&&(g+=1);return g}handleProcessedStatus(g,$,ee){var ei,er,en;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall($),this.reportStatus(g);break;case"HEDGING":if(this.isStatusCodeInList(null!==(ei=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==ei?ei:[],g.code)){let ei;if(null===(er=this.retryThrottler)||void 0===er||er.addCallFailed(),null===ee)ei=0;else if(ee<0){this.state="TRANSPARENT_ONLY",this.commitCall($),this.reportStatus(g);return}else ei=ee;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall($),this.reportStatus(g))},ei)}else this.commitCall($),this.reportStatus(g);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,g.code)?(null===(en=this.retryThrottler)||void 0===en||en.addCallFailed(),this.maybeRetryCall(ee,ee=>{ee||(this.commitCall($),this.reportStatus(g))})):(this.commitCall($),this.reportStatus(g))}}getPushback(g){let $=g.get("grpc-retry-pushback-ms");if(0===$.length)return null;try{return parseInt($[0])}catch(g){return -1}}handleChildStatus(g,$){var ee;if("COMPLETED"===this.underlyingCalls[$].state)return;if(this.trace("state="+this.state+" handling status with progress "+g.progress+" from child ["+this.underlyingCalls[$].call.getCallNumber()+"] in state "+this.underlyingCalls[$].state),this.underlyingCalls[$].state="COMPLETED",g.code===ei.Status.OK){null===(ee=this.retryThrottler)||void 0===ee||ee.addCallSucceeded(),this.commitCall($),this.reportStatus(g);return}if("COMMITTED"===this.state){this.reportStatus(g);return}let er=this.getPushback(g.metadata);switch(g.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(g,$,er):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall($),this.reportStatus(g);break;case"PROCESSED":this.handleProcessedStatus(g,$,er)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let g=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(g.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var g,$,ee;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let ei=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(ei.maxAttempts,5))return;let er=null!==(g=ei.hedgingDelay)&&void 0!==g?g:"0s",en=Number(er.substring(0,er.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*en),null===(ee=($=this.hedgingTimer).unref)||void 0===ee||ee.call($)}startNewAttempt(){let g=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+g.getCallNumber()+"] for attempt "+this.attempts);let $=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:g,nextMessageToSend:0});let ee=this.attempts-1,ei=this.initialMetadata.clone();ee>0&&ei.set(eu,`${ee}`);let er=!1;g.start(ei,{onReceiveMetadata:ei=>{this.trace("Received metadata from child ["+g.getCallNumber()+"]"),this.commitCall($),er=!0,ee>0&&ei.set(eu,`${ee}`),"ACTIVE"===this.underlyingCalls[$].state&&this.listener.onReceiveMetadata(ei)},onReceiveMessage:ee=>{this.trace("Received message from child ["+g.getCallNumber()+"]"),this.commitCall($),"ACTIVE"===this.underlyingCalls[$].state&&this.listener.onReceiveMessage(ee)},onReceiveStatus:ei=>{this.trace("Received status from child ["+g.getCallNumber()+"]"),!er&&ee>0&&ei.metadata.set(eu,`${ee}`),this.handleChildStatus(ei,$)}}),this.sendNextChildMessage($),this.readStarted&&g.startRead()}start(g,$){this.trace("start called"),this.listener=$,this.initialMetadata=g,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(g){var $,ee;let ei=this.underlyingCalls[g],er=ei.nextMessageToSend;null===(ee=($=this.getBufferEntry(er)).callback)||void 0===ee||ee.call($),this.clearSentMessages(),ei.nextMessageToSend+=1,this.sendNextChildMessage(g)}sendNextChildMessage(g){let $=this.underlyingCalls[g];if("COMPLETED"!==$.state&&this.getBufferEntry($.nextMessageToSend)){let ee=this.getBufferEntry($.nextMessageToSend);switch(ee.entryType){case"MESSAGE":$.call.sendMessageWithContext({callback:$=>{this.handleChildWriteCompleted(g)}},ee.message.message);break;case"HALF_CLOSE":$.nextMessageToSend+=1,$.call.halfClose()}}}sendMessageWithContext(g,$){var ee;this.trace("write() called with message of length "+$.length);let ei={message:$,flags:g.flags},er=this.getNextBufferIndex(),en={entryType:"MESSAGE",message:ei,allocated:this.bufferTracker.allocate($.length,this.callNumber)};if(this.writeBuffer.push(en),en.allocated)for(let[ei,en]of(null===(ee=g.callback)||void 0===ee||ee.call(g),this.underlyingCalls.entries()))"ACTIVE"===en.state&&en.nextMessageToSend===er&&en.call.sendMessageWithContext({callback:g=>{this.handleChildWriteCompleted(ei)}},$);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let ee=this.underlyingCalls[this.committedCallIndex];en.callback=g.callback,"ACTIVE"===ee.state&&ee.nextMessageToSend===er&&ee.call.sendMessageWithContext({callback:g=>{this.handleChildWriteCompleted(this.committedCallIndex)}},$)}}startRead(){for(let g of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==g?void 0:g.state)==="ACTIVE"&&g.call.startRead()}halfClose(){this.trace("halfClose called");let g=this.getNextBufferIndex();for(let $ of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==$?void 0:$.state)==="ACTIVE"&&$.nextMessageToSend===g&&($.nextMessageToSend+=1,$.call.halfClose())}setCredentials(g){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}$.RetryingCall=eh},17574:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Http2ServerCallStream=$.ServerDuplexStreamImpl=$.ServerWritableStreamImpl=$.ServerReadableStreamImpl=$.ServerUnaryCallImpl=void 0;let ei=ee(82361),er=ee(85158),en=ee(12781),es=ee(59796),eo=ee(73837),ep=ee(69238),eu=ee(32908),eh=ee(80272),em=ee(68200),ef=ee(9006),eg="server_call",ev=(0,eo.promisify)(es.unzip),ey=(0,eo.promisify)(es.inflate);function e_(g){em.trace(ep.LogVerbosity.DEBUG,eg,g)}let ew="grpc-accept-encoding",eS="grpc-encoding",eT="grpc-message",eC="grpc-status",eE="grpc-timeout",eI=/(\d{1,8})\s*([HMSmun])/,eN={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},eD={[ew]:"identity,deflate,gzip",[eS]:"identity"},ek={[er.constants.HTTP2_HEADER_STATUS]:er.constants.HTTP_STATUS_OK,[er.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},eR={waitForTrailers:!0};class eA extends ei.EventEmitter{constructor(g,$,ee){super(),this.call=g,this.metadata=$,this.request=ee,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(g){this.call.sendMetadata(g)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}$.ServerUnaryCallImpl=eA;class eO extends en.Readable{constructor(g,$,ee,ei){super({objectMode:!0}),this.call=g,this.metadata=$,this.deserialize=ee,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,ei)}_read(g){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(g){this.call.sendMetadata(g)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}$.ServerReadableStreamImpl=eO;class eP extends en.Writable{constructor(g,$,ee,ei){super({objectMode:!0}),this.call=g,this.metadata=$,this.serialize=ee,this.request=ei,this.cancelled=!1,this.trailingMetadata=new eu.Metadata,this.call.setupSurfaceCall(this),this.on("error",g=>{this.call.sendError(g),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(g){this.call.sendMetadata(g)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(g,$,ee){try{let $=this.call.serializeMessage(g);if(!this.call.write($)){this.call.once("drain",ee);return}}catch(g){this.emit("error",{details:(0,ef.getErrorMessage)(g),code:ep.Status.INTERNAL})}ee()}_final(g){this.call.sendStatus({code:ep.Status.OK,details:"OK",metadata:this.trailingMetadata}),g(null)}end(g){return g&&(this.trailingMetadata=g),super.end()}}$.ServerWritableStreamImpl=eP;class eM extends en.Duplex{constructor(g,$,ee,ei,er){super({objectMode:!0}),this.call=g,this.metadata=$,this.serialize=ee,this.deserialize=ei,this.cancelled=!1,this.trailingMetadata=new eu.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,er),this.on("error",g=>{this.call.sendError(g),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(g){this.call.sendMetadata(g)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(g){return g&&(this.trailingMetadata=g),super.end()}}$.ServerDuplexStreamImpl=eM,eM.prototype._read=eO.prototype._read,eM.prototype._write=eP.prototype._write,eM.prototype._final=eP.prototype._final;class eL extends ei.EventEmitter{constructor(g,$,ee){super(),this.stream=g,this.handler=$,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=ep.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=ep.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",g=>{}),this.stream.once("close",()=>{var g;e_("Request to method "+(null===(g=this.handler)||void 0===g?void 0:g.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:ep.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in ee&&(this.maxSendMessageSize=ee["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in ee&&(this.maxReceiveMessageSize=ee["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(g,$){return"deflate"===$?ey(g.subarray(5)):"gzip"===$?ev(g.subarray(5)):"identity"===$?g.subarray(5):Promise.reject({code:ep.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${$}"`})}sendMetadata(g){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let $=g?g.toHttp2Headers():null,ee=Object.assign(Object.assign(Object.assign({},ek),eD),$);this.stream.respond(ee,eR)}receiveMetadata(g){let $=eu.Metadata.fromHttp2Headers(g);em.isTracerEnabled(eg)&&e_("Request to "+this.handler.path+" received headers "+JSON.stringify($.toJSON()));let ee=$.get(eE);if(ee.length>0){let g=ee[0].toString().match(eI);if(null===g){let g=Error("Invalid deadline");return g.code=ep.Status.OUT_OF_RANGE,this.sendError(g),$}let ei=+g[1]*eN[g[2]]|0,er=new Date;this.deadline=er.setMilliseconds(er.getMilliseconds()+ei),this.deadlineTimer=setTimeout(eF,ei,this),$.remove(eE)}return $.remove(er.constants.HTTP2_HEADER_ACCEPT_ENCODING),$.remove(er.constants.HTTP2_HEADER_TE),$.remove(er.constants.HTTP2_HEADER_CONTENT_TYPE),$.remove("grpc-accept-encoding"),$}receiveUnaryMessage(g){return new Promise(($,ee)=>{let{stream:ei}=this,er=0,en=this,es=[],eo=this.maxReceiveMessageSize;function eu(g){if(er+=g.byteLength,-1!==eo&&er>eo){ei.removeListener("data",eu),ei.removeListener("end",eh),ei.removeListener("error",eh),ee({code:ep.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${er} vs. ${eo})`});return}es.push(g)}function eh(eo){if(ei.removeListener("data",eu),ei.removeListener("end",eh),ei.removeListener("error",eh),void 0!==eo){ee({code:ep.Status.INTERNAL,details:eo.message});return}if(0===er){ee({code:ep.Status.INTERNAL,details:"received empty unary message"});return}en.emit("receiveMessage");let em=Buffer.concat(es,er),ef=1===em.readUInt8(0),eg=ef?g:"identity",ev=en.getDecompressedMessage(em,eg);if(Buffer.isBuffer(ev)){$(en.deserializeMessageWithInternalError(ev));return}ev.then(g=>$(en.deserializeMessageWithInternalError(g)),$=>ee($.code?$:{code:ep.Status.INTERNAL,details:`Received "grpc-encoding" header "${g}" but ${g} decompression failed`}))}this.stream.on("data",eu),this.stream.on("end",eh),this.stream.on("error",eh)})}async deserializeMessageWithInternalError(g){try{return this.deserializeMessage(g)}catch(g){throw{details:(0,ef.getErrorMessage)(g),code:ep.Status.INTERNAL}}}serializeMessage(g){let $=this.handler.serialize(g),ee=$.byteLength,ei=Buffer.allocUnsafe(ee+5);return ei.writeUInt8(0,0),ei.writeUInt32BE(ee,1),$.copy(ei,5),ei}deserializeMessage(g){return this.handler.deserialize(g)}async sendUnaryMessage(g,$,ee,ei){if(!this.checkCancelled()){if(void 0===ee&&(ee=null),g){!Object.prototype.hasOwnProperty.call(g,"metadata")&&ee&&(g.metadata=ee),this.sendError(g);return}try{let g=this.serializeMessage($);this.write(g),this.sendStatus({code:ep.Status.OK,details:"OK",metadata:ee})}catch(g){this.sendError({details:(0,ef.getErrorMessage)(g),code:ep.Status.INTERNAL})}}}sendStatus(g){var $,ee;if(this.emit("callEnd",g.code),this.emit("streamEnd",g.code===ep.Status.OK),!this.checkCancelled()){if(e_("Request to method "+(null===($=this.handler)||void 0===$?void 0:$.path)+" ended with status code: "+ep.Status[g.code]+" details: "+g.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var $;let ee=Object.assign({[eC]:g.code,[eT]:encodeURI(g.details)},null===($=g.metadata)||void 0===$?void 0:$.toHttp2Headers());this.stream.sendTrailers(ee),this.statusSent=!0}),this.stream.end());else{let $=Object.assign(Object.assign({[eC]:g.code,[eT]:encodeURI(g.details)},ek),null===(ee=g.metadata)||void 0===ee?void 0:ee.toHttp2Headers());this.stream.respond($,{endStream:!0}),this.statusSent=!0}}}sendError(g){let $={code:ep.Status.UNKNOWN,details:"message"in g?g.message:"Unknown Error",metadata:"metadata"in g&&void 0!==g.metadata?g.metadata:null};"code"in g&&"number"==typeof g.code&&Number.isInteger(g.code)&&($.code=g.code,"details"in g&&"string"==typeof g.details&&($.details=g.details)),this.sendStatus($)}write(g){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&g.length>this.maxSendMessageSize){this.sendError({code:ep.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${g.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(g)}}resume(){this.stream.resume()}setupSurfaceCall(g){this.once("cancelled",$=>{g.cancelled=!0,g.emit("cancelled",$)}),this.once("callEnd",$=>g.emit("callEnd",$))}setupReadable(g,$){let ee=new eh.StreamDecoder,ei=!1,er=!1,en=!1,es=async()=>{en||!ei||er||(en=!0,await this.pushOrBufferMessage(g,null))};this.stream.on("data",async ei=>{let en=ee.write(ei);for(let ee of(er=!0,this.stream.pause(),en)){if(-1!==this.maxReceiveMessageSize&&ee.length>this.maxReceiveMessageSize){this.sendError({code:ep.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${ee.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let ei=1===ee.readUInt8(0),er=ei?$:"identity",en=await this.getDecompressedMessage(ee,er);if(!en)return;await this.pushOrBufferMessage(g,en)}er=!1,this.stream.resume(),await es()}),this.stream.once("end",async()=>{ei=!0,await es()})}consumeUnpushedMessages(g){for(this.canPush=!0;this.messagesToPush.length>0;){let $=this.messagesToPush.shift(),ee=g.push($);if(null===$||!1===ee){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(g,$){this.isPushPending?this.bufferedMessages.push($):await this.pushMessage(g,$)}async pushMessage(g,$){if(null===$){e_("Received end of stream"),this.canPush?g.push(null):this.messagesToPush.push(null);return}e_("Received message of length "+$.length),this.isPushPending=!0;try{let ee=await this.deserializeMessage($);this.canPush?g.push(ee)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(ee)}catch(ee){this.bufferedMessages.length=0;let $=(0,ef.getErrorCode)(ee);(null===$||$<ep.Status.OK||$>ep.Status.UNAUTHENTICATED)&&($=ep.Status.INTERNAL),g.emit("error",{details:(0,ef.getErrorMessage)(ee),code:$})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(g,this.bufferedMessages.shift())}getPeer(){var g;let $=null===(g=this.stream.session)||void 0===g?void 0:g.socket;return null!=$&&$.remoteAddress?$.remotePort?`${$.remoteAddress}:${$.remotePort}`:$.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function eF(g){let $=Error("Deadline exceeded");$.code=ep.Status.DEADLINE_EXCEEDED,g.sendError($),g.cancelled=!0,g.emit("cancelled","deadline")}$.Http2ServerCallStream=eL},62501:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.ServerCredentials=void 0;let ei=ee(66801);class er{static createInsecure(){return new en}static createSsl(g,$,ee=!1){if(null!==g&&!Buffer.isBuffer(g))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray($))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof ee)throw TypeError("checkClientCertificate must be a boolean");let er=[],en=[];for(let g=0;g<$.length;g++){let ee=$[g];if(null===ee||"object"!=typeof ee)throw TypeError(`keyCertPair[${g}] must be an object`);if(!Buffer.isBuffer(ee.private_key))throw TypeError(`keyCertPair[${g}].private_key must be a Buffer`);if(!Buffer.isBuffer(ee.cert_chain))throw TypeError(`keyCertPair[${g}].cert_chain must be a Buffer`);er.push(ee.cert_chain),en.push(ee.private_key)}return new es({ca:g||(0,ei.getDefaultRootsData)()||void 0,cert:er,key:en,requestCert:ee,ciphers:ei.CIPHER_SUITES})}}$.ServerCredentials=er;class en extends er{_isSecure(){return!1}_getSettings(){return null}}class es extends er{constructor(g){super(),this.options=g}_isSecure(){return!0}_getSettings(){return this.options}}},92903:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Server=void 0;let ei=ee(85158),er=ee(69238),en=ee(17574),es=ee(62501),eo=ee(14755),ep=ee(68200),eu=ee(72782),eh=ee(14717),em=ee(83316),ef=2147483647,eg=2147483647,ev=2e4,{HTTP2_HEADER_PATH:ey}=ei.constants,e_="server";function ew(){}function eS(g){return{code:er.Status.UNIMPLEMENTED,details:`The server does not implement the method ${g}`}}function eT(g,$){let ee=eS($);switch(g){case"unary":return(g,$)=>{$(ee,null)};case"clientStream":return(g,$)=>{$(ee,null)};case"serverStream":return g=>{g.emit("error",ee)};case"bidi":return g=>{g.emit("error",ee)};default:throw Error(`Invalid handlerType ${g}`)}}class eC{constructor(g){var $,ee,ei,er;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new em.ChannelzTrace,this.callTracker=new em.ChannelzCallTracker,this.listenerChildrenTracker=new em.ChannelzChildrenTracker,this.sessionChildrenTracker=new em.ChannelzChildrenTracker,this.options=null!=g?g:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,em.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==($=this.options["grpc.max_connection_age_ms"])&&void 0!==$?$:ef,this.maxConnectionAgeGraceMs=null!==(ee=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==ee?ee:ef,this.keepaliveTimeMs=null!==(ei=this.options["grpc.keepalive_time_ms"])&&void 0!==ei?ei:eg,this.keepaliveTimeoutMs=null!==(er=this.options["grpc.keepalive_timeout_ms"])&&void 0!==er?er:ev,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(g){return()=>{var $,ee,ei;let er;let en=this.sessions.get(g),es=g.socket,eo=es.remoteAddress?(0,eu.stringToSubchannelAddress)(es.remoteAddress,es.remotePort):null,ep=es.localAddress?(0,eu.stringToSubchannelAddress)(es.localAddress,es.localPort):null;if(g.encrypted){let g=es,ee=g.getCipher(),ei=g.getCertificate(),en=g.getPeerCertificate();er={cipherSuiteStandardName:null!==($=ee.standardName)&&void 0!==$?$:null,cipherSuiteOtherName:ee.standardName?null:ee.name,localCertificate:ei&&"raw"in ei?ei.raw:null,remoteCertificate:en&&"raw"in en?en.raw:null}}else er=null;let eh={remoteAddress:eo,localAddress:ep,security:er,remoteName:null,streamsStarted:en.streamTracker.callsStarted,streamsSucceeded:en.streamTracker.callsSucceeded,streamsFailed:en.streamTracker.callsFailed,messagesSent:en.messagesSent,messagesReceived:en.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:en.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:en.lastMessageSentTimestamp,lastMessageReceivedTimestamp:en.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(ee=g.state.localWindowSize)&&void 0!==ee?ee:null,remoteFlowControlWindow:null!==(ei=g.state.remoteWindowSize)&&void 0!==ei?ei:null};return eh}}trace(g){ep.trace(er.LogVerbosity.DEBUG,e_,"("+this.channelzRef.id+") "+g)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(g,$){if(null===g||"object"!=typeof g||null===$||"object"!=typeof $)throw Error("addService() requires two objects as arguments");let ee=Object.keys(g);if(0===ee.length)throw Error("Cannot add an empty service to a server");ee.forEach(ee=>{let ei,er;let en=g[ee];ei=en.requestStream?en.responseStream?"bidi":"clientStream":en.responseStream?"serverStream":"unary";let es=$[ee];void 0===es&&"string"==typeof en.originalName&&(es=$[en.originalName]),er=void 0!==es?es.bind($):eT(ei,ee);let eo=this.register(en.path,er,en.responseSerialize,en.requestDeserialize,ei);if(!1===eo)throw Error(`Method handler for ${en.path} already provided.`)})}removeService(g){if(null===g||"object"!=typeof g)throw Error("removeService() requires object as argument");let $=Object.keys(g);$.forEach($=>{let ee=g[$];this.unregister(ee.path)})}bind(g,$){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(g,$,ee){if(!0===this.started)throw Error("server is already started");if("string"!=typeof g)throw TypeError("port must be a string");if(null===$||!($ instanceof es.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof ee)throw TypeError("callback must be a function");let en=(0,eh.parseUri)(g);if(null===en)throw Error(`Could not parse port "${g}"`);let ef=(0,eo.mapUriDefaultScheme)(en);if(null===ef)throw Error(`Could not get a default scheme for port "${g}"`);let eg={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?eg.maxSessionMemory=this.options["grpc-node.max_session_memory"]:eg.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(eg.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let ev=(g,$)=>{process.nextTick(()=>ee(g,$))},ey=()=>{let g;if($._isSecure()){let ee=Object.assign(eg,$._getSettings());ee.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(g=ei.createSecureServer(ee)).on("secureConnection",g=>{g.on("error",g=>{this.trace("An incoming TLS connection closed with error: "+g.message)})})}else g=ei.createServer(eg);return g.setTimeout(0,ew),this._setupHandlers(g),g},e_=(g,$,ee)=>0===g.length?Promise.resolve({port:$,count:ee}):Promise.all(g.map(g=>{let ee;this.trace("Attempting to bind "+(0,eu.subchannelAddressToString)(g)),ee=(0,eu.isTcpSubchannelAddress)(g)?{host:g.host,port:$}:g;let ei=ey();return new Promise((er,en)=>{let es=$=>{this.trace("Failed to bind "+(0,eu.subchannelAddressToString)(g)+" with error "+$.message),er($)};ei.once("error",es),ei.listen(ee,()=>{let g;let ee=ei.address();g="string"==typeof ee?{path:ee}:{host:ee.address,port:ee.port};let en=(0,em.registerChannelzSocket)((0,eu.subchannelAddressToString)(g),()=>({localAddress:g,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(en),this.http2ServerList.push({server:ei,channelzRef:en}),this.trace("Successfully bound "+(0,eu.subchannelAddressToString)(g)),er("port"in g?g.port:$),ei.removeListener("error",es)})})})).then(g=>{let ei=0;for(let ee of g)if("number"==typeof ee&&(ei+=1,ee!==$))throw Error("Invalid state: multiple port numbers added from single address");return{port:$,count:ei+ee}}),eS=g=>{if(0===g.length)return Promise.resolve({port:0,count:0});let $=g[0],ee=ey();return new Promise((ei,er)=>{let en=ee=>{this.trace("Failed to bind "+(0,eu.subchannelAddressToString)($)+" with error "+ee.message),ei(eS(g.slice(1)))};ee.once("error",en),ee.listen($,()=>{let $=ee.address(),er={host:$.address,port:$.port},es=(0,em.registerChannelzSocket)((0,eu.subchannelAddressToString)(er),()=>({localAddress:er,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(es),this.http2ServerList.push({server:ee,channelzRef:es}),this.trace("Successfully bound "+(0,eu.subchannelAddressToString)(er)),ei(e_(g.slice(1),$.port,1)),ee.removeListener("error",en)})})},eT={onSuccessfulResolution:($,ee,ei)=>{let en;if(eT.onSuccessfulResolution=()=>{},0===$.length){ev(Error(`No addresses resolved for port ${g}`),0);return}(en=(0,eu.isTcpSubchannelAddress)($[0])?0===$[0].port?eS($):e_($,$[0].port,0):e_($,1,0)).then(g=>{if(0===g.count){let g=`No address added out of total ${$.length} resolved`;ep.log(er.LogVerbosity.ERROR,g),ev(Error(g),0)}else g.count<$.length&&ep.log(er.LogVerbosity.INFO,`WARNING Only ${g.count} addresses added out of total ${$.length} resolved`),ev(null,g.port)},g=>{let ee=`No address added out of total ${$.length} resolved`;ep.log(er.LogVerbosity.ERROR,ee),ev(Error(ee),0)})},onError:g=>{ev(Error(g.details),0)}},eC=(0,eo.createResolver)(ef,eT,this.options);eC.updateResolution()}forceShutdown(){for(let{server:g,channelzRef:$}of this.http2ServerList)g.listening&&g.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild($),(0,em.unregisterChannelzRef)($))});this.started=!1,this.sessions.forEach((g,$)=>{$.destroy(ei.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,em.unregisterChannelzRef)(this.channelzRef)}register(g,$,ee,ei,er){return!this.handlers.has(g)&&(this.handlers.set(g,{func:$,serialize:ee,deserialize:ei,type:er,path:g}),!0)}unregister(g){return this.handlers.delete(g)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:g})=>!0!==g.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(g){let $=$=>{this.channelzEnabled&&(0,em.unregisterChannelzRef)(this.channelzRef),g($)},ee=0;function ei(){0==--ee&&$()}for(let{server:g,channelzRef:$}of(this.started=!1,this.http2ServerList))g.listening&&(ee++,g.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild($),(0,em.unregisterChannelzRef)($)),ei()}));this.sessions.forEach((g,$)=>{$.closed||(ee+=1,$.close(ei))}),0===ee&&$()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(g,$){let ee=$[ei.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof ee&&ee.startsWith("application/grpc"))||(g.respond({[ei.constants.HTTP2_HEADER_STATUS]:ei.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(g){this.trace("Received call to method "+g+" at address "+this.serverAddressString);let $=this.handlers.get(g);return void 0===$?(this.trace("No handler registered for method "+g+". Sending UNIMPLEMENTED status."),null):$}_respondWithError(g,$,ee=null){let ei=new en.Http2ServerCallStream($,null,this.options);void 0===g.code&&(g.code=er.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==ee||ee.streamTracker.addCallFailed()),ei.sendError(g)}_channelzHandler(g,$){let ee=this.sessions.get(g.session);if(this.callTracker.addCallStarted(),null==ee||ee.streamTracker.addCallStarted(),!this._verifyContentType(g,$)){this.callTracker.addCallFailed(),null==ee||ee.streamTracker.addCallFailed();return}let ei=$[ey],es=this._retrieveHandler(ei);if(!es){this._respondWithError(eS(ei),g,ee);return}let eo=new en.Http2ServerCallStream(g,es,this.options);eo.once("callEnd",g=>{g===er.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),ee&&(eo.once("streamEnd",g=>{g?ee.streamTracker.addCallSucceeded():ee.streamTracker.addCallFailed()}),eo.on("sendMessage",()=>{ee.messagesSent+=1,ee.lastMessageSentTimestamp=new Date}),eo.on("receiveMessage",()=>{ee.messagesReceived+=1,ee.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(eo,es,$)||(this.callTracker.addCallFailed(),null==ee||ee.streamTracker.addCallFailed(),eo.sendError({code:er.Status.INTERNAL,details:`Unknown handler type: ${es.type}`}))}_streamHandler(g,$){if(!0!==this._verifyContentType(g,$))return;let ee=$[ey],ei=this._retrieveHandler(ee);if(!ei){this._respondWithError(eS(ee),g,null);return}let es=new en.Http2ServerCallStream(g,ei,this.options);this._runHandlerForCall(es,ei,$)||es.sendError({code:er.Status.INTERNAL,details:`Unknown handler type: ${ei.type}`})}_runHandlerForCall(g,$,ee){var ei;let er=g.receiveMetadata(ee),en=null!==(ei=er.get("grpc-encoding")[0])&&void 0!==ei?ei:"identity";er.remove("grpc-encoding");let{type:es}=$;if("unary"===es)eE(g,$,er,en);else if("clientStream"===es)eI(g,$,er,en);else if("serverStream"===es)eN(g,$,er,en);else{if("bidi"!==es)return!1;eD(g,$,er,en)}return!0}_setupHandlers(g){if(null===g)return;let $=g.address(),ee="null";$&&(ee="string"==typeof $?$:$.address+":"+$.port),this.serverAddressString=ee;let er=this.channelzEnabled?this._channelzHandler:this._streamHandler;g.on("stream",er.bind(this)),g.on("session",g=>{var $,ee,er,en,es;if(!this.started){g.destroy();return}let eo=(0,em.registerChannelzSocket)(null!==($=g.socket.remoteAddress)&&void 0!==$?$:"unknown",this.getChannelzSessionInfoGetter(g),this.channelzEnabled),ep={ref:eo,streamTracker:new em.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(g,ep);let eu=g.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+eu),this.sessionChildrenTracker.refChild(eo));let eh=null,eg=null,ev=!1;if(this.maxConnectionAgeMs!==ef){let $=this.maxConnectionAgeMs/10,en=Math.random()*$*2-$;eh=null===(er=(ee=setTimeout(()=>{var $,ee;ev=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+eu);try{g.goaway(ei.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch($){g.destroy();return}g.close(),this.maxConnectionAgeGraceMs!==ef&&(eg=null===(ee=($=setTimeout(()=>{g.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===ee?void 0:ee.call($))},this.maxConnectionAgeMs+en)).unref)||void 0===er?void 0:er.call(ee)}let ey=null===(es=(en=setInterval(()=>{var $,ee;let ei=null===(ee=($=setTimeout(()=>{ev=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+eu),g.close()},this.keepaliveTimeoutMs)).unref)||void 0===ee?void 0:ee.call($);try{g.ping((g,$,ee)=>{clearTimeout(ei)})}catch($){g.destroy()}},this.keepaliveTimeMs)).unref)||void 0===es?void 0:es.call(en);g.on("close",()=>{this.channelzEnabled&&(ev||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+eu),this.sessionChildrenTracker.unrefChild(eo),(0,em.unregisterChannelzRef)(eo)),eh&&clearTimeout(eh),eg&&clearTimeout(eg),ey&&clearTimeout(ey),this.sessions.delete(g)})})}}async function eE(g,$,ee,ei){try{let er=await g.receiveUnaryMessage(ei);if(void 0===er||g.cancelled)return;let es=new en.ServerUnaryCallImpl(g,ee,er);$.func(es,($,ee,ei,er)=>{g.sendUnaryMessage($,ee,ei,er)})}catch($){g.sendError($)}}function eI(g,$,ee,ei){let er=new en.ServerReadableStreamImpl(g,ee,$.deserialize,ei);function es($,ee,ei,en){er.destroy(),g.sendUnaryMessage($,ee,ei,en)}g.cancelled||(er.on("error",es),$.func(er,es))}async function eN(g,$,ee,ei){try{let er=await g.receiveUnaryMessage(ei);if(void 0===er||g.cancelled)return;let es=new en.ServerWritableStreamImpl(g,ee,$.serialize,er);$.func(es)}catch($){g.sendError($)}}function eD(g,$,ee,ei){let er=new en.ServerDuplexStreamImpl(g,ee,$.serialize,$.deserialize,ei);g.cancelled||$.func(er)}$.Server=eC},45914:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.extractAndSelectServiceConfig=$.validateServiceConfig=$.validateRetryThrottling=void 0;let ei=ee(22037),er=ee(69238),en=ee(77203),es=/^\d+(\.\d{1,9})?s$/,eo="node";function ep(g){if("service"in g&&""!==g.service){if("string"!=typeof g.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof g.service}`);if(!("method"in g)||""===g.method)return{service:g.service};if("string"!=typeof g.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof g.service}`);return{service:g.service,method:g.method}}if("method"in g&&void 0!==g.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function eu(g){if(!("maxAttempts"in g)||!Number.isInteger(g.maxAttempts)||g.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in g)||"string"!=typeof g.initialBackoff||!es.test(g.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in g)||"string"!=typeof g.maxBackoff||!es.test(g.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in g)||"number"!=typeof g.backoffMultiplier||g.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in g&&Array.isArray(g.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===g.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let $ of g.retryableStatusCodes)if("number"==typeof $){if(!Object.values(er.Status).includes($))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof $){if(!Object.values(er.Status).includes($.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:g.maxAttempts,initialBackoff:g.initialBackoff,maxBackoff:g.maxBackoff,backoffMultiplier:g.backoffMultiplier,retryableStatusCodes:g.retryableStatusCodes}}function eh(g){if(!("maxAttempts"in g)||!Number.isInteger(g.maxAttempts)||g.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in g&&("string"!=typeof g.hedgingDelay||!es.test(g.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in g&&Array.isArray(g.nonFatalStatusCodes))for(let $ of g.nonFatalStatusCodes)if("number"==typeof $){if(!Object.values(er.Status).includes($))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof $){if(!Object.values(er.Status).includes($.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let $={maxAttempts:g.maxAttempts};return g.hedgingDelay&&($.hedgingDelay=g.hedgingDelay),g.nonFatalStatusCodes&&($.nonFatalStatusCodes=g.nonFatalStatusCodes),$}function em(g){var $;let ee={name:[]};if(!("name"in g)||!Array.isArray(g.name))throw Error("Invalid method config: invalid name array");for(let $ of g.name)ee.name.push(ep($));if("waitForReady"in g){if("boolean"!=typeof g.waitForReady)throw Error("Invalid method config: invalid waitForReady");ee.waitForReady=g.waitForReady}if("timeout"in g){if("object"==typeof g.timeout){if(!("seconds"in g.timeout)||"number"!=typeof g.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in g.timeout)||"number"!=typeof g.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");ee.timeout=g.timeout}else if("string"==typeof g.timeout&&es.test(g.timeout)){let ei=g.timeout.substring(0,g.timeout.length-1).split(".");ee.timeout={seconds:0|ei[0],nanos:(null!==($=ei[1])&&void 0!==$?$:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in g){if("number"!=typeof g.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");ee.maxRequestBytes=g.maxRequestBytes}if("maxResponseBytes"in g){if("number"!=typeof g.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");ee.maxResponseBytes=g.maxResponseBytes}if("retryPolicy"in g){if("hedgingPolicy"in g)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");ee.retryPolicy=eu(g.retryPolicy)}else"hedgingPolicy"in g&&(ee.hedgingPolicy=eh(g.hedgingPolicy));return ee}function ef(g){if(!("maxTokens"in g)||"number"!=typeof g.maxTokens||g.maxTokens<=0||g.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in g)||"number"!=typeof g.tokenRatio||g.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+g.maxTokens.toFixed(3),tokenRatio:+g.tokenRatio.toFixed(3)}}function eg(g){let $={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in g){if("string"==typeof g.loadBalancingPolicy)$.loadBalancingPolicy=g.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in g){if(Array.isArray(g.loadBalancingConfig))for(let ee of g.loadBalancingConfig)$.loadBalancingConfig.push((0,en.validateLoadBalancingConfig)(ee));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in g&&Array.isArray(g.methodConfig))for(let ee of g.methodConfig)$.methodConfig.push(em(ee));"retryThrottling"in g&&($.retryThrottling=ef(g.retryThrottling));let ee=[];for(let g of $.methodConfig)for(let $ of g.name){for(let g of ee)if($.service===g.service&&$.method===g.method)throw Error(`Invalid service config: duplicate name ${$.service}/${$.method}`);ee.push($)}return $}function ev(g){if(!("serviceConfig"in g))throw Error("Invalid service config choice: missing service config");let $={serviceConfig:eg(g.serviceConfig)};if("clientLanguage"in g){if(Array.isArray(g.clientLanguage))for(let ee of($.clientLanguage=[],g.clientLanguage))if("string"==typeof ee)$.clientLanguage.push(ee);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in g){if(Array.isArray(g.clientHostname))for(let ee of($.clientHostname=[],g.clientHostname))if("string"==typeof ee)$.clientHostname.push(ee);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in g){if("number"==typeof g.percentage&&0<=g.percentage&&g.percentage<=100)$.percentage=g.percentage;else throw Error("Invalid service config choice: invalid percentage")}let ee=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let $ in g)if(!ee.includes($))throw Error(`Invalid service config choice: unexpected field ${$}`);return $}function ey(g,$){if(!Array.isArray(g))throw Error("Invalid service config list");for(let ee of g){let g=ev(ee);if("number"!=typeof g.percentage||!($>g.percentage)){if(Array.isArray(g.clientHostname)){let $=!1;for(let ee of g.clientHostname)ee===ei.hostname()&&($=!0);if(!$)continue}if(Array.isArray(g.clientLanguage)){let $=!1;for(let ee of g.clientLanguage)ee===eo&&($=!0);if(!$)continue}return g.serviceConfig}}throw Error("No matching service config found")}function e_(g,$){for(let ee of g)if(ee.length>0&&ee[0].startsWith("grpc_config=")){let g=ee.join("").substring(12),ei=JSON.parse(g);return ey(ei,$)}return null}$.validateRetryThrottling=ef,$.validateServiceConfig=eg,$.extractAndSelectServiceConfig=e_},9929:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.StatusBuilder=void 0;class ee{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(g){return this.code=g,this}withDetails(g){return this.details=g,this}withMetadata(g){return this.metadata=g,this}build(){let g={};return null!==this.code&&(g.code=this.code),null!==this.details&&(g.details=this.details),null!==this.metadata&&(g.metadata=this.metadata),g}}$.StatusBuilder=ee},80272:(g,$)=>{"use strict";var ee;Object.defineProperty($,"__esModule",{value:!0}),$.StreamDecoder=void 0,function(g){g[g.NO_DATA=0]="NO_DATA",g[g.READING_SIZE=1]="READING_SIZE",g[g.READING_MESSAGE=2]="READING_MESSAGE"}(ee||(ee={}));class ei{constructor(){this.readState=ee.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(g){let $,ei=0,er=[];for(;ei<g.length;)switch(this.readState){case ee.NO_DATA:this.readCompressFlag=g.slice(ei,ei+1),ei+=1,this.readState=ee.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case ee.READING_SIZE:if($=Math.min(g.length-ei,this.readSizeRemaining),g.copy(this.readPartialSize,4-this.readSizeRemaining,ei,ei+$),this.readSizeRemaining-=$,ei+=$,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=ee.READING_MESSAGE;else{let g=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=ee.NO_DATA,er.push(g)}}break;case ee.READING_MESSAGE:if($=Math.min(g.length-ei,this.readMessageRemaining),this.readPartialMessage.push(g.slice(ei,ei+$)),this.readMessageRemaining-=$,ei+=$,0===this.readMessageRemaining){let g=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),$=Buffer.concat(g,this.readMessageSize+5);this.readState=ee.NO_DATA,er.push($)}break;default:throw Error("Unexpected read state")}return er}}$.StreamDecoder=ei},72782:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.stringToSubchannelAddress=$.subchannelAddressToString=$.subchannelAddressEqual=$.isTcpSubchannelAddress=void 0;let ei=ee(41808);function er(g){return"port"in g}function en(g,$){return!g&&!$||!!g&&!!$&&(er(g)?er($)&&g.host===$.host&&g.port===$.port:!er($)&&g.path===$.path)}function es(g){return er(g)?g.host+":"+g.port:g.path}$.isTcpSubchannelAddress=er,$.subchannelAddressEqual=en,$.subchannelAddressToString=es;let eo=443;function ep(g,$){return(0,ei.isIP)(g)?{host:g,port:null!=$?$:eo}:{path:g}}$.stringToSubchannelAddress=ep},32210:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Http2SubchannelCall=void 0;let ei=ee(85158),er=ee(22037),en=ee(69238),es=ee(32908),eo=ee(80272),ep=ee(68200),eu=ee(69238),eh="subchannel_call";function em(g){for(let[$,ee]of Object.entries(er.constants.errno))if(ee===g)return $;return"Unknown system error "+g}class ef{constructor(g,$,ee,er,ep){this.http2Stream=g,this.callEventTracker=$,this.listener=ee,this.transport=er,this.callId=ep,this.decoder=new eo.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=en.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,g.on("response",(g,$)=>{let ee="";for(let $ of Object.keys(g))ee+="		"+$+": "+g[$]+"\n";switch(this.trace("Received server headers:\n"+ee),g[":status"]){case 400:this.mappedStatusCode=en.Status.INTERNAL;break;case 401:this.mappedStatusCode=en.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=en.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=en.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=en.Status.UNAVAILABLE;break;default:this.mappedStatusCode=en.Status.UNKNOWN}if($&ei.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(g);else{let $;try{$=es.Metadata.fromHttp2Headers(g)}catch(g){this.endCall({code:en.Status.UNKNOWN,details:g.message,metadata:new es.Metadata});return}this.listener.onReceiveMetadata($)}}),g.on("trailers",g=>{this.handleTrailers(g)}),g.on("data",g=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+g.length);let $=this.decoder.write(g);for(let g of $)this.trace("parsed message of length "+g.length),this.callEventTracker.addMessageReceived(),this.tryPush(g)}),g.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),g.on("close",()=>{process.nextTick(()=>{var $;let ee;if(this.trace("HTTP/2 stream closed with code "+g.rstCode),(null===($=this.finalStatus)||void 0===$?void 0:$.code)===en.Status.OK)return;let er="";switch(g.rstCode){case ei.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;ee=en.Status.INTERNAL,er=`Received RST_STREAM with code ${g.rstCode}`;break;case ei.constants.NGHTTP2_REFUSED_STREAM:ee=en.Status.UNAVAILABLE,er="Stream refused by server";break;case ei.constants.NGHTTP2_CANCEL:ee=en.Status.CANCELLED,er="Call cancelled";break;case ei.constants.NGHTTP2_ENHANCE_YOUR_CALM:ee=en.Status.RESOURCE_EXHAUSTED,er="Bandwidth exhausted or memory limit exceeded";break;case ei.constants.NGHTTP2_INADEQUATE_SECURITY:ee=en.Status.PERMISSION_DENIED,er="Protocol not secure enough";break;case ei.constants.NGHTTP2_INTERNAL_ERROR:ee=en.Status.INTERNAL,null===this.internalError?er=`Received RST_STREAM with code ${g.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(ee=en.Status.UNAVAILABLE,er=this.internalError.message):er=`Received RST_STREAM with code ${g.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:ee=en.Status.INTERNAL,er=`Received RST_STREAM with code ${g.rstCode}`}this.endCall({code:ee,details:er,metadata:new es.Metadata,rstCode:g.rstCode})})}),g.on("error",g=>{"ERR_HTTP2_STREAM_ERROR"!==g.code&&(this.trace("Node error event: message="+g.message+" code="+g.code+" errno="+em(g.errno)+" syscall="+g.syscall),this.internalError=g),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:en.Status.UNAVAILABLE,details:"Connection dropped",metadata:new es.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(g){ep.trace(eu.LogVerbosity.DEBUG,eh,"["+this.callId+"] "+g)}endCall(g){(null===this.finalStatus||this.finalStatus.code===en.Status.OK)&&(this.finalStatus=g,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===en.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(g){this.trace("pushing to reader message of length "+(g instanceof Buffer?g.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(g),this.maybeOutputStatus())})}tryPush(g){this.canPush?(this.http2Stream.pause(),this.push(g)):(this.trace("unpushedReadMessages.push message of length "+g.length),this.unpushedReadMessages.push(g))}handleTrailers(g){let $;this.callEventTracker.onStreamEnd(!0);let ee="";for(let $ of Object.keys(g))ee+="		"+$+": "+g[$]+"\n";this.trace("Received server trailers:\n"+ee);try{$=es.Metadata.fromHttp2Headers(g)}catch(g){$=new es.Metadata}let ei=$.getMap(),er=this.mappedStatusCode;if(er===en.Status.UNKNOWN&&"string"==typeof ei["grpc-status"]){let g=Number(ei["grpc-status"]);g in en.Status&&(er=g,this.trace("received status code "+g+" from server")),$.remove("grpc-status")}let eo="";if("string"==typeof ei["grpc-message"]){try{eo=decodeURI(ei["grpc-message"])}catch(g){eo=ei["grpc-message"]}$.remove("grpc-message"),this.trace('received status details string "'+eo+'" from server')}let ep={code:er,details:eo,metadata:$};this.endCall(ep)}destroyHttp2Stream(){var g;if(!this.http2Stream.destroyed){let $;$=(null===(g=this.finalStatus)||void 0===g?void 0:g.code)===en.Status.OK?ei.constants.NGHTTP2_NO_ERROR:ei.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+$),this.http2Stream.close($)}}cancelWithStatus(g,$){this.trace("cancelWithStatus code: "+g+' details: "'+$+'"'),this.endCall({code:g,details:$,metadata:new es.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==en.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let g=this.unpushedReadMessages.shift();this.push(g);return}this.http2Stream.resume()}sendMessageWithContext(g,$){this.trace("write() called with message of length "+$.length);let ee=$=>{process.nextTick(()=>{var ee;let ei=en.Status.UNAVAILABLE;(null==$?void 0:$.code)==="ERR_STREAM_WRITE_AFTER_END"&&(ei=en.Status.INTERNAL),$&&this.cancelWithStatus(ei,`Write error: ${$.message}`),null===(ee=g.callback)||void 0===ee||ee.call(g)})};this.trace("sending data chunk of length "+$.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write($,ee)}catch(g){this.endCall({code:en.Status.UNAVAILABLE,details:`Write failed with error ${g.message}`,metadata:new es.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}$.Http2SubchannelCall=ef},69609:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.BaseSubchannelWrapper=void 0;class ee{constructor(g){this.child=g}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(g){this.child.addConnectivityStateListener(g)}removeConnectivityStateListener(g){this.child.removeConnectivityStateListener(g)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(g){this.child.throttleKeepalive(g)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(g){return this.getRealSubchannel()===g.getRealSubchannel()}}$.BaseSubchannelWrapper=ee},88364:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.getSubchannelPool=$.SubchannelPool=void 0;let ei=ee(70332),er=ee(53904),en=ee(72782),es=ee(14717),eo=ee(16559),ep=1e4;class eu{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let g=!0;for(let $ in this.pool){let ee=this.pool[$],ei=ee.filter(g=>!g.subchannel.unrefIfOneRef());ei.length>0&&(g=!1),this.pool[$]=ei}g&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var g,$;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},ep),null===($=(g=this.cleanupTimer).unref)||void 0===$||$.call(g))}getOrCreateSubchannel(g,$,ee,ep){this.ensureCleanupTask();let eu=(0,es.uriToString)(g);if(eu in this.pool){let g=this.pool[eu];for(let er of g)if((0,en.subchannelAddressEqual)($,er.subchannelAddress)&&(0,ei.channelOptionsEqual)(ee,er.channelArguments)&&ep._equals(er.channelCredentials))return er.subchannel}let eh=new er.Subchannel(g,$,ee,ep,new eo.Http2SubchannelConnector(g));return eu in this.pool||(this.pool[eu]=[]),this.pool[eu].push({subchannelAddress:$,channelArguments:ee,channelCredentials:ep,subchannel:eh}),eh.ref(),eh}}$.SubchannelPool=eu;let eh=new eu;function em(g){return g?eh:new eu}$.getSubchannelPool=em},53904:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Subchannel=void 0;let ei=ee(91360),er=ee(77257),en=ee(68200),es=ee(69238),eo=ee(14717),ep=ee(72782),eu=ee(83316),eh="subchannel",em=2147483647;class ef{constructor(g,$,ee,en,es){var eo;this.channelTarget=g,this.subchannelAddress=$,this.options=ee,this.credentials=en,this.connector=es,this.connectivityState=ei.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new eu.ChannelzCallTracker,this.childrenTracker=new eu.ChannelzChildrenTracker,this.streamTracker=new eu.ChannelzCallTracker;let eh={initialDelay:ee["grpc.initial_reconnect_backoff_ms"],maxDelay:ee["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new er.BackoffTimeout(()=>{this.handleBackoffTimer()},eh),this.subchannelAddressString=(0,ep.subchannelAddressToString)($),this.keepaliveTime=null!==(eo=ee["grpc.keepalive_time_ms"])&&void 0!==eo?eo:-1,0===ee["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new eu.ChannelzTrace,this.channelzRef=(0,eu.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(ee,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(g){en.trace(es.LogVerbosity.DEBUG,eh,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+g)}refTrace(g){en.trace(es.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+g)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([ei.ConnectivityState.TRANSIENT_FAILURE],ei.ConnectivityState.CONNECTING):this.transitionToState([ei.ConnectivityState.TRANSIENT_FAILURE],ei.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let g=this.options;if(g["grpc.keepalive_time_ms"]){let $=Math.min(this.keepaliveTime,em);g=Object.assign(Object.assign({},g),{"grpc.keepalive_time_ms":$})}this.connector.connect(this.subchannelAddress,this.credentials,g).then(g=>{this.transitionToState([ei.ConnectivityState.CONNECTING],ei.ConnectivityState.READY)&&(this.transport=g,this.channelzEnabled&&this.childrenTracker.refChild(g.getChannelzRef()),g.addDisconnectListener(g=>{this.transitionToState([ei.ConnectivityState.READY],ei.ConnectivityState.IDLE),g&&this.keepaliveTime>0&&(this.keepaliveTime*=2,en.log(es.LogVerbosity.ERROR,`Connection to ${(0,eo.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))}))},g=>{this.transitionToState([ei.ConnectivityState.CONNECTING],ei.ConnectivityState.TRANSIENT_FAILURE)})}transitionToState(g,$){var ee,er;if(-1===g.indexOf(this.connectivityState))return!1;this.trace(ei.ConnectivityState[this.connectivityState]+" -> "+ei.ConnectivityState[$]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ei.ConnectivityState[$]);let en=this.connectivityState;switch(this.connectivityState=$,$){case ei.ConnectivityState.READY:this.stopBackoff();break;case ei.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case ei.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(ee=this.transport)||void 0===ee||ee.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case ei.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(er=this.transport)||void 0===er||er.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${$}`)}for(let g of this.stateListeners)g(this,en,$,this.keepaliveTime);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,eu.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([ei.ConnectivityState.CONNECTING,ei.ConnectivityState.READY],ei.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(g,$,ee,ei){let er;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),er={onCallEnd:g=>{g.code===es.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):er={},this.transport.createCall(g,$,ee,ei,er)}startConnecting(){process.nextTick(()=>{this.transitionToState([ei.ConnectivityState.IDLE],ei.ConnectivityState.CONNECTING)||this.connectivityState!==ei.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(g){this.stateListeners.add(g)}removeConnectivityStateListener(g){this.stateListeners.delete(g)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([ei.ConnectivityState.TRANSIENT_FAILURE],ei.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(g){return g.getRealSubchannel()===this}throttleKeepalive(g){g>this.keepaliveTime&&(this.keepaliveTime=g)}}$.Subchannel=ef},66801:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.getDefaultRootsData=$.CIPHER_SUITES=void 0;let ei=ee(57147);$.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let er=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,en=null;function es(){return er?(null===en&&(en=ei.readFileSync(er)),en):null}$.getDefaultRootsData=es},16559:(g,$,ee)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.Http2SubchannelConnector=void 0;let ei=ee(85158),er=ee(24404),en=ee(83316),es=ee(69238),eo=ee(18304),ep=ee(68200),eu=ee(14755),eh=ee(72782),em=ee(14717),ef=ee(41808),eg=ee(32210),ev=ee(60060),ey="transport",e_="transport_flowctrl",ew=ee(81513).i8,{HTTP2_HEADER_AUTHORITY:eS,HTTP2_HEADER_CONTENT_TYPE:eT,HTTP2_HEADER_METHOD:eC,HTTP2_HEADER_PATH:eE,HTTP2_HEADER_TE:eI,HTTP2_HEADER_USER_AGENT:eN}=ei.constants,eD=2e4,ek=Buffer.from("too_many_pings","ascii");class eR{constructor(g,$,ee,er){this.session=g,this.remoteName=er,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=eD,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new en.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,eh.subchannelAddressToString)($),0===ee["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,en.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[ee["grpc.primary_user_agent"],`grpc-node-js/${ew}`,ee["grpc.secondary_user_agent"]].filter(g=>g).join(" "),"grpc.keepalive_time_ms"in ee&&(this.keepaliveTimeMs=ee["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in ee&&(this.keepaliveTimeoutMs=ee["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in ee?this.keepaliveWithoutCalls=1===ee["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,g.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),g.once("goaway",(g,$,ee)=>{let er=!1;g===ei.constants.NGHTTP2_ENHANCE_YOUR_CALM&&ee.equals(ek)&&(er=!0),this.trace("connection closed by GOAWAY with code "+g),this.reportDisconnectToOwner(er)}),g.once("error",g=>{this.trace("connection closed with error "+g.message)}),ep.isTracerEnabled(ey)&&(g.on("remoteSettings",$=>{this.trace("new settings received"+(this.session!==g?" on the old connection":"")+": "+JSON.stringify($))}),g.on("localSettings",$=>{this.trace("local settings acknowledged by remote"+(this.session!==g?" on the old connection":"")+": "+JSON.stringify($))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var g,$,ee;let ei;let er=this.session.socket,en=er.remoteAddress?(0,eh.stringToSubchannelAddress)(er.remoteAddress,er.remotePort):null,es=er.localAddress?(0,eh.stringToSubchannelAddress)(er.localAddress,er.localPort):null;if(this.session.encrypted){let $=er,ee=$.getCipher(),en=$.getCertificate(),es=$.getPeerCertificate();ei={cipherSuiteStandardName:null!==(g=ee.standardName)&&void 0!==g?g:null,cipherSuiteOtherName:ee.standardName?null:ee.name,localCertificate:en&&"raw"in en?en.raw:null,remoteCertificate:es&&"raw"in es?es.raw:null}}else ei=null;let eo={remoteAddress:en,localAddress:es,security:ei,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==($=this.session.state.localWindowSize)&&void 0!==$?$:null,remoteFlowControlWindow:null!==(ee=this.session.state.remoteWindowSize)&&void 0!==ee?ee:null};return eo}trace(g){ep.trace(es.LogVerbosity.DEBUG,ey,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+g)}keepaliveTrace(g){ep.trace(es.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+g)}flowControlTrace(g){ep.trace(es.LogVerbosity.DEBUG,e_,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+g)}internalsTrace(g){ep.trace(es.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+g)}reportDisconnectToOwner(g){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach($=>$(g)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let g of this.activeCalls)g.onDisconnect()})}addDisconnectListener(g){this.disconnectListeners.push(g)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var g,$;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===($=(g=this.keepaliveTimeoutId).unref)||void 0===$||$.call(g));try{this.session.ping((g,$,ee)=>{g&&(this.keepaliveTrace("Ping failed with error "+g.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(g){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var g,$;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===($=(g=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===$?void 0:$.call(g)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(g){this.activeCalls.delete(g),0===this.activeCalls.size&&this.session.unref()}addActiveCall(g){this.activeCalls.add(g),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(g,$,ee,ei,er){let en,es,eo;let ep=g.toHttp2Headers();ep[eS]=$,ep[eN]=this.userAgent,ep[eT]="application/grpc",ep[eC]="POST",ep[eE]=ee,ep[eI]="trailers";try{en=this.session.request(ep)}catch(g){throw this.handleDisconnect(),g}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),es={addMessageSent:()=>{var g;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(g=er.addMessageSent)||void 0===g||g.call(er)},addMessageReceived:()=>{var g;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(g=er.addMessageReceived)||void 0===g||g.call(er)},onCallEnd:g=>{var $;null===($=er.onCallEnd)||void 0===$||$.call(er,g),this.removeActiveCall(eo)},onStreamEnd:g=>{var $;g?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===($=er.onStreamEnd)||void 0===$||$.call(er,g)}}):es={addMessageSent:()=>{var g;null===(g=er.addMessageSent)||void 0===g||g.call(er)},addMessageReceived:()=>{var g;null===(g=er.addMessageReceived)||void 0===g||g.call(er)},onCallEnd:g=>{var $;null===($=er.onCallEnd)||void 0===$||$.call(er,g),this.removeActiveCall(eo)},onStreamEnd:g=>{var $;null===($=er.onStreamEnd)||void 0===$||$.call(er,g)}},eo=new eg.Http2SubchannelCall(en,es,ei,this,(0,ev.getNextCallNumber)()),this.addActiveCall(eo),eo}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,en.unregisterChannelzRef)(this.channelzRef)}}class eA{constructor(g){this.channelTarget=g,this.session=null,this.isShutdown=!1}trace(g){ep.trace(es.LogVerbosity.DEBUG,ey,(0,em.uriToString)(this.channelTarget)+" "+g)}createSession(g,$,ee,en){return this.isShutdown?Promise.reject():new Promise((es,eo)=>{var ep,eg,ev;let ey;en.realTarget?(ey=(0,em.uriToString)(en.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,em.uriToString)(en.realTarget))):(ey=null,this.trace("creating HTTP/2 session to "+(0,eh.subchannelAddressToString)(g)));let e_=(0,eu.getDefaultAuthority)(null!==(ep=en.realTarget)&&void 0!==ep?ep:this.channelTarget),ew=$._getConnectionOptions()||{};ew.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in ee?ew.maxSessionMemory=ee["grpc-node.max_session_memory"]:ew.maxSessionMemory=Number.MAX_SAFE_INTEGER;let eS="http://";if("secureContext"in ew){if(eS="https://",ee["grpc.ssl_target_name_override"]){let g=ee["grpc.ssl_target_name_override"];ew.checkServerIdentity=($,ee)=>(0,er.checkServerIdentity)(g,ee),ew.servername=g}else{let g=null!==(ev=null===(eg=(0,em.splitHostPort)(e_))||void 0===eg?void 0:eg.host)&&void 0!==ev?ev:"localhost";ew.servername=g}en.socket&&(ew.createConnection=(g,$)=>en.socket)}else ew.createConnection=($,ee)=>en.socket?en.socket:ef.connect(g);ew=Object.assign(Object.assign(Object.assign({},ew),g),{enableTrace:1===ee["grpc-node.tls_enable_trace"]});let eT=ei.connect(eS+e_,ew);this.session=eT,eT.unref(),eT.once("connect",()=>{eT.removeAllListeners(),es(new eR(eT,g,ee,ey)),this.session=null}),eT.once("close",()=>{this.session=null,eo()}),eT.once("error",g=>{this.trace("connection failed with error "+g.message)})})}connect(g,$,ee){var ei,en;if(this.isShutdown)return Promise.reject();let es=$._getConnectionOptions()||{};if("secureContext"in es){if(es.ALPNProtocols=["h2"],ee["grpc.ssl_target_name_override"]){let g=ee["grpc.ssl_target_name_override"];es.checkServerIdentity=($,ee)=>(0,er.checkServerIdentity)(g,ee),es.servername=g}else if("grpc.http_connect_target"in ee){let g=(0,eu.getDefaultAuthority)(null!==(ei=(0,em.parseUri)(ee["grpc.http_connect_target"]))&&void 0!==ei?ei:{path:"localhost"}),$=(0,em.splitHostPort)(g);es.servername=null!==(en=null==$?void 0:$.host)&&void 0!==en?en:g}ee["grpc-node.tls_enable_trace"]&&(es.enableTrace=!0)}return(0,eo.getProxiedConnection)(g,ee,es).then(ei=>this.createSession(g,$,ee,ei))}shutdown(){var g;this.isShutdown=!0,null===(g=this.session)||void 0===g||g.close(),this.session=null}}$.Http2SubchannelConnector=eA},14717:(g,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.uriToString=$.splitHostPort=$.parseUri=void 0;let ee=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function ei(g){let $=ee.exec(g);return null===$?null:{scheme:$[1],authority:$[2],path:$[3]}}$.parseUri=ei;let er=/^\d+$/;function en(g){if(g.startsWith("[")){let $=g.indexOf("]");if(-1===$)return null;let ee=g.substring(1,$);if(-1===ee.indexOf(":"))return null;if(!(g.length>$+1))return{host:ee};if(":"!==g[$+1])return null;{let ei=g.substring($+2);return er.test(ei)?{host:ee,port:+ei}:null}}{let $=g.split(":");return 2!==$.length?{host:g}:er.test($[1])?{host:$[0],port:+$[1]}:null}}function es(g){let $="";return void 0!==g.scheme&&($+=g.scheme+":"),void 0!==g.authority&&($+="//"+g.authority+"/"),$+=g.path}$.splitHostPort=en,$.uriToString=es},18196:(g,$,ee)=>{"use strict";var ei;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */ei={value:!0},ei=ei=$.im=$.J_=ei=ei=ei=void 0;let er=ee(19977),en=ee(75962),es=ee(95307),eo=ee(9234),ep=ee(16933);ei=ep,ei=function(g){return"@type"in g&&"string"==typeof g["@type"]};let eu={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function eh(g,$){return""===g?$:g+"."+$}function em(g){return g instanceof en.Service||g instanceof en.Type||g instanceof en.Enum}function ef(g){return g instanceof en.Namespace||g instanceof en.Root}function eg(g,$){let ee=eh($,g.name);return em(g)?[[ee,g]]:ef(g)&&void 0!==g.nested?Object.keys(g.nested).map($=>eg(g.nested[$],ee)).reduce((g,$)=>g.concat($),[]):[]}function ev(g,$){return function(ee){return g.toObject(g.decode(ee),$)}}function ey(g){return function($){if(Array.isArray($))throw Error(`Failed to serialize message: expected object with ${g.name} structure, got array instead`);let ee=g.fromObject($);return g.encode(ee).finish()}}function e_(g,$,ee,ei){let en=g.resolvedRequestType,es=g.resolvedResponseType;return{path:"/"+$+"/"+g.name,requestStream:!!g.requestStream,responseStream:!!g.responseStream,requestSerialize:ey(en),requestDeserialize:ev(en,ee),responseSerialize:ey(es),responseDeserialize:ev(es,ee),originalName:er(g.name),requestType:eS(en,ei),responseType:eS(es,ei)}}function ew(g,$,ee,ei){let er={};for(let en of g.methodsArray)er[en.name]=e_(en,$,ee,ei);return er}function eS(g,$){let ee=g.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:ee.$type.toObject(ee,eu),fileDescriptorProtos:$}}function eT(g,$){let ee=g.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:ee.$type.toObject(ee,eu),fileDescriptorProtos:$}}function eC(g,$,ee,ei){if(g instanceof en.Service)return ew(g,$,ee,ei);if(g instanceof en.Type)return eS(g,ei);if(g instanceof en.Enum)return eT(g,ei);throw Error("Type mismatch in reflection object handling")}function eE(g,$){let ee={};g.resolveAll();let ei=g.toDescriptor("proto3").file,er=ei.map(g=>Buffer.from(es.FileDescriptorProto.encode(g).finish()));for(let[ei,en]of eg(g,""))ee[ei]=eC(en,ei,$,er);return ee}function eI(g,$){$=$||{};let ee=en.Root.fromDescriptor(g);return ee.resolveAll(),eE(ee,$)}function eN(g,$){let ee=(0,eo.loadProtosWithOptionsSync)(g,$);return eE(ee,$)}function eD(g,$){$=$||{};let ee=en.Root.fromJSON(g);return ee.resolveAll(),eE(ee,$)}ei=function(g,$){return(0,eo.loadProtosWithOptions)(g,$).then(g=>eE(g,$))},$.J_=eN,$.im=eD,ei=function(g,$){let ee=es.FileDescriptorSet.decode(g);return eI(ee,$)},ei=function(g,$){let ee=es.FileDescriptorSet.fromObject(g);return eI(ee,$)},(0,eo.addCommonProtos)()},9234:(g,$,ee)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty($,"__esModule",{value:!0}),$.addCommonProtos=$.loadProtosWithOptionsSync=$.loadProtosWithOptions=void 0;let ei=ee(57147),er=ee(71017),en=ee(75962);function es(g,$){let ee=g.resolvePath;g.resolvePath=(g,en)=>{if(er.isAbsolute(en))return en;for(let g of $){let $=er.join(g,en);try{return ei.accessSync($,ei.constants.R_OK),$}catch(g){continue}}return process.emitWarning(`${en} not found in any of the include paths ${$}`),ee(g,en)}}async function eo(g,$){let ee=new en.Root;if(($=$||{}).includeDirs){if(!Array.isArray($.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));es(ee,$.includeDirs)}let ei=await ee.load(g,$);return ei.resolveAll(),ei}function ep(g,$){let ee=new en.Root;if(($=$||{}).includeDirs){if(!Array.isArray($.includeDirs))throw Error("The includeDirs option must be an array");es(ee,$.includeDirs)}let ei=ee.loadSync(g,$);return ei.resolveAll(),ei}function eu(){let g=ee(56541),$=ee(89987),ei=ee(57674),er=ee(73795);en.common("api",g.nested.google.nested.protobuf.nested),en.common("descriptor",$.nested.google.nested.protobuf.nested),en.common("source_context",ei.nested.google.nested.protobuf.nested),en.common("type",er.nested.google.nested.protobuf.nested)}$.loadProtosWithOptions=eo,$.loadProtosWithOptionsSync=ep,$.addCommonProtos=eu},18670:g=>{"use strict";function $(g,$){for(var ee=Array(arguments.length-1),ei=0,er=2,en=!0;er<arguments.length;)ee[ei++]=arguments[er++];return new Promise(function(er,es){ee[ei]=function(g){if(en){if(en=!1,g)es(g);else{for(var $=Array(arguments.length-1),ee=0;ee<$.length;)$[ee++]=arguments[ee];er.apply(null,$)}}};try{g.apply($||null,ee)}catch(g){en&&(en=!1,es(g))}})}g.exports=$},36009:(g,$)=>{"use strict";var ee=$;ee.length=function(g){var $=g.length;if(!$)return 0;for(var ee=0;--$%4>1&&"="===g.charAt($);)++ee;return Math.ceil(3*g.length)/4-ee};for(var ei=Array(64),er=Array(123),en=0;en<64;)er[ei[en]=en<26?en+65:en<52?en+71:en<62?en-4:en-59|43]=en++;ee.encode=function(g,$,ee){for(var er,en=null,es=[],eo=0,ep=0;$<ee;){var eu=g[$++];switch(ep){case 0:es[eo++]=ei[eu>>2],er=(3&eu)<<4,ep=1;break;case 1:es[eo++]=ei[er|eu>>4],er=(15&eu)<<2,ep=2;break;case 2:es[eo++]=ei[er|eu>>6],es[eo++]=ei[63&eu],ep=0}eo>8191&&((en||(en=[])).push(String.fromCharCode.apply(String,es)),eo=0)}return(ep&&(es[eo++]=ei[er],es[eo++]=61,1===ep&&(es[eo++]=61)),en)?(eo&&en.push(String.fromCharCode.apply(String,es.slice(0,eo))),en.join("")):String.fromCharCode.apply(String,es.slice(0,eo))};var es="invalid encoding";ee.decode=function(g,$,ee){for(var ei,en=ee,eo=0,ep=0;ep<g.length;){var eu=g.charCodeAt(ep++);if(61===eu&&eo>1)break;if(void 0===(eu=er[eu]))throw Error(es);switch(eo){case 0:ei=eu,eo=1;break;case 1:$[ee++]=ei<<2|(48&eu)>>4,ei=eu,eo=2;break;case 2:$[ee++]=(15&ei)<<4|(60&eu)>>2,ei=eu,eo=3;break;case 3:$[ee++]=(3&ei)<<6|eu,eo=0}}if(1===eo)throw Error(es);return ee-en},ee.test=function(g){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(g)}},57311:g=>{"use strict";function $(g,ee){"string"==typeof g&&(ee=g,g=void 0);var ei=[];function er(g){if("string"!=typeof g){var ee=en();if($.verbose&&console.log("codegen: "+ee),ee="return "+ee,g){for(var es=Object.keys(g),eo=Array(es.length+1),ep=Array(es.length),eu=0;eu<es.length;)eo[eu]=es[eu],ep[eu]=g[es[eu++]];return eo[eu]=ee,Function.apply(null,eo).apply(null,ep)}return Function(ee)()}for(var eh=Array(arguments.length-1),em=0;em<eh.length;)eh[em]=arguments[++em];if(em=0,g=g.replace(/%([%dfijs])/g,function(g,$){var ee=eh[em++];switch($){case"d":case"f":return String(Number(ee));case"i":return String(Math.floor(ee));case"j":return JSON.stringify(ee);case"s":return String(ee)}return"%"}),em!==eh.length)throw Error("parameter count mismatch");return ei.push(g),er}function en($){return"function "+($||ee||"")+"("+(g&&g.join(",")||"")+"){\n  "+ei.join("\n  ")+"\n}"}return er.toString=en,er}g.exports=$,$.verbose=!1},50107:g=>{"use strict";function $(){this._listeners={}}g.exports=$,$.prototype.on=function(g,$,ee){return(this._listeners[g]||(this._listeners[g]=[])).push({fn:$,ctx:ee||this}),this},$.prototype.off=function(g,$){if(void 0===g)this._listeners={};else if(void 0===$)this._listeners[g]=[];else for(var ee=this._listeners[g],ei=0;ei<ee.length;)ee[ei].fn===$?ee.splice(ei,1):++ei;return this},$.prototype.emit=function(g){var $=this._listeners[g];if($){for(var ee=[],ei=1;ei<arguments.length;)ee.push(arguments[ei++]);for(ei=0;ei<$.length;)$[ei].fn.apply($[ei++].ctx,ee)}return this}},82651:(g,$,ee)=>{"use strict";g.exports=en;var ei=ee(18670),er=ee(28031)("fs");function en(g,$,ee){return("function"==typeof $?(ee=$,$={}):$||($={}),ee)?!$.xhr&&er&&er.readFile?er.readFile(g,function(ei,er){return ei&&"undefined"!=typeof XMLHttpRequest?en.xhr(g,$,ee):ei?ee(ei):ee(null,$.binary?er:er.toString("utf8"))}):en.xhr(g,$,ee):ei(en,this,g,$)}en.xhr=function(g,$,ee){var ei=new XMLHttpRequest;ei.onreadystatechange=function(){if(4===ei.readyState){if(0!==ei.status&&200!==ei.status)return ee(Error("status "+ei.status));if($.binary){var g=ei.response;if(!g){g=[];for(var er=0;er<ei.responseText.length;++er)g.push(255&ei.responseText.charCodeAt(er))}return ee(null,"undefined"!=typeof Uint8Array?new Uint8Array(g):g)}return ee(null,ei.responseText)}},$.binary&&("overrideMimeType"in ei&&ei.overrideMimeType("text/plain; charset=x-user-defined"),ei.responseType="arraybuffer"),ei.open("GET",g),ei.send()}},71188:g=>{"use strict";function $(g){return"undefined"!=typeof Float32Array?function(){var $=new Float32Array([-0]),ee=new Uint8Array($.buffer),ei=128===ee[3];function er(g,ei,er){$[0]=g,ei[er]=ee[0],ei[er+1]=ee[1],ei[er+2]=ee[2],ei[er+3]=ee[3]}function en(g,ei,er){$[0]=g,ei[er]=ee[3],ei[er+1]=ee[2],ei[er+2]=ee[1],ei[er+3]=ee[0]}function es(g,ei){return ee[0]=g[ei],ee[1]=g[ei+1],ee[2]=g[ei+2],ee[3]=g[ei+3],$[0]}function eo(g,ei){return ee[3]=g[ei],ee[2]=g[ei+1],ee[1]=g[ei+2],ee[0]=g[ei+3],$[0]}g.writeFloatLE=ei?er:en,g.writeFloatBE=ei?en:er,g.readFloatLE=ei?es:eo,g.readFloatBE=ei?eo:es}():function(){function $(g,$,ee,ei){var er=$<0?1:0;if(er&&($=-$),0===$)g(1/$>0?0:2147483648,ee,ei);else if(isNaN($))g(2143289344,ee,ei);else if($>34028234663852886e22)g((er<<31|2139095040)>>>0,ee,ei);else if($<11754943508222875e-54)g((er<<31|Math.round($/1401298464324817e-60))>>>0,ee,ei);else{var en=Math.floor(Math.log($)/Math.LN2),es=8388607&Math.round($*Math.pow(2,-en)*8388608);g((er<<31|en+127<<23|es)>>>0,ee,ei)}}function es(g,$,ee){var ei=g($,ee),er=(ei>>31)*2+1,en=ei>>>23&255,es=8388607&ei;return 255===en?es?NaN:er*(1/0):0===en?1401298464324817e-60*er*es:er*Math.pow(2,en-150)*(es+8388608)}g.writeFloatLE=$.bind(null,ee),g.writeFloatBE=$.bind(null,ei),g.readFloatLE=es.bind(null,er),g.readFloatBE=es.bind(null,en)}(),"undefined"!=typeof Float64Array?function(){var $=new Float64Array([-0]),ee=new Uint8Array($.buffer),ei=128===ee[7];function er(g,ei,er){$[0]=g,ei[er]=ee[0],ei[er+1]=ee[1],ei[er+2]=ee[2],ei[er+3]=ee[3],ei[er+4]=ee[4],ei[er+5]=ee[5],ei[er+6]=ee[6],ei[er+7]=ee[7]}function en(g,ei,er){$[0]=g,ei[er]=ee[7],ei[er+1]=ee[6],ei[er+2]=ee[5],ei[er+3]=ee[4],ei[er+4]=ee[3],ei[er+5]=ee[2],ei[er+6]=ee[1],ei[er+7]=ee[0]}function es(g,ei){return ee[0]=g[ei],ee[1]=g[ei+1],ee[2]=g[ei+2],ee[3]=g[ei+3],ee[4]=g[ei+4],ee[5]=g[ei+5],ee[6]=g[ei+6],ee[7]=g[ei+7],$[0]}function eo(g,ei){return ee[7]=g[ei],ee[6]=g[ei+1],ee[5]=g[ei+2],ee[4]=g[ei+3],ee[3]=g[ei+4],ee[2]=g[ei+5],ee[1]=g[ei+6],ee[0]=g[ei+7],$[0]}g.writeDoubleLE=ei?er:en,g.writeDoubleBE=ei?en:er,g.readDoubleLE=ei?es:eo,g.readDoubleBE=ei?eo:es}():function(){function $(g,$,ee,ei,er,en){var es,eo=ei<0?1:0;if(eo&&(ei=-ei),0===ei)g(0,er,en+$),g(1/ei>0?0:2147483648,er,en+ee);else if(isNaN(ei))g(0,er,en+$),g(2146959360,er,en+ee);else if(ei>17976931348623157e292)g(0,er,en+$),g((eo<<31|2146435072)>>>0,er,en+ee);else if(ei<22250738585072014e-324)g((es=ei/5e-324)>>>0,er,en+$),g((eo<<31|es/4294967296)>>>0,er,en+ee);else{var ep=Math.floor(Math.log(ei)/Math.LN2);1024===ep&&(ep=1023),g(4503599627370496*(es=ei*Math.pow(2,-ep))>>>0,er,en+$),g((eo<<31|ep+1023<<20|1048576*es&1048575)>>>0,er,en+ee)}}function es(g,$,ee,ei,er){var en=g(ei,er+$),es=g(ei,er+ee),eo=(es>>31)*2+1,ep=es>>>20&2047,eu=4294967296*(1048575&es)+en;return 2047===ep?eu?NaN:eo*(1/0):0===ep?5e-324*eo*eu:eo*Math.pow(2,ep-1075)*(eu+4503599627370496)}g.writeDoubleLE=$.bind(null,ee,0,4),g.writeDoubleBE=$.bind(null,ei,4,0),g.readDoubleLE=es.bind(null,er,0,4),g.readDoubleBE=es.bind(null,en,4,0)}(),g}function ee(g,$,ee){$[ee]=255&g,$[ee+1]=g>>>8&255,$[ee+2]=g>>>16&255,$[ee+3]=g>>>24}function ei(g,$,ee){$[ee]=g>>>24,$[ee+1]=g>>>16&255,$[ee+2]=g>>>8&255,$[ee+3]=255&g}function er(g,$){return(g[$]|g[$+1]<<8|g[$+2]<<16|g[$+3]<<24)>>>0}function en(g,$){return(g[$]<<24|g[$+1]<<16|g[$+2]<<8|g[$+3])>>>0}g.exports=$($)},28031:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},52768:(g,$)=>{"use strict";var ee=$,ei=ee.isAbsolute=function(g){return/^(?:\/|\w+:)/.test(g)},er=ee.normalize=function(g){var $=(g=g.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),ee=ei(g),er="";ee&&(er=$.shift()+"/");for(var en=0;en<$.length;)".."===$[en]?en>0&&".."!==$[en-1]?$.splice(--en,2):ee?$.splice(en,1):++en:"."===$[en]?$.splice(en,1):++en;return er+$.join("/")};ee.resolve=function(g,$,ee){return(ee||($=er($)),ei($))?$:(ee||(g=er(g)),(g=g.replace(/(?:\/|^)[^/]+$/,"")).length?er(g+"/"+$):$)}},14314:g=>{"use strict";function $(g,$,ee){var ei=ee||8192,er=ei>>>1,en=null,es=ei;return function(ee){if(ee<1||ee>er)return g(ee);es+ee>ei&&(en=g(ei),es=0);var eo=$.call(en,es,es+=ee);return 7&es&&(es=(7|es)+1),eo}}g.exports=$},67148:(g,$)=>{"use strict";var ee=$;ee.length=function(g){for(var $=0,ee=0,ei=0;ei<g.length;++ei)(ee=g.charCodeAt(ei))<128?$+=1:ee<2048?$+=2:(64512&ee)==55296&&(64512&g.charCodeAt(ei+1))==56320?(++ei,$+=4):$+=3;return $},ee.read=function(g,$,ee){if(ee-$<1)return"";for(var ei,er=null,en=[],es=0;$<ee;)(ei=g[$++])<128?en[es++]=ei:ei>191&&ei<224?en[es++]=(31&ei)<<6|63&g[$++]:ei>239&&ei<365?(ei=((7&ei)<<18|(63&g[$++])<<12|(63&g[$++])<<6|63&g[$++])-65536,en[es++]=55296+(ei>>10),en[es++]=56320+(1023&ei)):en[es++]=(15&ei)<<12|(63&g[$++])<<6|63&g[$++],es>8191&&((er||(er=[])).push(String.fromCharCode.apply(String,en)),es=0);return er?(es&&er.push(String.fromCharCode.apply(String,en.slice(0,es))),er.join("")):String.fromCharCode.apply(String,en.slice(0,es))},ee.write=function(g,$,ee){for(var ei,er,en=ee,es=0;es<g.length;++es)(ei=g.charCodeAt(es))<128?$[ee++]=ei:(ei<2048?$[ee++]=ei>>6|192:((64512&ei)==55296&&(64512&(er=g.charCodeAt(es+1)))==56320?(ei=65536+((1023&ei)<<10)+(1023&er),++es,$[ee++]=ei>>18|240,$[ee++]=ei>>12&63|128):$[ee++]=ei>>12|224,$[ee++]=ei>>6&63|128),$[ee++]=63&ei|128);return ee-en}},65643:(g,$,ee)=>{"use strict";var ei=ee(12781).Stream,er=ee(73837),en=ee(38877),es=ee(67700),eo=ee(20340),ep=ee(64575),eu=ee(66557),eh=function(g,$,ee){this.writable=!0,ee=ee||{},this._stream=$.socket,this._ping=ee.ping||this.DEFAULT_PING,this._retry=ee.retry||this.DEFAULT_RETRY;var ei=en.isSecureRequest(g)?"https:":"http:";this.url=ei+"//"+g.headers.host+g.url,this.lastEventId=g.headers["last-event-id"]||"",this.readyState=eo.CONNECTING;var er=new es,ep=this;if(ee.headers)for(var eu in ee.headers)er.set(eu,ee.headers[eu]);if(this._stream&&this._stream.writable){process.nextTick(function(){ep._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var eh="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+er.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(eh),this._stream.on("drain",function(){ep.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){ep.ping()},1e3*this._ping)),["error","end"].forEach(function(g){ep._stream.on(g,function(){ep.close()})})}};er.inherits(eh,ei),eh.isEventSource=function(g){return"GET"===g.method&&(g.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var em={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(g){if(!this.writable)return!1;try{return this._stream.write(g,"utf8")}catch(g){return!1}},_open:function(){if(this.readyState===eo.CONNECTING){this.readyState=eo.OPEN;var g=new eu("open");g.initEvent("open",!1,!1),this.dispatchEvent(g)}},write:function(g){return this.send(g)},end:function(g){void 0!==g&&this.write(g),this.close()},send:function(g,$){if(this.readyState>eo.OPEN)return!1;g=String(g).replace(/(\r\n|\r|\n)/g,"$1data: ");var ee="";return($=$||{}).event&&(ee+="event: "+$.event+"\r\n"),$.id&&(ee+="id: "+$.id+"\r\n"),ee+="data: "+g+"\r\n\r\n",this._write(ee)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>eo.OPEN)return!1;this.readyState=eo.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var g=new eu("close");return g.initEvent("close",!1,!1),this.dispatchEvent(g),!0}};for(var ef in em)eh.prototype[ef]=em[ef];for(var eg in ep)eh.prototype[eg]=ep[eg];g.exports=eh},11955:(g,$,ee)=>{"use strict";var ei=ee(73837),er=ee(38877),en=ee(20340),es=function(g,$,ee,ei,es){es=es||{},this._stream=$,this._driver=er.http(g,{maxLength:es.maxLength,protocols:ei});var eo=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var ep=function(){eo._stream.removeListener("data",ep)};this._stream.on("data",ep),en.call(this,es),process.nextTick(function(){eo._driver.start(),eo._driver.io.write(ee)})}};ei.inherits(es,en),es.isWebSocket=function(g){return er.isWebSocket(g)},es.validateOptions=function(g,$){er.validateOptions(g,$)},es.WebSocket=es,es.Client=ee(22903),es.EventSource=ee(65643),g.exports=es},20340:(g,$,ee)=>{"use strict";var ei=ee(12781).Stream,er=ee(73837),en=ee(38877),es=ee(64575),eo=ee(66557),ep=function(g){g=g||{},en.validateOptions(g,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var $=g.headers;if($)for(var ee in $)this._driver.setHeader(ee,$[ee]);var ei=g.extensions;ei&&[].concat(ei).forEach(this._driver.addExtension,this._driver),this._ping=g.ping,this._pingId=0,this.readyState=ep.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var er=this;this._driver.on("open",function(g){er._open()}),this._driver.on("message",function(g){er._receiveMessage(g.data)}),this._driver.on("close",function(g){er._beginClose(g.reason,g.code)}),this._driver.on("error",function(g){er._emitError(g.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){er.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){er._pingId+=1,er.ping(er._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};er.inherits(ep,ei),ep.CONNECTING=0,ep.OPEN=1,ep.CLOSING=2,ep.CLOSED=3,ep.CLOSE_TIMEOUT=3e4;var eu={write:function(g){return this.send(g)},end:function(g){void 0!==g&&this.send(g),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(g){return!(this.readyState>ep.OPEN)&&(g instanceof Buffer||(g=String(g)),this._driver.messages.write(g))},ping:function(g,$){return!(this.readyState>ep.OPEN)&&this._driver.ping(g,$)},close:function(g,$){if(void 0===g&&(g=1e3),void 0===$&&($=""),1e3!==g&&(g<3e3||g>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+g+" is neither.");if(this.readyState<ep.CLOSING){var ee=this;this._closeTimer=setTimeout(function(){ee._beginClose("",1006)},ep.CLOSE_TIMEOUT)}this.readyState!==ep.CLOSED&&(this.readyState=ep.CLOSING),this._driver.close($,g)},_configureStream:function(){var g=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function($){this._stream.on($,function(){g._finalizeClose()})},this),this._stream.on("error",function($){g._emitError("Network error: "+g.url+": "+$.message),g._finalizeClose()})},_open:function(){if(this.readyState===ep.CONNECTING){this.readyState=ep.OPEN,this.protocol=this._driver.protocol||"";var g=new eo("open");g.initEvent("open",!1,!1),this.dispatchEvent(g)}},_receiveMessage:function(g){if(this.readyState>ep.OPEN)return!1;this.readable&&this.emit("data",g);var $=new eo("message",{data:g});$.initEvent("message",!1,!1),this.dispatchEvent($)},_emitError:function(g){if(!(this.readyState>=ep.CLOSING)){var $=new eo("error",{message:g});$.initEvent("error",!1,!1),this.dispatchEvent($)}},_beginClose:function(g,$){this.readyState!==ep.CLOSED&&(this.readyState=ep.CLOSING,this._closeParams=[g,$],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==ep.CLOSED){this.readyState=ep.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var g=this._closeParams?this._closeParams[0]:"",$=this._closeParams?this._closeParams[1]:1006,ee=new eo("close",{code:$,reason:g});ee.initEvent("close",!1,!1),this.dispatchEvent(ee)}}};for(var eh in eu)ep.prototype[eh]=eu[eh];for(var em in es)ep.prototype[em]=es[em];g.exports=ep},66557:g=>{"use strict";var $=function(g,$){for(var ee in this.type=g,$)this[ee]=$[ee]};$.prototype.initEvent=function(g,$,ee){this.type=g,this.bubbles=$,this.cancelable=ee},$.prototype.stopPropagation=function(){},$.prototype.preventDefault=function(){},$.CAPTURING_PHASE=1,$.AT_TARGET=2,$.BUBBLING_PHASE=3,g.exports=$},64575:(g,$,ee)=>{"use strict";var ei=ee(66557),er={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(g,$,ee){this.on(g,$)},removeEventListener:function(g,$,ee){this.removeListener(g,$)},dispatchEvent:function(g){g.target=g.currentTarget=this,g.eventPhase=ei.AT_TARGET,this["on"+g.type]&&this["on"+g.type](g),this.emit(g.type,g)}};g.exports=er},22903:(g,$,ee)=>{"use strict";var ei=ee(73837),er=ee(41808),en=ee(24404),es=ee(57310),eo=ee(38877),ep=ee(20340);ee(66557);var eu={"http:":80,"https:":443,"ws:":80,"wss:":443},eh=["https:","wss:"],em=function(g,$,ee){ee=ee||{},this.url=g,this._driver=eo.client(this.url,{maxLength:ee.maxLength,protocols:$}),["open","error"].forEach(function(g){this._driver.on(g,function(){eS.headers=eS._driver.headers,eS.statusCode=eS._driver.statusCode})},this);var ei=ee.proxy||{},em=es.parse(ei.origin||this.url),ef=em.port||eu[em.protocol],eg=eh.indexOf(em.protocol)>=0,ev=function(){eS._onConnect()},ey=ee.net||{},e_=ee.tls||{},ew=ei.origin?ei.tls||{}:e_,eS=this;ey.host=ew.host=em.hostname,ey.port=ew.port=ef,e_.ca=e_.ca||ee.ca,ew.servername=ew.servername||em.hostname,this._stream=eg?en.connect(ew,ev):er.connect(ey,ev),ei.origin&&this._configureProxy(ei,e_),ep.call(this,ee)};ei.inherits(em,ep),em.prototype._onConnect=function(){(this._proxy||this._driver).start()},em.prototype._configureProxy=function(g,$){var ee,ei=es.parse(this.url),er=eh.indexOf(ei.protocol)>=0,eo=this;if(this._proxy=this._driver.proxy(g.origin),g.headers)for(ee in g.headers)this._proxy.setHeader(ee,g.headers[ee]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(er){var g={socket:eo._stream,servername:ei.hostname};for(ee in $)g[ee]=$[ee];eo._stream=en.connect(g),eo._configureStream()}eo._driver.io.pipe(eo._stream),eo._stream.pipe(eo._driver.io),eo._driver.start()}),this._proxy.on("error",function(g){eo._driver.emit("error",g)})},g.exports=em},60156:(g,$,ee)=>{var ei,er=ee(39491);function en(g){er.ok(g===en.REQUEST||g===en.RESPONSE||void 0===g),void 0===g||this.initialize(g),this.maxHeaderSize=en.maxHeaderSize}$.m=en,en.prototype.initialize=function(g,$){er.ok(g===en.REQUEST||g===en.RESPONSE),this.type=g,this.state=g+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},en.encoding="ascii",en.maxHeaderSize=81920,en.REQUEST="REQUEST",en.RESPONSE="RESPONSE";var es=en.kOnHeaders=1,eo=en.kOnHeadersComplete=2,ep=en.kOnBody=3,eu=en.kOnMessageComplete=4;en.prototype[es]=en.prototype[eo]=en.prototype[ep]=en.prototype[eu]=function(){};var eh=!0;Object.defineProperty(en,"kOnExecute",{get:function(){return eh=!1,99}});var em=ei=en.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],ef=em.indexOf("CONNECT");en.prototype.reinitialize=en,en.prototype.close=en.prototype.pause=en.prototype.resume=en.prototype.free=function(){},en.prototype._compatMode0_11=!1,en.prototype.getAsyncId=function(){return 0};var eg={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};en.prototype.execute=function(g,$,ee){if(!(this instanceof en))throw TypeError("not a HTTPParser");$=$||0,ee="number"==typeof ee?ee:g.length,this.chunk=g,this.offset=$;var ei=this.end=$+ee;try{for(;this.offset<ei&&!this[this.state](););}catch(g){if(this.isUserCall)throw g;return this.hadError=!0,g}return(this.chunk=null,ee=this.offset-$,eg[this.state]&&(this.headerSize+=ee,this.headerSize>(this.maxHeaderSize||en.maxHeaderSize)))?Error("max header size exceeded"):ee};var ev={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};en.prototype.finish=function(){if(!this.hadError){if(!ev[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[eu]())}},en.prototype.consume=en.prototype.unconsume=en.prototype.getCurrentBuffer=function(){},en.prototype.userCall=function(){this.isUserCall=!0;var g=this;return function($){return g.isUserCall=!1,$}},en.prototype.nextRequest=function(){this.userCall()(this[eu]()),this.reinitialize(this.type)},en.prototype.consumeLine=function(){for(var g=this.end,$=this.chunk,ee=this.offset;ee<g;ee++)if(10===$[ee]){var ei=this.line+$.toString(en.encoding,this.offset,ee);return"\r"===ei.charAt(ei.length-1)&&(ei=ei.substr(0,ei.length-1)),this.line="",this.offset=ee+1,ei}this.line+=$.toString(en.encoding,this.offset,this.end),this.offset=this.end};var ey=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,e_=/^[ \t]+(.*[^ \t])/;en.prototype.parseHeader=function(g,$){if(-1!==g.indexOf("\r"))throw eT("HPE_LF_EXPECTED");var ee=ey.exec(g),ei=ee&&ee[1];if(ei)$.push(ei),$.push(ee[2]);else{var er=e_.exec(g);er&&$.length&&($[$.length-1]&&($[$.length-1]+=" "),$[$.length-1]+=er[1])}};var ew=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;en.prototype.REQUEST_LINE=function(){var g=this.consumeLine();if(g){var $=ew.exec(g);if(null===$)throw eT("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?$[1]:em.indexOf($[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=$[2],this.info.versionMajor=+$[3],this.info.versionMinor=+$[4],this.body_bytes=0,this.state="HEADER"}};var eS=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function eT(g){var $=Error("Parse Error");return $.code=g,$}en.prototype.RESPONSE_LINE=function(){var g=this.consumeLine();if(g){var $=eS.exec(g);if(null===$)throw eT("HPE_INVALID_CONSTANT");this.info.versionMajor=+$[1],this.info.versionMinor=+$[2];var ee=this.info.statusCode=+$[3];this.info.statusMessage=$[4],((ee/100|0)==1||204===ee||304===ee)&&(this.body_bytes=0),this.state="HEADER"}},en.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},en.prototype.HEADER=function(){var g=this.consumeLine();if(void 0!==g){var $=this.info;if(g)this.parseHeader(g,$.headers);else{for(var ee,ei,er=$.headers,es=!1,ep=!1,eu=0;eu<er.length;eu+=2)switch(er[eu].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===er[eu+1].toLowerCase();break;case"content-length":if(ee=+er[eu+1],es){if(ee!==this.body_bytes)throw eT("HPE_UNEXPECTED_CONTENT_LENGTH")}else es=!0,this.body_bytes=ee;break;case"connection":this.connection+=er[eu+1].toLowerCase();break;case"upgrade":ep=!0}if(this.isChunked&&es&&(es=!1,this.body_bytes=null),ep&&-1!=this.connection.indexOf("upgrade")?$.upgrade=this.type===en.REQUEST||101===$.statusCode:$.upgrade=$.method===ef,this.isChunked&&$.upgrade&&(this.isChunked=!1),$.shouldKeepAlive=this.shouldKeepAlive(),2===(ei=eh?this.userCall()(this[eo]($)):this.userCall()(this[eo]($.versionMajor,$.versionMinor,$.headers,$.method,$.url,$.statusCode,$.statusMessage,$.upgrade,$.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!ei)this.state="BODY_CHUNKHEAD";else{if(ei||0===this.body_bytes)return this.nextRequest(),$.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},en.prototype.BODY_CHUNKHEAD=function(){var g=this.consumeLine();void 0!==g&&(this.body_bytes=parseInt(g,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},en.prototype.BODY_CHUNK=function(){var g=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[ep](this.chunk,this.offset,g)),this.offset+=g,this.body_bytes-=g,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},en.prototype.BODY_CHUNKEMPTYLINE=function(){var g=this.consumeLine();void 0!==g&&(er.equal(g,""),this.state="BODY_CHUNKHEAD")},en.prototype.BODY_CHUNKTRAILERS=function(){var g=this.consumeLine();void 0!==g&&(g?this.parseHeader(g,this.trailers):(this.trailers.length&&this.userCall()(this[es](this.trailers,"")),this.nextRequest()))},en.prototype.BODY_RAW=function(){var g=this.end-this.offset;this.userCall()(this[ep](this.chunk,this.offset,g)),this.offset=this.end},en.prototype.BODY_SIZED=function(){var g=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[ep](this.chunk,this.offset,g)),this.offset+=g,this.body_bytes-=g,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(g){var $=en["kOn"+g];Object.defineProperty(en.prototype,"on"+g,{get:function(){return this[$]},set:function(g){return this._compatMode0_11=!0,ef="CONNECT",this[$]=g}})})},19977:g=>{var $=1/0,ee="[object Symbol]",ei=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,er=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,en="\ud800-\udfff",es="\\u0300-\\u036f\\ufe20-\\ufe23",eo="\\u20d0-\\u20f0",ep="\\u2700-\\u27bf",eu="a-z\\xdf-\\xf6\\xf8-\\xff",eh="A-Z\\xc0-\\xd6\\xd8-\\xde",em="\\ufe0e\\ufe0f",ef="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eg="['’]",ev="["+en+"]",ey="["+ef+"]",e_="["+es+eo+"]",ew="\\d+",eS="["+ep+"]",eT="["+eu+"]",eC="[^"+en+ef+ew+ep+eu+eh+"]",eE="\ud83c[\udffb-\udfff]",eI="[^"+en+"]",eN="(?:\ud83c[\udde6-\uddff]){2}",eD="[\ud800-\udbff][\udc00-\udfff]",ek="["+eh+"]",eR="\\u200d",eA="(?:"+eT+"|"+eC+")",eO="(?:"+ek+"|"+eC+")",eP="(?:"+eg+"(?:d|ll|m|re|s|t|ve))?",eM="(?:"+eg+"(?:D|LL|M|RE|S|T|VE))?",eL="(?:"+e_+"|"+eE+")?",eF="["+em+"]?",eV="(?:"+eR+"(?:"+[eI,eN,eD].join("|")+")"+eF+eL+")*",eB=eF+eL+eV,eU="(?:"+[eS,eN,eD].join("|")+")"+eB,ej="(?:"+[eI+e_+"?",e_,eN,eD,ev].join("|")+")",eq=RegExp(eg,"g"),ez=RegExp(e_,"g"),eH=RegExp(eE+"(?="+eE+")|"+ej+eB,"g"),e$=RegExp([ek+"?"+eT+"+"+eP+"(?="+[ey,ek,"$"].join("|")+")",eO+"+"+eM+"(?="+[ey,ek+eA,"$"].join("|")+")",ek+"?"+eA+"+"+eP,ek+"+"+eM,ew,eU].join("|"),"g"),eW=RegExp("["+eR+en+es+eo+em+"]"),eK=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eG={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},eQ="object"==typeof global&&global&&global.Object===Object&&global,eY="object"==typeof self&&self&&self.Object===Object&&self,eJ=eQ||eY||Function("return this")();function eX(g,$,ee,ei){var er=-1,en=g?g.length:0;for(ei&&en&&(ee=g[++er]);++er<en;)ee=$(ee,g[er],er,g);return ee}function eZ(g){return g.split("")}function e1(g){return g.match(ei)||[]}var e0=function(g){return function($){return null==g?void 0:g[$]}}(eG);function e2(g){return eW.test(g)}function e6(g){return eK.test(g)}function e4(g){return e2(g)?e3(g):eZ(g)}function e3(g){return g.match(eH)||[]}function e9(g){return g.match(e$)||[]}var e5=Object.prototype.toString,e8=eJ.Symbol,e7=e8?e8.prototype:void 0,te=e7?e7.toString:void 0;function tt(g,$,ee){var ei=-1,er=g.length;$<0&&($=-$>er?0:er+$),(ee=ee>er?er:ee)<0&&(ee+=er),er=$>ee?0:ee-$>>>0,$>>>=0;for(var en=Array(er);++ei<er;)en[ei]=g[ei+$];return en}function ti(g){if("string"==typeof g)return g;if(tp(g))return te?te.call(g):"";var ee=g+"";return"0"==ee&&1/g==-$?"-0":ee}function tr(g,$,ee){var ei=g.length;return ee=void 0===ee?ei:ee,!$&&ee>=ei?g:tt(g,$,ee)}function ts(g){return function($){var ee=e2($=tu($))?e4($):void 0,ei=ee?ee[0]:$.charAt(0),er=ee?tr(ee,1).join(""):$.slice(1);return ei[g]()+er}}function tl(g){return!!g&&"object"==typeof g}function tp(g){return"symbol"==typeof g||tl(g)&&e5.call(g)==ee}function tu(g){return null==g?"":ti(g)}var th=function(g){return function($){return eX(tv(tf($).replace(eq,"")),g,"")}}(function(g,$,ee){return $=$.toLowerCase(),g+(ee?tm($):$)});function tm(g){return tg(tu(g).toLowerCase())}function tf(g){return(g=tu(g))&&g.replace(er,e0).replace(ez,"")}var tg=ts("toUpperCase");function tv(g,$,ee){return(g=tu(g),void 0===($=ee?void 0:$))?e6(g)?e9(g):e1(g):g.match($)||[]}g.exports=th},17096:(g,$,ee)=>{"use strict";let ei;function er(g){return g&&"object"==typeof g&&"default"in g?g.default:g}Object.defineProperty($,"__esModule",{value:!0});var en=er(ee(12781)),es=er(ee(13685)),eo=er(ee(57310)),ep=er(ee(24765)),eu=er(ee(95687)),eh=er(ee(59796));let em=en.Readable,ef=Symbol("buffer"),eg=Symbol("type");class ev{constructor(){this[eg]="";let g=arguments[0],$=arguments[1],ee=[],ei=0;if(g){let $=g,er=Number($.length);for(let g=0;g<er;g++){let er;let en=$[g];ei+=(er=en instanceof Buffer?en:ArrayBuffer.isView(en)?Buffer.from(en.buffer,en.byteOffset,en.byteLength):en instanceof ArrayBuffer?Buffer.from(en):en instanceof ev?en[ef]:Buffer.from("string"==typeof en?en:String(en))).length,ee.push(er)}}this[ef]=Buffer.concat(ee);let er=$&&void 0!==$.type&&String($.type).toLowerCase();er&&!/[^\u0020-\u007E]/.test(er)&&(this[eg]=er)}get size(){return this[ef].length}get type(){return this[eg]}text(){return Promise.resolve(this[ef].toString())}arrayBuffer(){let g=this[ef],$=g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength);return Promise.resolve($)}stream(){let g=new em;return g._read=function(){},g.push(this[ef]),g.push(null),g}toString(){return"[object Blob]"}slice(){let g,$;let ee=this.size,ei=arguments[0],er=arguments[1];g=void 0===ei?0:ei<0?Math.max(ee+ei,0):Math.min(ei,ee),$=void 0===er?ee:er<0?Math.max(ee+er,0):Math.min(er,ee);let en=Math.max($-g,0),es=this[ef],eo=es.slice(g,g+en),ep=new ev([],{type:arguments[2]});return ep[ef]=eo,ep}}function ey(g,$,ee){Error.call(this,g),this.message=g,this.type=$,ee&&(this.code=this.errno=ee.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(ev.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(ev.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),ey.prototype=Object.create(Error.prototype),ey.prototype.constructor=ey,ey.prototype.name="FetchError";try{ei=Object(function(){var g=Error("Cannot find module 'encoding'");throw g.code="MODULE_NOT_FOUND",g}())}catch(g){}let e_=Symbol("Body internals"),ew=en.PassThrough;function eS(g){var $=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ei=ee.size;let er=void 0===ei?0:ei;var es=ee.timeout;let eo=void 0===es?0:es;null==g?g=null:eE(g)?g=Buffer.from(g.toString()):eI(g)||Buffer.isBuffer(g)||("[object ArrayBuffer]"===Object.prototype.toString.call(g)?g=Buffer.from(g):ArrayBuffer.isView(g)?g=Buffer.from(g.buffer,g.byteOffset,g.byteLength):g instanceof en||(g=Buffer.from(String(g)))),this[e_]={body:g,disturbed:!1,error:null},this.size=er,this.timeout=eo,g instanceof en&&g.on("error",function(g){let ee="AbortError"===g.name?g:new ey(`Invalid response body while trying to fetch ${$.url}: ${g.message}`,"system",g);$[e_].error=ee})}function eT(){var g=this;if(this[e_].disturbed)return eS.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[e_].disturbed=!0,this[e_].error)return eS.Promise.reject(this[e_].error);let $=this.body;if(null===$)return eS.Promise.resolve(Buffer.alloc(0));if(eI($)&&($=$.stream()),Buffer.isBuffer($))return eS.Promise.resolve($);if(!($ instanceof en))return eS.Promise.resolve(Buffer.alloc(0));let ee=[],ei=0,er=!1;return new eS.Promise(function(en,es){let eo;g.timeout&&(eo=setTimeout(function(){er=!0,es(new ey(`Response timeout while trying to fetch ${g.url} (over ${g.timeout}ms)`,"body-timeout"))},g.timeout)),$.on("error",function($){"AbortError"===$.name?(er=!0,es($)):es(new ey(`Invalid response body while trying to fetch ${g.url}: ${$.message}`,"system",$))}),$.on("data",function($){if(!er&&null!==$){if(g.size&&ei+$.length>g.size){er=!0,es(new ey(`content size at ${g.url} over limit: ${g.size}`,"max-size"));return}ei+=$.length,ee.push($)}}),$.on("end",function(){if(!er){clearTimeout(eo);try{en(Buffer.concat(ee,ei))}catch($){es(new ey(`Could not create Buffer from response body for ${g.url}: ${$.message}`,"system",$))}}})})}function eC(g,$){let ee,er;if("function"!=typeof ei)throw Error("The package `encoding` must be installed to use the textConverted() function");let en=$.get("content-type"),es="utf-8";return en&&(ee=/charset=([^;]*)/i.exec(en)),er=g.slice(0,1024).toString(),!ee&&er&&(ee=/<meta.+?charset=(['"])(.+?)\1/i.exec(er)),!ee&&er&&(!(ee=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(er))&&(ee=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(er))&&ee.pop(),ee&&(ee=/charset=(.*)/i.exec(ee.pop()))),!ee&&er&&(ee=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(er)),ee&&("gb2312"===(es=ee.pop())||"gbk"===es)&&(es="gb18030"),ei(g,"UTF-8",es).toString()}function eE(g){return"object"==typeof g&&"function"==typeof g.append&&"function"==typeof g.delete&&"function"==typeof g.get&&"function"==typeof g.getAll&&"function"==typeof g.has&&"function"==typeof g.set&&("URLSearchParams"===g.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(g)||"function"==typeof g.sort)}function eI(g){return"object"==typeof g&&"function"==typeof g.arrayBuffer&&"string"==typeof g.type&&"function"==typeof g.stream&&"function"==typeof g.constructor&&"string"==typeof g.constructor.name&&/^(Blob|File)$/.test(g.constructor.name)&&/^(Blob|File)$/.test(g[Symbol.toStringTag])}function eN(g){let $,ee;let ei=g.body;if(g.bodyUsed)throw Error("cannot clone body after it is used");return ei instanceof en&&"function"!=typeof ei.getBoundary&&($=new ew,ee=new ew,ei.pipe($),ei.pipe(ee),g[e_].body=$,ei=ee),ei}function eD(g){if(null===g)return null;if("string"==typeof g)return"text/plain;charset=UTF-8";if(eE(g))return"application/x-www-form-urlencoded;charset=UTF-8";if(eI(g))return g.type||null;if(Buffer.isBuffer(g))return null;if("[object ArrayBuffer]"===Object.prototype.toString.call(g))return null;if(ArrayBuffer.isView(g))return null;else if("function"==typeof g.getBoundary)return`multipart/form-data;boundary=${g.getBoundary()}`;else if(g instanceof en)return null;else return"text/plain;charset=UTF-8"}function ek(g){let $=g.body;return null===$?0:eI($)?$.size:Buffer.isBuffer($)?$.length:$&&"function"==typeof $.getLengthSync&&($._lengthRetrievers&&0==$._lengthRetrievers.length||$.hasKnownLength&&$.hasKnownLength())?$.getLengthSync():null}function eR(g,$){let ee=$.body;null===ee?g.end():eI(ee)?ee.stream().pipe(g):Buffer.isBuffer(ee)?(g.write(ee),g.end()):ee.pipe(g)}eS.prototype={get body(){return this[e_].body},get bodyUsed(){return this[e_].disturbed},arrayBuffer(){return eT.call(this).then(function(g){return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)})},blob(){let g=this.headers&&this.headers.get("content-type")||"";return eT.call(this).then(function($){return Object.assign(new ev([],{type:g.toLowerCase()}),{[ef]:$})})},json(){var g=this;return eT.call(this).then(function($){try{return JSON.parse($.toString())}catch($){return eS.Promise.reject(new ey(`invalid json response body at ${g.url} reason: ${$.message}`,"invalid-json"))}})},text(){return eT.call(this).then(function(g){return g.toString()})},buffer(){return eT.call(this)},textConverted(){var g=this;return eT.call(this).then(function($){return eC($,g.headers)})}},Object.defineProperties(eS.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),eS.mixIn=function(g){for(let $ of Object.getOwnPropertyNames(eS.prototype))if(!($ in g)){let ee=Object.getOwnPropertyDescriptor(eS.prototype,$);Object.defineProperty(g,$,ee)}},eS.Promise=global.Promise;let eA=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,eO=/[^\t\x20-\x7e\x80-\xff]/;function eP(g){if(g=`${g}`,eA.test(g)||""===g)throw TypeError(`${g} is not a legal HTTP header name`)}function eM(g){if(g=`${g}`,eO.test(g))throw TypeError(`${g} is not a legal HTTP header value`)}function eL(g,$){for(let ee in $=$.toLowerCase(),g)if(ee.toLowerCase()===$)return ee}let eF=Symbol("map");class eV{constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[eF]=Object.create(null),g instanceof eV){let $=g.raw(),ee=Object.keys($);for(let g of ee)for(let ee of $[g])this.append(g,ee);return}if(null==g);else if("object"==typeof g){let $=g[Symbol.iterator];if(null!=$){if("function"!=typeof $)throw TypeError("Header pairs must be iterable");let ee=[];for(let $ of g){if("object"!=typeof $||"function"!=typeof $[Symbol.iterator])throw TypeError("Each header pair must be iterable");ee.push(Array.from($))}for(let g of ee){if(2!==g.length)throw TypeError("Each header pair must be a name/value tuple");this.append(g[0],g[1])}}else for(let $ of Object.keys(g)){let ee=g[$];this.append($,ee)}}else throw TypeError("Provided initializer must be an object")}get(g){eP(g=`${g}`);let $=eL(this[eF],g);return void 0===$?null:this[eF][$].join(", ")}forEach(g){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ee=eB(this),ei=0;for(;ei<ee.length;){var er=ee[ei];let en=er[0],es=er[1];g.call($,es,en,this),ee=eB(this),ei++}}set(g,$){g=`${g}`,$=`${$}`,eP(g),eM($);let ee=eL(this[eF],g);this[eF][void 0!==ee?ee:g]=[$]}append(g,$){g=`${g}`,$=`${$}`,eP(g),eM($);let ee=eL(this[eF],g);void 0!==ee?this[eF][ee].push($):this[eF][g]=[$]}has(g){return eP(g=`${g}`),void 0!==eL(this[eF],g)}delete(g){eP(g=`${g}`);let $=eL(this[eF],g);void 0!==$&&delete this[eF][$]}raw(){return this[eF]}keys(){return ej(this,"key")}values(){return ej(this,"value")}[Symbol.iterator](){return ej(this,"key+value")}}function eB(g){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value",ee=Object.keys(g[eF]).sort();return ee.map("key"===$?function(g){return g.toLowerCase()}:"value"===$?function($){return g[eF][$].join(", ")}:function($){return[$.toLowerCase(),g[eF][$].join(", ")]})}eV.prototype.entries=eV.prototype[Symbol.iterator],Object.defineProperty(eV.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(eV.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let eU=Symbol("internal");function ej(g,$){let ee=Object.create(eq);return ee[eU]={target:g,kind:$,index:0},ee}let eq=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==eq)throw TypeError("Value of `this` is not a HeadersIterator");var g=this[eU];let $=g.target,ee=g.kind,ei=g.index,er=eB($,ee),en=er.length;return ei>=en?{value:void 0,done:!0}:(this[eU].index=ei+1,{value:er[ei],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function ez(g){let $=Object.assign({__proto__:null},g[eF]),ee=eL(g[eF],"Host");return void 0!==ee&&($[ee]=$[ee][0]),$}function eH(g){let $=new eV;for(let ee of Object.keys(g))if(!eA.test(ee)){if(Array.isArray(g[ee]))for(let ei of g[ee])eO.test(ei)||(void 0===$[eF][ee]?$[eF][ee]=[ei]:$[eF][ee].push(ei));else eO.test(g[ee])||($[eF][ee]=[g[ee]])}return $}Object.defineProperty(eq,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let e$=Symbol("Response internals"),eW=es.STATUS_CODES;class eK{constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eS.call(this,g,$);let ee=$.status||200,ei=new eV($.headers);if(null!=g&&!ei.has("Content-Type")){let $=eD(g);$&&ei.append("Content-Type",$)}this[e$]={url:$.url,status:ee,statusText:$.statusText||eW[ee],headers:ei,counter:$.counter}}get url(){return this[e$].url||""}get status(){return this[e$].status}get ok(){return this[e$].status>=200&&this[e$].status<300}get redirected(){return this[e$].counter>0}get statusText(){return this[e$].statusText}get headers(){return this[e$].headers}clone(){return new eK(eN(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}eS.mixIn(eK.prototype),Object.defineProperties(eK.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(eK.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let eG=Symbol("Request internals"),eQ=eo.URL||ep.URL,eY=eo.parse,eJ=eo.format;function eX(g){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(g)&&(g=new eQ(g).toString()),eY(g)}let eZ="destroy"in en.Readable.prototype;function e1(g){return"object"==typeof g&&"object"==typeof g[eG]}function e0(g){let $=g&&"object"==typeof g&&Object.getPrototypeOf(g);return!!($&&"AbortSignal"===$.constructor.name)}class e2{constructor(g){let $,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e1(g)?$=eX(g.url):($=g&&g.href?eX(g.href):eX(`${g}`),g={});let ei=ee.method||g.method||"GET";if(ei=ei.toUpperCase(),(null!=ee.body||e1(g)&&null!==g.body)&&("GET"===ei||"HEAD"===ei))throw TypeError("Request with GET/HEAD method cannot have body");let er=null!=ee.body?ee.body:e1(g)&&null!==g.body?eN(g):null;eS.call(this,er,{timeout:ee.timeout||g.timeout||0,size:ee.size||g.size||0});let en=new eV(ee.headers||g.headers||{});if(null!=er&&!en.has("Content-Type")){let g=eD(er);g&&en.append("Content-Type",g)}let es=e1(g)?g.signal:null;if("signal"in ee&&(es=ee.signal),null!=es&&!e0(es))throw TypeError("Expected signal to be an instanceof AbortSignal");this[eG]={method:ei,redirect:ee.redirect||g.redirect||"follow",headers:en,parsedURL:$,signal:es},this.follow=void 0!==ee.follow?ee.follow:void 0!==g.follow?g.follow:20,this.compress=void 0!==ee.compress?ee.compress:void 0===g.compress||g.compress,this.counter=ee.counter||g.counter||0,this.agent=ee.agent||g.agent}get method(){return this[eG].method}get url(){return eJ(this[eG].parsedURL)}get headers(){return this[eG].headers}get redirect(){return this[eG].redirect}get signal(){return this[eG].signal}clone(){return new e2(this)}}function e6(g){let $=g[eG].parsedURL,ee=new eV(g[eG].headers);if(ee.has("Accept")||ee.set("Accept","*/*"),!$.protocol||!$.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test($.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(g.signal&&g.body instanceof en.Readable&&!eZ)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let ei=null;if(null==g.body&&/^(POST|PUT)$/i.test(g.method)&&(ei="0"),null!=g.body){let $=ek(g);"number"==typeof $&&(ei=String($))}ei&&ee.set("Content-Length",ei),ee.has("User-Agent")||ee.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),g.compress&&!ee.has("Accept-Encoding")&&ee.set("Accept-Encoding","gzip,deflate");let er=g.agent;return"function"==typeof er&&(er=er($)),ee.has("Connection")||er||ee.set("Connection","close"),Object.assign({},$,{method:g.method,headers:ez(ee),agent:er})}function e4(g){Error.call(this,g),this.type="aborted",this.message=g,Error.captureStackTrace(this,this.constructor)}eS.mixIn(e2.prototype),Object.defineProperty(e2.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(e2.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),e4.prototype=Object.create(Error.prototype),e4.prototype.constructor=e4,e4.prototype.name="AbortError";let e3=eo.URL||ep.URL,e9=en.PassThrough,e5=function(g,$){let ee=new e3($).hostname,ei=new e3(g).hostname;return ee===ei||"."===ee[ee.length-ei.length-1]&&ee.endsWith(ei)};function e8(g,$){if(!e8.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return eS.Promise=e8.Promise,new e8.Promise(function(ee,ei){let er;let eo=new e2(g,$),ep=e6(eo),em=("https:"===ep.protocol?eu:es).request,ef=eo.signal,eg=null,ev=function(){let g=new e4("The user aborted a request.");ei(g),eo.body&&eo.body instanceof en.Readable&&eo.body.destroy(g),eg&&eg.body&&eg.body.emit("error",g)};if(ef&&ef.aborted){ev();return}let e_=function(){ev(),eS()},ew=em(ep);function eS(){ew.abort(),ef&&ef.removeEventListener("abort",e_),clearTimeout(er)}ef&&ef.addEventListener("abort",e_),eo.timeout&&ew.once("socket",function(g){er=setTimeout(function(){ei(new ey(`network timeout at: ${eo.url}`,"request-timeout")),eS()},eo.timeout)}),ew.on("error",function(g){ei(new ey(`request to ${eo.url} failed, reason: ${g.message}`,"system",g)),eS()}),ew.on("response",function(g){clearTimeout(er);let $=eH(g.headers);if(e8.isRedirect(g.statusCode)){let er=$.get("Location"),en=null;try{en=null===er?null:new e3(er,eo.url).toString()}catch(g){if("manual"!==eo.redirect){ei(new ey(`uri requested responds with an invalid redirect URL: ${er}`,"invalid-redirect")),eS();return}}switch(eo.redirect){case"error":ei(new ey(`uri requested responds with a redirect, redirect mode is set to error: ${eo.url}`,"no-redirect")),eS();return;case"manual":if(null!==en)try{$.set("Location",en)}catch(g){ei(g)}break;case"follow":if(null===en)break;if(eo.counter>=eo.follow){ei(new ey(`maximum redirect reached at: ${eo.url}`,"max-redirect")),eS();return}let es={headers:new eV(eo.headers),follow:eo.follow,counter:eo.counter+1,agent:eo.agent,compress:eo.compress,method:eo.method,body:eo.body,signal:eo.signal,timeout:eo.timeout,size:eo.size};if(!e5(eo.url,en))for(let g of["authorization","www-authenticate","cookie","cookie2"])es.headers.delete(g);if(303!==g.statusCode&&eo.body&&null===ek(eo)){ei(new ey("Cannot follow redirect with body being a readable stream","unsupported-redirect")),eS();return}(303===g.statusCode||(301===g.statusCode||302===g.statusCode)&&"POST"===eo.method)&&(es.method="GET",es.body=void 0,es.headers.delete("content-length")),ee(e8(new e2(en,es))),eS();return}}g.once("end",function(){ef&&ef.removeEventListener("abort",e_)});let en=g.pipe(new e9),es={url:eo.url,status:g.statusCode,statusText:g.statusMessage,headers:$,size:eo.size,timeout:eo.timeout,counter:eo.counter},ep=$.get("Content-Encoding");if(!eo.compress||"HEAD"===eo.method||null===ep||204===g.statusCode||304===g.statusCode){ee(eg=new eK(en,es));return}let eu={flush:eh.Z_SYNC_FLUSH,finishFlush:eh.Z_SYNC_FLUSH};if("gzip"==ep||"x-gzip"==ep){en=en.pipe(eh.createGunzip(eu)),ee(eg=new eK(en,es));return}if("deflate"==ep||"x-deflate"==ep){let $=g.pipe(new e9);$.once("data",function(g){en=(15&g[0])==8?en.pipe(eh.createInflate()):en.pipe(eh.createInflateRaw()),ee(eg=new eK(en,es))});return}if("br"==ep&&"function"==typeof eh.createBrotliDecompress){en=en.pipe(eh.createBrotliDecompress()),ee(eg=new eK(en,es));return}ee(eg=new eK(en,es))}),eR(ew,eo)})}e8.isRedirect=function(g){return 301===g||302===g||303===g||307===g||308===g},e8.Promise=global.Promise,g.exports=$=e8,Object.defineProperty($,"__esModule",{value:!0}),$.default=$,$.Headers=eV,$.Request=e2,$.Response=eK,$.FetchError=ey},95307:(g,$,ee)=>{"use strict";var ei=ee(75962);g.exports=$=ei.descriptor=ei.Root.fromJSON(ee(89987)).lookup(".google.protobuf");var er=ei.Namespace,en=ei.Root,es=ei.Enum,eo=ei.Type,ep=ei.Field,eu=ei.MapField,eh=ei.OneOf,em=ei.Service,ef=ei.Method;function eg(g,ee,ei){var eu=$.FileDescriptorProto.create({name:g.filename||(g.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});ei&&(eu.syntax=ei),g instanceof en||(eu.package=g.fullName.substring(1));for(var eh,ef=0;ef<g.nestedArray.length;++ef)(eh=g._nestedArray[ef])instanceof eo?eu.messageType.push(eh.toDescriptor(ei)):eh instanceof es?eu.enumType.push(eh.toDescriptor()):eh instanceof ep?eu.extension.push(eh.toDescriptor(ei)):eh instanceof em?eu.service.push(eh.toDescriptor()):eh instanceof er&&eg(eh,ee,ei);eu.options=eD(g.options,$.FileOptions),eu.messageType.length+eu.enumType.length+eu.extension.length+eu.service.length&&ee.push(eu)}en.fromDescriptor=function(g){"number"==typeof g.length&&(g=$.FileDescriptorSet.decode(g));var ee=new en;if(g.file)for(var ei,er,eu,eh=0;eh<g.file.length;++eh){if(er=ee,(ei=g.file[eh]).package&&ei.package.length&&(er=ee.define(ei.package)),ei.name&&ei.name.length&&ee.files.push(er.filename=ei.name),ei.messageType)for(eu=0;eu<ei.messageType.length;++eu)er.add(eo.fromDescriptor(ei.messageType[eu],ei.syntax));if(ei.enumType)for(eu=0;eu<ei.enumType.length;++eu)er.add(es.fromDescriptor(ei.enumType[eu]));if(ei.extension)for(eu=0;eu<ei.extension.length;++eu)er.add(ep.fromDescriptor(ei.extension[eu]));if(ei.service)for(eu=0;eu<ei.service.length;++eu)er.add(em.fromDescriptor(ei.service[eu]));var ef=eN(ei.options,$.FileOptions);if(ef){var eg=Object.keys(ef);for(eu=0;eu<eg.length;++eu)er.setOption(eg[eu],ef[eg[eu]])}}return ee},en.prototype.toDescriptor=function(g){var ee=$.FileDescriptorSet.create();return eg(this,ee.file,g),ee};var ev=0;eo.fromDescriptor=function(g,ee){"number"==typeof g.length&&(g=$.DescriptorProto.decode(g));var ei,er=new eo(g.name.length?g.name:"Type"+ev++,eN(g.options,$.MessageOptions));if(g.oneofDecl)for(ei=0;ei<g.oneofDecl.length;++ei)er.add(eh.fromDescriptor(g.oneofDecl[ei]));if(g.field)for(ei=0;ei<g.field.length;++ei){var en=ep.fromDescriptor(g.field[ei],ee);er.add(en),g.field[ei].hasOwnProperty("oneofIndex")&&er.oneofsArray[g.field[ei].oneofIndex].add(en)}if(g.extension)for(ei=0;ei<g.extension.length;++ei)er.add(ep.fromDescriptor(g.extension[ei],ee));if(g.nestedType)for(ei=0;ei<g.nestedType.length;++ei)er.add(eo.fromDescriptor(g.nestedType[ei],ee)),g.nestedType[ei].options&&g.nestedType[ei].options.mapEntry&&er.setOption("map_entry",!0);if(g.enumType)for(ei=0;ei<g.enumType.length;++ei)er.add(es.fromDescriptor(g.enumType[ei]));if(g.extensionRange&&g.extensionRange.length)for(ei=0,er.extensions=[];ei<g.extensionRange.length;++ei)er.extensions.push([g.extensionRange[ei].start,g.extensionRange[ei].end]);if(g.reservedRange&&g.reservedRange.length||g.reservedName&&g.reservedName.length){if(er.reserved=[],g.reservedRange)for(ei=0;ei<g.reservedRange.length;++ei)er.reserved.push([g.reservedRange[ei].start,g.reservedRange[ei].end]);if(g.reservedName)for(ei=0;ei<g.reservedName.length;++ei)er.reserved.push(g.reservedName[ei])}return er},eo.prototype.toDescriptor=function(g){var ee,ei,er=$.DescriptorProto.create({name:this.name});for(ei=0;ei<this.fieldsArray.length;++ei)if(er.field.push(ee=this._fieldsArray[ei].toDescriptor(g)),this._fieldsArray[ei]instanceof eu){var en=eI(this._fieldsArray[ei].keyType,this._fieldsArray[ei].resolvedKeyType),eh=eI(this._fieldsArray[ei].type,this._fieldsArray[ei].resolvedType),em=11===eh||14===eh?this._fieldsArray[ei].resolvedType&&ek(this.parent,this._fieldsArray[ei].resolvedType)||this._fieldsArray[ei].type:void 0;er.nestedType.push($.DescriptorProto.create({name:ee.typeName,field:[$.FieldDescriptorProto.create({name:"key",number:1,label:1,type:en}),$.FieldDescriptorProto.create({name:"value",number:2,label:1,type:eh,typeName:em})],options:$.MessageOptions.create({mapEntry:!0})}))}for(ei=0;ei<this.oneofsArray.length;++ei)er.oneofDecl.push(this._oneofsArray[ei].toDescriptor());for(ei=0;ei<this.nestedArray.length;++ei)this._nestedArray[ei]instanceof ep?er.field.push(this._nestedArray[ei].toDescriptor(g)):this._nestedArray[ei]instanceof eo?er.nestedType.push(this._nestedArray[ei].toDescriptor(g)):this._nestedArray[ei]instanceof es&&er.enumType.push(this._nestedArray[ei].toDescriptor());if(this.extensions)for(ei=0;ei<this.extensions.length;++ei)er.extensionRange.push($.DescriptorProto.ExtensionRange.create({start:this.extensions[ei][0],end:this.extensions[ei][1]}));if(this.reserved)for(ei=0;ei<this.reserved.length;++ei)"string"==typeof this.reserved[ei]?er.reservedName.push(this.reserved[ei]):er.reservedRange.push($.DescriptorProto.ReservedRange.create({start:this.reserved[ei][0],end:this.reserved[ei][1]}));return er.options=eD(this.options,$.MessageOptions),er};var ey=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;ep.fromDescriptor=function(g,ee){if("number"==typeof g.length&&(g=$.DescriptorProto.decode(g)),"number"!=typeof g.number)throw Error("missing field id");switch(ei=g.typeName&&g.typeName.length?g.typeName:eC(g.type),g.label){case 1:er=void 0;break;case 2:er="required";break;case 3:er="repeated";break;default:throw Error("illegal label: "+g.label)}var ei,er,en=g.extendee;void 0!==g.extendee&&(en=en.length?en:void 0);var es=new ep(g.name.length?g.name:"field"+g.number,g.number,ei,er,en);if(es.options=eN(g.options,$.FieldOptions),g.defaultValue&&g.defaultValue.length){var eo=g.defaultValue;switch(eo){case"true":case"TRUE":eo=!0;break;case"false":case"FALSE":eo=!1;break;default:ey.exec(eo)&&(eo=parseInt(eo))}es.setOption("default",eo)}return eE(g.type)&&("proto3"===ee?g.options&&!g.options.packed&&es.setOption("packed",!1):g.options&&g.options.packed||es.setOption("packed",!1)),es},ep.prototype.toDescriptor=function(g){var ee=$.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)ee.type=11,ee.typeName=ei.util.ucFirst(this.name),ee.label=3;else{switch(ee.type=eI(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:ee.typeName=this.resolvedType?ek(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":ee.label=3;break;case"required":ee.label=2;break;default:ee.label=1}}if(ee.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(ee.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(ee.options=eD(this.options,$.FieldOptions),null!=this.options.default&&(ee.defaultValue=String(this.options.default))),"proto3"===g?this.packed||((ee.options||(ee.options=$.FieldOptions.create())).packed=!1):this.packed&&((ee.options||(ee.options=$.FieldOptions.create())).packed=!0),ee};var e_=0;es.fromDescriptor=function(g){"number"==typeof g.length&&(g=$.EnumDescriptorProto.decode(g));var ee={};if(g.value)for(var ei=0;ei<g.value.length;++ei){var er=g.value[ei].name,en=g.value[ei].number||0;ee[er&&er.length?er:"NAME"+en]=en}return new es(g.name&&g.name.length?g.name:"Enum"+e_++,ee,eN(g.options,$.EnumOptions))},es.prototype.toDescriptor=function(){for(var g=[],ee=0,ei=Object.keys(this.values);ee<ei.length;++ee)g.push($.EnumValueDescriptorProto.create({name:ei[ee],number:this.values[ei[ee]]}));return $.EnumDescriptorProto.create({name:this.name,value:g,options:eD(this.options,$.EnumOptions)})};var ew=0;eh.fromDescriptor=function(g){return"number"==typeof g.length&&(g=$.OneofDescriptorProto.decode(g)),new eh(g.name&&g.name.length?g.name:"oneof"+ew++)},eh.prototype.toDescriptor=function(){return $.OneofDescriptorProto.create({name:this.name})};var eS=0;em.fromDescriptor=function(g){"number"==typeof g.length&&(g=$.ServiceDescriptorProto.decode(g));var ee=new em(g.name&&g.name.length?g.name:"Service"+eS++,eN(g.options,$.ServiceOptions));if(g.method)for(var ei=0;ei<g.method.length;++ei)ee.add(ef.fromDescriptor(g.method[ei]));return ee},em.prototype.toDescriptor=function(){for(var g=[],ee=0;ee<this.methodsArray.length;++ee)g.push(this._methodsArray[ee].toDescriptor());return $.ServiceDescriptorProto.create({name:this.name,method:g,options:eD(this.options,$.ServiceOptions)})};var eT=0;function eC(g){switch(g){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+g)}function eE(g){switch(g){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function eI(g,$){switch(g){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if($ instanceof es)return 14;if($ instanceof eo)return $.group?10:11;throw Error("illegal type: "+g)}function eN(g,$){if(g){for(var ee,er,en,eo=[],ep=0;ep<$.fieldsArray.length;++ep)"uninterpretedOption"!==(er=(ee=$._fieldsArray[ep]).name)&&g.hasOwnProperty(er)&&(en=g[er],ee.resolvedType instanceof es&&"number"==typeof en&&void 0!==ee.resolvedType.valuesById[en]&&(en=ee.resolvedType.valuesById[en]),eo.push(eR(er),en));return eo.length?ei.util.toObject(eo):void 0}}function eD(g,$){if(g){for(var ee,er,en=[],es=0,eo=Object.keys(g);es<eo.length;++es)if(er=g[ee=eo[es]],"default"!==ee){var ep=$.fields[ee];(ep||(ep=$.fields[ee=ei.util.camelCase(ee)]))&&en.push(ee,er)}return en.length?$.fromObject(ei.util.toObject(en)):void 0}}function ek(g,$){var ee=g.fullName.split("."),ei=$.fullName.split("."),es=0,eo=0,ep=ei.length-1;if(!(g instanceof en)&&$ instanceof er)for(;es<ee.length&&eo<ep&&ee[es]===ei[eo];){var eu=$.lookup(ee[es++],!0);if(null!==eu&&eu!==$)break;++eo}else for(;es<ee.length&&eo<ep&&ee[es]===ei[eo];++es,++eo);return ei.slice(eo).join(".")}function eR(g){return g.substring(0,1)+g.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(g,$){return"_"+$.toLowerCase()})}ef.fromDescriptor=function(g){return"number"==typeof g.length&&(g=$.MethodDescriptorProto.decode(g)),new ef(g.name&&g.name.length?g.name:"Method"+eT++,"rpc",g.inputType,g.outputType,!!g.clientStreaming,!!g.serverStreaming,eN(g.options,$.MethodOptions))},ef.prototype.toDescriptor=function(){return $.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:eD(this.options,$.MethodOptions)})}},75962:(g,$,ee)=>{"use strict";g.exports=ee(23517)},79760:g=>{"use strict";g.exports=ei;var $,ee=/\/|\./;function ei(g,$){ee.test(g)||(g="google/protobuf/"+g+".proto",$={nested:{google:{nested:{protobuf:{nested:$}}}}}),ei[g]=$}ei("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),ei("duration",{Duration:$={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),ei("timestamp",{Timestamp:$}),ei("empty",{Empty:{fields:{}}}),ei("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),ei("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),ei("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),ei.get=function(g){return ei[g]||null}},84144:(g,$,ee)=>{"use strict";var ei=$,er=ee(59246),en=ee(66738);function es(g,$,ee,ei){var en=!1;if($.resolvedType){if($.resolvedType instanceof er){g("switch(d%s){",ei);for(var es=$.resolvedType.values,eo=Object.keys(es),ep=0;ep<eo.length;++ep)es[eo[ep]]!==$.typeDefault||en||(g("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',ei,ei,ei),$.repeated||g("break"),en=!0),g("case%j:",eo[ep])("case %i:",es[eo[ep]])("m%s=%j",ei,es[eo[ep]])("break");g("}")}else g('if(typeof d%s!=="object")',ei)("throw TypeError(%j)",$.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",ei,ee,ei)}else{var eu=!1;switch($.type){case"double":case"float":g("m%s=Number(d%s)",ei,ei);break;case"uint32":case"fixed32":g("m%s=d%s>>>0",ei,ei);break;case"int32":case"sint32":case"sfixed32":g("m%s=d%s|0",ei,ei);break;case"uint64":eu=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":g("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",ei,ei,eu)('else if(typeof d%s==="string")',ei)("m%s=parseInt(d%s,10)",ei,ei)('else if(typeof d%s==="number")',ei)("m%s=d%s",ei,ei)('else if(typeof d%s==="object")',ei)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",ei,ei,ei,eu?"true":"");break;case"bytes":g('if(typeof d%s==="string")',ei)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",ei,ei,ei)("else if(d%s.length >= 0)",ei)("m%s=d%s",ei,ei);break;case"string":g("m%s=String(d%s)",ei,ei);break;case"bool":g("m%s=Boolean(d%s)",ei,ei)}}return g}function eo(g,$,ee,ei){if($.resolvedType)$.resolvedType instanceof er?g("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",ei,ee,ei,ei,ee,ei,ei):g("d%s=types[%i].toObject(m%s,o)",ei,ee,ei);else{var en=!1;switch($.type){case"double":case"float":g("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",ei,ei,ei,ei);break;case"uint64":en=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":g('if(typeof m%s==="number")',ei)("d%s=o.longs===String?String(m%s):m%s",ei,ei,ei)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",ei,ei,ei,ei,en?"true":"",ei);break;case"bytes":g("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",ei,ei,ei,ei,ei);break;default:g("d%s=m%s",ei,ei)}}return g}ei.fromObject=function(g){var $=g.fieldsArray,ee=en.codegen(["d"],g.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!$.length)return ee("return new this.ctor");ee("var m=new this.ctor");for(var ei=0;ei<$.length;++ei){var eo=$[ei].resolve(),ep=en.safeProp(eo.name);eo.map?(ee("if(d%s){",ep)('if(typeof d%s!=="object")',ep)("throw TypeError(%j)",eo.fullName+": object expected")("m%s={}",ep)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",ep),es(ee,eo,ei,ep+"[ks[i]]")("}")("}")):eo.repeated?(ee("if(d%s){",ep)("if(!Array.isArray(d%s))",ep)("throw TypeError(%j)",eo.fullName+": array expected")("m%s=[]",ep)("for(var i=0;i<d%s.length;++i){",ep),es(ee,eo,ei,ep+"[i]")("}")("}")):(eo.resolvedType instanceof er||ee("if(d%s!=null){",ep),es(ee,eo,ei,ep),eo.resolvedType instanceof er||ee("}"))}return ee("return m")},ei.toObject=function(g){var $=g.fieldsArray.slice().sort(en.compareFieldsById);if(!$.length)return en.codegen()("return {}");for(var ee=en.codegen(["m","o"],g.name+"$toObject")("if(!o)")("o={}")("var d={}"),ei=[],es=[],ep=[],eu=0;eu<$.length;++eu)$[eu].partOf||($[eu].resolve().repeated?ei:$[eu].map?es:ep).push($[eu]);if(ei.length){for(ee("if(o.arrays||o.defaults){"),eu=0;eu<ei.length;++eu)ee("d%s=[]",en.safeProp(ei[eu].name));ee("}")}if(es.length){for(ee("if(o.objects||o.defaults){"),eu=0;eu<es.length;++eu)ee("d%s={}",en.safeProp(es[eu].name));ee("}")}if(ep.length){for(ee("if(o.defaults){"),eu=0;eu<ep.length;++eu){var eh=ep[eu],em=en.safeProp(eh.name);if(eh.resolvedType instanceof er)ee("d%s=o.enums===String?%j:%j",em,eh.resolvedType.valuesById[eh.typeDefault],eh.typeDefault);else if(eh.long)ee("if(util.Long){")("var n=new util.Long(%i,%i,%j)",eh.typeDefault.low,eh.typeDefault.high,eh.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",em)("}else")("d%s=o.longs===String?%j:%i",em,eh.typeDefault.toString(),eh.typeDefault.toNumber());else if(eh.bytes){var ef="["+Array.prototype.slice.call(eh.typeDefault).join(",")+"]";ee("if(o.bytes===String)d%s=%j",em,String.fromCharCode.apply(String,eh.typeDefault))("else{")("d%s=%s",em,ef)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",em,em)("}")}else ee("d%s=%j",em,eh.typeDefault)}ee("}")}var eg=!1;for(eu=0;eu<$.length;++eu){var eh=$[eu],ev=g._fieldsArray.indexOf(eh),em=en.safeProp(eh.name);eh.map?(eg||(eg=!0,ee("var ks2")),ee("if(m%s&&(ks2=Object.keys(m%s)).length){",em,em)("d%s={}",em)("for(var j=0;j<ks2.length;++j){"),eo(ee,eh,ev,em+"[ks2[j]]")("}")):eh.repeated?(ee("if(m%s&&m%s.length){",em,em)("d%s=[]",em)("for(var j=0;j<m%s.length;++j){",em),eo(ee,eh,ev,em+"[j]")("}")):(ee("if(m%s!=null&&m.hasOwnProperty(%j)){",em,eh.name),eo(ee,eh,ev,em),eh.partOf&&ee("if(o.oneofs)")("d%s=%j",en.safeProp(eh.partOf.name),eh.name)),ee("}")}return ee("return d")}},87317:(g,$,ee)=>{"use strict";g.exports=eo;var ei=ee(59246),er=ee(91708),en=ee(66738);function es(g){return"missing required '"+g.name+"'"}function eo(g){var $=en.codegen(["r","l"],g.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(g.fieldsArray.filter(function(g){return g.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");g.group&&$("if((t&7)===4)")("break"),$("switch(t>>>3){");for(var ee=0;ee<g.fieldsArray.length;++ee){var eo=g._fieldsArray[ee].resolve(),ep=eo.resolvedType instanceof ei?"int32":eo.type,eu="m"+en.safeProp(eo.name);$("case %i: {",eo.id),eo.map?($("if(%s===util.emptyObject)",eu)("%s={}",eu)("var c2 = r.uint32()+r.pos"),void 0!==er.defaults[eo.keyType]?$("k=%j",er.defaults[eo.keyType]):$("k=null"),void 0!==er.defaults[ep]?$("value=%j",er.defaults[ep]):$("value=null"),$("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",eo.keyType)("case 2:"),void 0===er.basic[ep]?$("value=types[%i].decode(r,r.uint32())",ee):$("value=r.%s()",ep),$("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),$(void 0!==er.long[eo.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",eu)):eo.repeated?($("if(!(%s&&%s.length))",eu,eu)("%s=[]",eu),void 0!==er.packed[ep]&&$("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",eu,ep)("}else"),void 0===er.basic[ep]?$(eo.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",eu,ee):$("%s.push(r.%s())",eu,ep)):void 0===er.basic[ep]?$(eo.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",eu,ee):$("%s=r.%s()",eu,ep),$("break")("}")}for($("default:")("r.skipType(t&7)")("break")("}")("}"),ee=0;ee<g._fieldsArray.length;++ee){var eh=g._fieldsArray[ee];eh.required&&$("if(!m.hasOwnProperty(%j))",eh.name)("throw util.ProtocolError(%j,{instance:m})",es(eh))}return $("return m")}},49561:(g,$,ee)=>{"use strict";g.exports=eo;var ei=ee(59246),er=ee(91708),en=ee(66738);function es(g,$,ee,ei){return $.resolvedType.group?g("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",ee,ei,($.id<<3|3)>>>0,($.id<<3|4)>>>0):g("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",ee,ei,($.id<<3|2)>>>0)}function eo(g){for(var $,ee,eo=en.codegen(["m","w"],g.name+"$encode")("if(!w)")("w=Writer.create()"),ep=g.fieldsArray.slice().sort(en.compareFieldsById),$=0;$<ep.length;++$){var eu=ep[$].resolve(),eh=g._fieldsArray.indexOf(eu),em=eu.resolvedType instanceof ei?"int32":eu.type,ef=er.basic[em];ee="m"+en.safeProp(eu.name),eu.map?(eo("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",ee,eu.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",ee)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(eu.id<<3|2)>>>0,8|er.mapKey[eu.keyType],eu.keyType),void 0===ef?eo("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",eh,ee):eo(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|ef,em,ee),eo("}")("}")):eu.repeated?(eo("if(%s!=null&&%s.length){",ee,ee),eu.packed&&void 0!==er.packed[em]?eo("w.uint32(%i).fork()",(eu.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",ee)("w.%s(%s[i])",em,ee)("w.ldelim()"):(eo("for(var i=0;i<%s.length;++i)",ee),void 0===ef?es(eo,eu,eh,ee+"[i]"):eo("w.uint32(%i).%s(%s[i])",(eu.id<<3|ef)>>>0,em,ee)),eo("}")):(eu.optional&&eo("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",ee,eu.name),void 0===ef?es(eo,eu,eh,ee):eo("w.uint32(%i).%s(%s)",(eu.id<<3|ef)>>>0,em,ee))}return eo("return w")}},59246:(g,$,ee)=>{"use strict";g.exports=es;var ei=ee(61862);((es.prototype=Object.create(ei.prototype)).constructor=es).className="Enum";var er=ee(97540),en=ee(66738);function es(g,$,ee,er,en,es){if(ei.call(this,g,ee),$&&"object"!=typeof $)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=er,this.comments=en||{},this.valuesOptions=es,this.reserved=void 0,$)for(var eo=Object.keys($),ep=0;ep<eo.length;++ep)"number"==typeof $[eo[ep]]&&(this.valuesById[this.values[eo[ep]]=$[eo[ep]]]=eo[ep])}es.fromJSON=function(g,$){var ee=new es(g,$.values,$.options,$.comment,$.comments);return ee.reserved=$.reserved,ee},es.prototype.toJSON=function(g){var $=!!g&&!!g.keepComments;return en.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",$?this.comment:void 0,"comments",$?this.comments:void 0])},es.prototype.add=function(g,$,ee,ei){if(!en.isString(g))throw TypeError("name must be a string");if(!en.isInteger($))throw TypeError("id must be an integer");if(void 0!==this.values[g])throw Error("duplicate name '"+g+"' in "+this);if(this.isReservedId($))throw Error("id "+$+" is reserved in "+this);if(this.isReservedName(g))throw Error("name '"+g+"' is reserved in "+this);if(void 0!==this.valuesById[$]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+$+" in "+this);this.values[g]=$}else this.valuesById[this.values[g]=$]=g;return ei&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[g]=ei||null),this.comments[g]=ee||null,this},es.prototype.remove=function(g){if(!en.isString(g))throw TypeError("name must be a string");var $=this.values[g];if(null==$)throw Error("name '"+g+"' does not exist in "+this);return delete this.valuesById[$],delete this.values[g],delete this.comments[g],this.valuesOptions&&delete this.valuesOptions[g],this},es.prototype.isReservedId=function(g){return er.isReservedId(this.reserved,g)},es.prototype.isReservedName=function(g){return er.isReservedName(this.reserved,g)}},23980:(g,$,ee)=>{"use strict";g.exports=eu;var ei,er=ee(61862);((eu.prototype=Object.create(er.prototype)).constructor=eu).className="Field";var en=ee(59246),es=ee(91708),eo=ee(66738),ep=/^required|optional|repeated$/;function eu(g,$,ee,ei,en,eu,eh){if(eo.isObject(ei)?(eh=en,eu=ei,ei=en=void 0):eo.isObject(en)&&(eh=eu,eu=en,en=void 0),er.call(this,g,eu),!eo.isInteger($)||$<0)throw TypeError("id must be a non-negative integer");if(!eo.isString(ee))throw TypeError("type must be a string");if(void 0!==ei&&!ep.test(ei=ei.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==en&&!eo.isString(en))throw TypeError("extend must be a string");"proto3_optional"===ei&&(ei="optional"),this.rule=ei&&"optional"!==ei?ei:void 0,this.type=ee,this.id=$,this.extend=en||void 0,this.required="required"===ei,this.optional=!this.required,this.repeated="repeated"===ei,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!eo.Long&&void 0!==es.long[ee],this.bytes="bytes"===ee,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=eh}eu.fromJSON=function(g,$){return new eu(g,$.id,$.type,$.rule,$.extend,$.options,$.comment)},Object.defineProperty(eu.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),eu.prototype.setOption=function(g,$,ee){return"packed"===g&&(this._packed=null),er.prototype.setOption.call(this,g,$,ee)},eu.prototype.toJSON=function(g){var $=!!g&&!!g.keepComments;return eo.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",$?this.comment:void 0])},eu.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=es.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof ei?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof en&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof en)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=eo.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var g;eo.base64.test(this.typeDefault)?eo.base64.decode(this.typeDefault,g=eo.newBuffer(eo.base64.length(this.typeDefault)),0):eo.utf8.write(this.typeDefault,g=eo.newBuffer(eo.utf8.length(this.typeDefault)),0),this.typeDefault=g}return this.map?this.defaultValue=eo.emptyObject:this.repeated?this.defaultValue=eo.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof ei&&(this.parent.ctor.prototype[this.name]=this.defaultValue),er.prototype.resolve.call(this)},eu.d=function(g,$,ee,ei){return"function"==typeof $?$=eo.decorateType($).name:$&&"object"==typeof $&&($=eo.decorateEnum($).name),function(er,en){eo.decorateType(er.constructor).add(new eu(en,g,$,ee,{default:ei}))}},eu._configure=function(g){ei=g}},88226:(g,$,ee)=>{"use strict";var ei=g.exports=ee(82985);function er(g,$,ee){return"function"==typeof $?(ee=$,$=new ei.Root):$||($=new ei.Root),$.load(g,ee)}function en(g,$){return $||($=new ei.Root),$.loadSync(g)}ei.build="light",ei.load=er,ei.loadSync=en,ei.encoder=ee(49561),ei.decoder=ee(87317),ei.verifier=ee(17585),ei.converter=ee(84144),ei.ReflectionObject=ee(61862),ei.Namespace=ee(97540),ei.Root=ee(98373),ei.Enum=ee(59246),ei.Type=ee(59340),ei.Field=ee(23980),ei.OneOf=ee(32866),ei.MapField=ee(67597),ei.Service=ee(82791),ei.Method=ee(28909),ei.Message=ee(34294),ei.wrappers=ee(34038),ei.types=ee(91708),ei.util=ee(66738),ei.ReflectionObject._configure(ei.Root),ei.Namespace._configure(ei.Type,ei.Service,ei.Enum),ei.Root._configure(ei.Type),ei.Field._configure(ei.Type)},82985:(g,$,ee)=>{"use strict";var ei=$;function er(){ei.util._configure(),ei.Writer._configure(ei.BufferWriter),ei.Reader._configure(ei.BufferReader)}ei.build="minimal",ei.Writer=ee(84353),ei.BufferWriter=ee(81978),ei.Reader=ee(95199),ei.BufferReader=ee(15213),ei.util=ee(18932),ei.rpc=ee(69226),ei.roots=ee(10182),ei.configure=er,er()},23517:(g,$,ee)=>{"use strict";var ei=g.exports=ee(88226);ei.build="full",ei.tokenize=ee(86116),ei.parse=ee(87897),ei.common=ee(79760),ei.Root._configure(ei.Type,ei.parse,ei.common)},67597:(g,$,ee)=>{"use strict";g.exports=es;var ei=ee(23980);((es.prototype=Object.create(ei.prototype)).constructor=es).className="MapField";var er=ee(91708),en=ee(66738);function es(g,$,ee,er,es,eo){if(ei.call(this,g,$,er,void 0,void 0,es,eo),!en.isString(ee))throw TypeError("keyType must be a string");this.keyType=ee,this.resolvedKeyType=null,this.map=!0}es.fromJSON=function(g,$){return new es(g,$.id,$.keyType,$.type,$.options,$.comment)},es.prototype.toJSON=function(g){var $=!!g&&!!g.keepComments;return en.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",$?this.comment:void 0])},es.prototype.resolve=function(){if(this.resolved)return this;if(void 0===er.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return ei.prototype.resolve.call(this)},es.d=function(g,$,ee){return"function"==typeof ee?ee=en.decorateType(ee).name:ee&&"object"==typeof ee&&(ee=en.decorateEnum(ee).name),function(ei,er){en.decorateType(ei.constructor).add(new es(er,g,$,ee))}}},34294:(g,$,ee)=>{"use strict";g.exports=er;var ei=ee(18932);function er(g){if(g)for(var $=Object.keys(g),ee=0;ee<$.length;++ee)this[$[ee]]=g[$[ee]]}er.create=function(g){return this.$type.create(g)},er.encode=function(g,$){return this.$type.encode(g,$)},er.encodeDelimited=function(g,$){return this.$type.encodeDelimited(g,$)},er.decode=function(g){return this.$type.decode(g)},er.decodeDelimited=function(g){return this.$type.decodeDelimited(g)},er.verify=function(g){return this.$type.verify(g)},er.fromObject=function(g){return this.$type.fromObject(g)},er.toObject=function(g,$){return this.$type.toObject(g,$)},er.prototype.toJSON=function(){return this.$type.toObject(this,ei.toJSONOptions)}},28909:(g,$,ee)=>{"use strict";g.exports=en;var ei=ee(61862);((en.prototype=Object.create(ei.prototype)).constructor=en).className="Method";var er=ee(66738);function en(g,$,ee,en,es,eo,ep,eu,eh){if(er.isObject(es)?(ep=es,es=eo=void 0):er.isObject(eo)&&(ep=eo,eo=void 0),!(void 0===$||er.isString($)))throw TypeError("type must be a string");if(!er.isString(ee))throw TypeError("requestType must be a string");if(!er.isString(en))throw TypeError("responseType must be a string");ei.call(this,g,ep),this.type=$||"rpc",this.requestType=ee,this.requestStream=!!es||void 0,this.responseType=en,this.responseStream=!!eo||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=eu,this.parsedOptions=eh}en.fromJSON=function(g,$){return new en(g,$.type,$.requestType,$.responseType,$.requestStream,$.responseStream,$.options,$.comment,$.parsedOptions)},en.prototype.toJSON=function(g){var $=!!g&&!!g.keepComments;return er.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",$?this.comment:void 0,"parsedOptions",this.parsedOptions])},en.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),ei.prototype.resolve.call(this))}},97540:(g,$,ee)=>{"use strict";g.exports=em;var ei,er,en,es=ee(61862);((em.prototype=Object.create(es.prototype)).constructor=em).className="Namespace";var eo=ee(23980),ep=ee(66738),eu=ee(32866);function eh(g,$){if(g&&g.length){for(var ee={},ei=0;ei<g.length;++ei)ee[g[ei].name]=g[ei].toJSON($);return ee}}function em(g,$){es.call(this,g,$),this.nested=void 0,this._nestedArray=null}function ef(g){return g._nestedArray=null,g}em.fromJSON=function(g,$){return new em(g,$.options).addJSON($.nested)},em.arrayToJSON=eh,em.isReservedId=function(g,$){if(g){for(var ee=0;ee<g.length;++ee)if("string"!=typeof g[ee]&&g[ee][0]<=$&&g[ee][1]>$)return!0}return!1},em.isReservedName=function(g,$){if(g){for(var ee=0;ee<g.length;++ee)if(g[ee]===$)return!0}return!1},Object.defineProperty(em.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=ep.toArray(this.nested))}}),em.prototype.toJSON=function(g){return ep.toObject(["options",this.options,"nested",eh(this.nestedArray,g)])},em.prototype.addJSON=function(g){var $=this;if(g)for(var ee,es=Object.keys(g),ep=0;ep<es.length;++ep)ee=g[es[ep]],$.add((void 0!==ee.fields?ei.fromJSON:void 0!==ee.values?en.fromJSON:void 0!==ee.methods?er.fromJSON:void 0!==ee.id?eo.fromJSON:em.fromJSON)(es[ep],ee));return this},em.prototype.get=function(g){return this.nested&&this.nested[g]||null},em.prototype.getEnum=function(g){if(this.nested&&this.nested[g]instanceof en)return this.nested[g].values;throw Error("no such enum: "+g)},em.prototype.add=function(g){if(!(g instanceof eo&&void 0!==g.extend||g instanceof ei||g instanceof eu||g instanceof en||g instanceof er||g instanceof em))throw TypeError("object must be a valid nested object");if(this.nested){var $=this.get(g.name);if($){if($ instanceof em&&g instanceof em&&!($ instanceof ei||$ instanceof er)){for(var ee=$.nestedArray,es=0;es<ee.length;++es)g.add(ee[es]);this.remove($),this.nested||(this.nested={}),g.setOptions($.options,!0)}else throw Error("duplicate name '"+g.name+"' in "+this)}}else this.nested={};return this.nested[g.name]=g,g.onAdd(this),ef(this)},em.prototype.remove=function(g){if(!(g instanceof es))throw TypeError("object must be a ReflectionObject");if(g.parent!==this)throw Error(g+" is not a member of "+this);return delete this.nested[g.name],Object.keys(this.nested).length||(this.nested=void 0),g.onRemove(this),ef(this)},em.prototype.define=function(g,$){if(ep.isString(g))g=g.split(".");else if(!Array.isArray(g))throw TypeError("illegal path");if(g&&g.length&&""===g[0])throw Error("path must be relative");for(var ee=this;g.length>0;){var ei=g.shift();if(ee.nested&&ee.nested[ei]){if(!((ee=ee.nested[ei])instanceof em))throw Error("path conflicts with non-namespace objects")}else ee.add(ee=new em(ei))}return $&&ee.addJSON($),ee},em.prototype.resolveAll=function(){for(var g=this.nestedArray,$=0;$<g.length;)g[$]instanceof em?g[$++].resolveAll():g[$++].resolve();return this.resolve()},em.prototype.lookup=function(g,$,ee){if("boolean"==typeof $?(ee=$,$=void 0):$&&!Array.isArray($)&&($=[$]),ep.isString(g)&&g.length){if("."===g)return this.root;g=g.split(".")}else if(!g.length)return this;if(""===g[0])return this.root.lookup(g.slice(1),$);var ei=this.get(g[0]);if(ei){if(1===g.length){if(!$||$.indexOf(ei.constructor)>-1)return ei}else if(ei instanceof em&&(ei=ei.lookup(g.slice(1),$,!0)))return ei}else for(var er=0;er<this.nestedArray.length;++er)if(this._nestedArray[er]instanceof em&&(ei=this._nestedArray[er].lookup(g,$,!0)))return ei;return null===this.parent||ee?null:this.parent.lookup(g,$)},em.prototype.lookupType=function(g){var $=this.lookup(g,[ei]);if(!$)throw Error("no such type: "+g);return $},em.prototype.lookupEnum=function(g){var $=this.lookup(g,[en]);if(!$)throw Error("no such Enum '"+g+"' in "+this);return $},em.prototype.lookupTypeOrEnum=function(g){var $=this.lookup(g,[ei,en]);if(!$)throw Error("no such Type or Enum '"+g+"' in "+this);return $},em.prototype.lookupService=function(g){var $=this.lookup(g,[er]);if(!$)throw Error("no such Service '"+g+"' in "+this);return $},em._configure=function(g,$,ee){ei=g,er=$,en=ee}},61862:(g,$,ee)=>{"use strict";g.exports=en,en.className="ReflectionObject";var ei,er=ee(66738);function en(g,$){if(!er.isString(g))throw TypeError("name must be a string");if($&&!er.isObject($))throw TypeError("options must be an object");this.options=$,this.parsedOptions=null,this.name=g,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(en.prototype,{root:{get:function(){for(var g=this;null!==g.parent;)g=g.parent;return g}},fullName:{get:function(){for(var g=[this.name],$=this.parent;$;)g.unshift($.name),$=$.parent;return g.join(".")}}}),en.prototype.toJSON=function(){throw Error()},en.prototype.onAdd=function(g){this.parent&&this.parent!==g&&this.parent.remove(this),this.parent=g,this.resolved=!1;var $=g.root;$ instanceof ei&&$._handleAdd(this)},en.prototype.onRemove=function(g){var $=g.root;$ instanceof ei&&$._handleRemove(this),this.parent=null,this.resolved=!1},en.prototype.resolve=function(){return this.resolved||this.root instanceof ei&&(this.resolved=!0),this},en.prototype.getOption=function(g){if(this.options)return this.options[g]},en.prototype.setOption=function(g,$,ee){return ee&&this.options&&void 0!==this.options[g]||((this.options||(this.options={}))[g]=$),this},en.prototype.setParsedOption=function(g,$,ee){this.parsedOptions||(this.parsedOptions=[]);var ei=this.parsedOptions;if(ee){var en=ei.find(function($){return Object.prototype.hasOwnProperty.call($,g)});if(en){var es=en[g];er.setProperty(es,ee,$)}else(en={})[g]=er.setProperty({},ee,$),ei.push(en)}else{var eo={};eo[g]=$,ei.push(eo)}return this},en.prototype.setOptions=function(g,$){if(g)for(var ee=Object.keys(g),ei=0;ei<ee.length;++ei)this.setOption(ee[ei],g[ee[ei]],$);return this},en.prototype.toString=function(){var g=this.constructor.className,$=this.fullName;return $.length?g+" "+$:g},en._configure=function(g){ei=g}},32866:(g,$,ee)=>{"use strict";g.exports=es;var ei=ee(61862);((es.prototype=Object.create(ei.prototype)).constructor=es).className="OneOf";var er=ee(23980),en=ee(66738);function es(g,$,ee,er){if(Array.isArray($)||(ee=$,$=void 0),ei.call(this,g,ee),!(void 0===$||Array.isArray($)))throw TypeError("fieldNames must be an Array");this.oneof=$||[],this.fieldsArray=[],this.comment=er}function eo(g){if(g.parent)for(var $=0;$<g.fieldsArray.length;++$)g.fieldsArray[$].parent||g.parent.add(g.fieldsArray[$])}es.fromJSON=function(g,$){return new es(g,$.oneof,$.options,$.comment)},es.prototype.toJSON=function(g){var $=!!g&&!!g.keepComments;return en.toObject(["options",this.options,"oneof",this.oneof,"comment",$?this.comment:void 0])},es.prototype.add=function(g){if(!(g instanceof er))throw TypeError("field must be a Field");return g.parent&&g.parent!==this.parent&&g.parent.remove(g),this.oneof.push(g.name),this.fieldsArray.push(g),g.partOf=this,eo(this),this},es.prototype.remove=function(g){if(!(g instanceof er))throw TypeError("field must be a Field");var $=this.fieldsArray.indexOf(g);if($<0)throw Error(g+" is not a member of "+this);return this.fieldsArray.splice($,1),($=this.oneof.indexOf(g.name))>-1&&this.oneof.splice($,1),g.partOf=null,this},es.prototype.onAdd=function(g){ei.prototype.onAdd.call(this,g);for(var $=this,ee=0;ee<this.oneof.length;++ee){var er=g.get(this.oneof[ee]);er&&!er.partOf&&(er.partOf=$,$.fieldsArray.push(er))}eo(this)},es.prototype.onRemove=function(g){for(var $,ee=0;ee<this.fieldsArray.length;++ee)($=this.fieldsArray[ee]).parent&&$.parent.remove($);ei.prototype.onRemove.call(this,g)},es.d=function(){for(var g=Array(arguments.length),$=0;$<arguments.length;)g[$]=arguments[$++];return function($,ee){en.decorateType($.constructor).add(new es(ee,g)),Object.defineProperty($,ee,{get:en.oneOfGetter(g),set:en.oneOfSetter(g)})}}},87897:(g,$,ee)=>{"use strict";g.exports=eD,eD.filename=null,eD.defaults={keepCase:!1};var ei=ee(86116),er=ee(98373),en=ee(59340),es=ee(23980),eo=ee(67597),ep=ee(32866),eu=ee(59246),eh=ee(82791),em=ee(28909),ef=ee(91708),eg=ee(66738),ev=/^[1-9][0-9]*$/,ey=/^-?[1-9][0-9]*$/,e_=/^0[x][0-9a-fA-F]+$/,ew=/^-?0[x][0-9a-fA-F]+$/,eS=/^0[0-7]+$/,eT=/^-?0[0-7]+$/,eC=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,eE=/^[a-zA-Z_][a-zA-Z_0-9]*$/,eI=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,eN=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function eD(g,$,ee){$ instanceof er||(ee=$,$=new er),ee||(ee=eD.defaults);var ek,eR,eA,eO,eP,eM=ee.preferTrailingComment||!1,eL=ei(g,ee.alternateCommentMode||!1),eF=eL.next,eV=eL.push,eB=eL.peek,eU=eL.skip,ej=eL.cmnt,eq=!0,ez=!1,eH=$,e$=ee.keepCase?function(g){return g}:eg.camelCase;function eW(g,$,ee){var ei=eD.filename;return ee||(eD.filename=null),Error("illegal "+($||"token")+" '"+g+"' ("+(ei?ei+", ":"")+"line "+eL.line+")")}function eK(){var g,$=[];do{if('"'!==(g=eF())&&"'"!==g)throw eW(g);$.push(eF()),eU(g),g=eB()}while('"'===g||"'"===g);return $.join("")}function eG(g){var $=eF();switch($){case"'":case'"':return eV($),eK();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return eY($,!0)}catch(ee){if(g&&eI.test($))return $;throw eW($,"value")}}function eQ(g,$){var ee,ei;do $&&('"'===(ee=eB())||"'"===ee)?g.push(eK()):g.push([ei=eJ(eF()),eU("to",!0)?eJ(eF()):ei]);while(eU(",",!0));eU(";")}function eY(g,$){var ee=1;switch("-"===g.charAt(0)&&(ee=-1,g=g.substring(1)),g){case"inf":case"INF":case"Inf":return ee*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(ev.test(g))return ee*parseInt(g,10);if(e_.test(g))return ee*parseInt(g,16);if(eS.test(g))return ee*parseInt(g,8);if(eC.test(g))return ee*parseFloat(g);throw eW(g,"number",$)}function eJ(g,$){switch(g){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!$&&"-"===g.charAt(0))throw eW(g,"id");if(ey.test(g))return parseInt(g,10);if(ew.test(g))return parseInt(g,16);if(eT.test(g))return parseInt(g,8);throw eW(g,"id")}function eX(){if(void 0!==eR)throw eW("package");if(eR=eF(),!eI.test(eR))throw eW(eR,"name");eH=eH.define(eR),eU(";")}function eZ(){var g,$=eB();switch($){case"weak":g=eO||(eO=[]),eF();break;case"public":eF();default:g=eA||(eA=[])}$=eK(),eU(";"),g.push($)}function e1(){if(eU("="),!(ez="proto3"===(eP=eK()))&&"proto2"!==eP)throw eW(eP,"syntax");eU(";")}function e0(g,$){switch($){case"option":return te(g,$),eU(";"),!0;case"message":return e6(g,$),!0;case"enum":return e8(g,$),!0;case"service":return tl(g,$),!0;case"extend":return tu(g,$),!0}return!1}function e2(g,$,ee){var ei,er=eL.line;if(g&&("string"!=typeof g.comment&&(g.comment=ej()),g.filename=eD.filename),eU("{",!0)){for(;"}"!==(ei=eF());)$(ei);eU(";",!0)}else ee&&ee(),eU(";"),g&&("string"!=typeof g.comment||eM)&&(g.comment=ej(er)||g.comment)}function e6(g,$){if(!eE.test($=eF()))throw eW($,"type name");var ee=new en($);e2(ee,function(g){if(!e0(ee,g))switch(g){case"map":e9(ee,g);break;case"required":case"repeated":e4(ee,g);break;case"optional":ez?e4(ee,"proto3_optional"):e4(ee,"optional");break;case"oneof":e5(ee,g);break;case"extensions":eQ(ee.extensions||(ee.extensions=[]));break;case"reserved":eQ(ee.reserved||(ee.reserved=[]),!0);break;default:if(!ez||!eI.test(g))throw eW(g);eV(g),e4(ee,"optional")}}),g.add(ee)}function e4(g,$,ee){var ei=eF();if("group"===ei){e3(g,$);return}for(;ei.endsWith(".")||eB().startsWith(".");)ei+=eF();if(!eI.test(ei))throw eW(ei,"type");var er=eF();if(!eE.test(er))throw eW(er,"name");er=e$(er),eU("=");var en=new es(er,eJ(eF()),ei,$,ee);if(e2(en,function(g){if("option"===g)te(en,g),eU(";");else throw eW(g)},function(){ts(en)}),"proto3_optional"===$){var eo=new ep("_"+er);en.setOption("proto3_optional",!0),eo.add(en),g.add(eo)}else g.add(en);!ez&&en.repeated&&(void 0!==ef.packed[ei]||void 0===ef.basic[ei])&&en.setOption("packed",!1,!0)}function e3(g,$){var ee=eF();if(!eE.test(ee))throw eW(ee,"name");var ei=eg.lcFirst(ee);ee===ei&&(ee=eg.ucFirst(ee)),eU("=");var er=eJ(eF()),eo=new en(ee);eo.group=!0;var ep=new es(ei,er,ee,$);ep.filename=eD.filename,e2(eo,function(g){switch(g){case"option":te(eo,g),eU(";");break;case"required":case"repeated":e4(eo,g);break;case"optional":ez?e4(eo,"proto3_optional"):e4(eo,"optional");break;case"message":e6(eo,g);break;case"enum":e8(eo,g);break;default:throw eW(g)}}),g.add(eo).add(ep)}function e9(g){eU("<");var $=eF();if(void 0===ef.mapKey[$])throw eW($,"type");eU(",");var ee=eF();if(!eI.test(ee))throw eW(ee,"type");eU(">");var ei=eF();if(!eE.test(ei))throw eW(ei,"name");eU("=");var er=new eo(e$(ei),eJ(eF()),$,ee);e2(er,function(g){if("option"===g)te(er,g),eU(";");else throw eW(g)},function(){ts(er)}),g.add(er)}function e5(g,$){if(!eE.test($=eF()))throw eW($,"name");var ee=new ep(e$($));e2(ee,function(g){"option"===g?(te(ee,g),eU(";")):(eV(g),e4(ee,"optional"))}),g.add(ee)}function e8(g,$){if(!eE.test($=eF()))throw eW($,"name");var ee=new eu($);e2(ee,function(g){switch(g){case"option":te(ee,g),eU(";");break;case"reserved":eQ(ee.reserved||(ee.reserved=[]),!0);break;default:e7(ee,g)}}),g.add(ee)}function e7(g,$){if(!eE.test($))throw eW($,"name");eU("=");var ee=eJ(eF(),!0),ei={options:void 0};ei.setOption=function(g,$){void 0===this.options&&(this.options={}),this.options[g]=$},e2(ei,function(g){if("option"===g)te(ei,g),eU(";");else throw eW(g)},function(){ts(ei)}),g.add($,ee,ei.comment,ei.options)}function te(g,$){var ee,ei=eU("(",!0);if(!eI.test($=eF()))throw eW($,"name");var er=$,en=er;ei&&(eU(")"),en=er="("+er+")",$=eB(),eN.test($)&&(ee=$.slice(1),er+=$,eF())),eU("=");var es=tt(g,er);tr(g,en,es,ee)}function tt(g,$){if(eU("{",!0)){for(var ee={};!eU("}",!0);){if(!eE.test(ek=eF()))throw eW(ek,"name");if(null===ek)throw eW(ek,"end of input");var ei,er,en=ek;if(eU(":",!0),"{"===eB())ei=tt(g,$+"."+ek);else if("["===eB()){if(ei=[],eU("[",!0)){do er=eG(!0),ei.push(er);while(eU(",",!0));eU("]"),void 0!==er&&ti(g,$+"."+ek,er)}}else ei=eG(!0),ti(g,$+"."+ek,ei);var es=ee[en];es&&(ei=[].concat(es).concat(ei)),ee[en]=ei,eU(",",!0),eU(";",!0)}return ee}var eo=eG(!0);return ti(g,$,eo),eo}function ti(g,$,ee){g.setOption&&g.setOption($,ee)}function tr(g,$,ee,ei){g.setParsedOption&&g.setParsedOption($,ee,ei)}function ts(g){if(eU("[",!0)){do te(g,"option");while(eU(",",!0));eU("]")}return g}function tl(g,$){if(!eE.test($=eF()))throw eW($,"service name");var ee=new eh($);e2(ee,function(g){if(!e0(ee,g)){if("rpc"===g)tp(ee,g);else throw eW(g)}}),g.add(ee)}function tp(g,$){var ee=ej(),ei=$;if(!eE.test($=eF()))throw eW($,"name");var er,en,es,eo,ep=$;if(eU("("),eU("stream",!0)&&(en=!0),!eI.test($=eF())||(er=$,eU(")"),eU("returns"),eU("("),eU("stream",!0)&&(eo=!0),!eI.test($=eF())))throw eW($);es=$,eU(")");var eu=new em(ep,ei,er,es,en,eo);eu.comment=ee,e2(eu,function(g){if("option"===g)te(eu,g),eU(";");else throw eW(g)}),g.add(eu)}function tu(g,$){if(!eI.test($=eF()))throw eW($,"reference");var ee=$;e2(null,function($){switch($){case"required":case"repeated":e4(g,$,ee);break;case"optional":ez?e4(g,"proto3_optional",ee):e4(g,"optional",ee);break;default:if(!ez||!eI.test($))throw eW($);eV($),e4(g,"optional",ee)}})}for(;null!==(ek=eF());)switch(ek){case"package":if(!eq)throw eW(ek);eX();break;case"import":if(!eq)throw eW(ek);eZ();break;case"syntax":if(!eq)throw eW(ek);e1();break;case"option":te(eH,ek),eU(";");break;default:if(e0(eH,ek)){eq=!1;continue}throw eW(ek)}return eD.filename=null,{package:eR,imports:eA,weakImports:eO,syntax:eP,root:$}}},95199:(g,$,ee)=>{"use strict";g.exports=ep;var ei,er=ee(18932),en=er.LongBits,es=er.utf8;function eo(g,$){return RangeError("index out of range: "+g.pos+" + "+($||1)+" > "+g.len)}function ep(g){this.buf=g,this.pos=0,this.len=g.length}var eu="undefined"!=typeof Uint8Array?function(g){if(g instanceof Uint8Array||Array.isArray(g))return new ep(g);throw Error("illegal buffer")}:function(g){if(Array.isArray(g))return new ep(g);throw Error("illegal buffer")},eh=function(){return er.Buffer?function(g){return(ep.create=function(g){return er.Buffer.isBuffer(g)?new ei(g):eu(g)})(g)}:eu};function em(){var g=new en(0,0),$=0;if(this.len-this.pos>4){for(;$<4;++$)if(g.lo=(g.lo|(127&this.buf[this.pos])<<7*$)>>>0,this.buf[this.pos++]<128)return g;if(g.lo=(g.lo|(127&this.buf[this.pos])<<28)>>>0,g.hi=(g.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return g;$=0}else{for(;$<3;++$){if(this.pos>=this.len)throw eo(this);if(g.lo=(g.lo|(127&this.buf[this.pos])<<7*$)>>>0,this.buf[this.pos++]<128)return g}return g.lo=(g.lo|(127&this.buf[this.pos++])<<7*$)>>>0,g}if(this.len-this.pos>4){for(;$<5;++$)if(g.hi=(g.hi|(127&this.buf[this.pos])<<7*$+3)>>>0,this.buf[this.pos++]<128)return g}else for(;$<5;++$){if(this.pos>=this.len)throw eo(this);if(g.hi=(g.hi|(127&this.buf[this.pos])<<7*$+3)>>>0,this.buf[this.pos++]<128)return g}throw Error("invalid varint encoding")}function ef(g,$){return(g[$-4]|g[$-3]<<8|g[$-2]<<16|g[$-1]<<24)>>>0}function eg(){if(this.pos+8>this.len)throw eo(this,8);return new en(ef(this.buf,this.pos+=4),ef(this.buf,this.pos+=4))}ep.create=eh(),ep.prototype._slice=er.Array.prototype.subarray||er.Array.prototype.slice,ep.prototype.uint32=function(){var g=4294967295;return function(){if(g=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(g=(g|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,eo(this,10);return g}}(),ep.prototype.int32=function(){return 0|this.uint32()},ep.prototype.sint32=function(){var g=this.uint32();return g>>>1^-(1&g)|0},ep.prototype.bool=function(){return 0!==this.uint32()},ep.prototype.fixed32=function(){if(this.pos+4>this.len)throw eo(this,4);return ef(this.buf,this.pos+=4)},ep.prototype.sfixed32=function(){if(this.pos+4>this.len)throw eo(this,4);return 0|ef(this.buf,this.pos+=4)},ep.prototype.float=function(){if(this.pos+4>this.len)throw eo(this,4);var g=er.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},ep.prototype.double=function(){if(this.pos+8>this.len)throw eo(this,4);var g=er.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},ep.prototype.bytes=function(){var g=this.uint32(),$=this.pos,ee=this.pos+g;if(ee>this.len)throw eo(this,g);if(this.pos+=g,Array.isArray(this.buf))return this.buf.slice($,ee);if($===ee){var ei=er.Buffer;return ei?ei.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,$,ee)},ep.prototype.string=function(){var g=this.bytes();return es.read(g,0,g.length)},ep.prototype.skip=function(g){if("number"==typeof g){if(this.pos+g>this.len)throw eo(this,g);this.pos+=g}else do if(this.pos>=this.len)throw eo(this);while(128&this.buf[this.pos++]);return this},ep.prototype.skipType=function(g){switch(g){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(g=7&this.uint32());)this.skipType(g);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+g+" at offset "+this.pos)}return this},ep._configure=function(g){ei=g,ep.create=eh(),ei._configure();var $=er.Long?"toLong":"toNumber";er.merge(ep.prototype,{int64:function(){return em.call(this)[$](!1)},uint64:function(){return em.call(this)[$](!0)},sint64:function(){return em.call(this).zzDecode()[$](!1)},fixed64:function(){return eg.call(this)[$](!0)},sfixed64:function(){return eg.call(this)[$](!1)}})}},15213:(g,$,ee)=>{"use strict";g.exports=en;var ei=ee(95199);(en.prototype=Object.create(ei.prototype)).constructor=en;var er=ee(18932);function en(g){ei.call(this,g)}en._configure=function(){er.Buffer&&(en.prototype._slice=er.Buffer.prototype.slice)},en.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},en._configure()},98373:(g,$,ee)=>{"use strict";g.exports=em;var ei,er,en,es=ee(97540);((em.prototype=Object.create(es.prototype)).constructor=em).className="Root";var eo=ee(23980),ep=ee(59246),eu=ee(32866),eh=ee(66738);function em(g){es.call(this,"",g),this.deferred=[],this.files=[]}function ef(){}em.fromJSON=function(g,$){return $||($=new em),g.options&&$.setOptions(g.options),$.addJSON(g.nested)},em.prototype.resolvePath=eh.path.resolve,em.prototype.fetch=eh.fetch,em.prototype.load=function g($,ee,ei){"function"==typeof ee&&(ei=ee,ee=void 0);var es=this;if(!ei)return eh.asPromise(g,es,$,ee);var eo=ei===ef;function ep(g,$){if(ei){var ee=ei;if(ei=null,eo)throw g;ee(g,$)}}function eu(g){var $=g.lastIndexOf("google/protobuf/");if($>-1){var ee=g.substring($);if(ee in en)return ee}return null}function em(g,$){try{if(eh.isString($)&&"{"===$.charAt(0)&&($=JSON.parse($)),eh.isString($)){er.filename=g;var ei,en=er($,es,ee),em=0;if(en.imports)for(;em<en.imports.length;++em)(ei=eu(en.imports[em])||es.resolvePath(g,en.imports[em]))&&eg(ei);if(en.weakImports)for(em=0;em<en.weakImports.length;++em)(ei=eu(en.weakImports[em])||es.resolvePath(g,en.weakImports[em]))&&eg(ei,!0)}else es.setOptions($.options).addJSON($.nested)}catch(g){ep(g)}eo||ev||ep(null,es)}function eg(g,$){if(g=eu(g)||g,!(es.files.indexOf(g)>-1)){if(es.files.push(g),g in en){eo?em(g,en[g]):(++ev,setTimeout(function(){--ev,em(g,en[g])}));return}if(eo){var ee;try{ee=eh.fs.readFileSync(g).toString("utf8")}catch(g){$||ep(g);return}em(g,ee)}else++ev,es.fetch(g,function(ee,er){if(--ev,ei){if(ee){$?ev||ep(null,es):ep(ee);return}em(g,er)}})}}var ev=0;eh.isString($)&&($=[$]);for(var ey,e_=0;e_<$.length;++e_)(ey=es.resolvePath("",$[e_]))&&eg(ey);if(eo)return es;ev||ep(null,es)},em.prototype.loadSync=function(g,$){if(!eh.isNode)throw Error("not supported");return this.load(g,$,ef)},em.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(g){return"'extend "+g.extend+"' in "+g.parent.fullName}).join(", "));return es.prototype.resolveAll.call(this)};var eg=/^[A-Z]/;function ev(g,$){var ee=$.parent.lookup($.extend);if(ee){var ei=new eo($.fullName,$.id,$.type,$.rule,void 0,$.options);return!!ee.get(ei.name)||(ei.declaringField=$,$.extensionField=ei,ee.add(ei),!0)}return!1}em.prototype._handleAdd=function(g){if(g instanceof eo)void 0===g.extend||g.extensionField||ev(this,g)||this.deferred.push(g);else if(g instanceof ep)eg.test(g.name)&&(g.parent[g.name]=g.values);else if(!(g instanceof eu)){if(g instanceof ei)for(var $=0;$<this.deferred.length;)ev(this,this.deferred[$])?this.deferred.splice($,1):++$;for(var ee=0;ee<g.nestedArray.length;++ee)this._handleAdd(g._nestedArray[ee]);eg.test(g.name)&&(g.parent[g.name]=g)}},em.prototype._handleRemove=function(g){if(g instanceof eo){if(void 0!==g.extend){if(g.extensionField)g.extensionField.parent.remove(g.extensionField),g.extensionField=null;else{var $=this.deferred.indexOf(g);$>-1&&this.deferred.splice($,1)}}}else if(g instanceof ep)eg.test(g.name)&&delete g.parent[g.name];else if(g instanceof es){for(var ee=0;ee<g.nestedArray.length;++ee)this._handleRemove(g._nestedArray[ee]);eg.test(g.name)&&delete g.parent[g.name]}},em._configure=function(g,$,ee){ei=g,er=$,en=ee}},10182:g=>{"use strict";g.exports={}},69226:(g,$,ee)=>{"use strict";$.Service=ee(12741)},12741:(g,$,ee)=>{"use strict";g.exports=er;var ei=ee(18932);function er(g,$,ee){if("function"!=typeof g)throw TypeError("rpcImpl must be a function");ei.EventEmitter.call(this),this.rpcImpl=g,this.requestDelimited=!!$,this.responseDelimited=!!ee}(er.prototype=Object.create(ei.EventEmitter.prototype)).constructor=er,er.prototype.rpcCall=function g($,ee,er,en,es){if(!en)throw TypeError("request must be specified");var eo=this;if(!es)return ei.asPromise(g,eo,$,ee,er,en);if(!eo.rpcImpl){setTimeout(function(){es(Error("already ended"))},0);return}try{return eo.rpcImpl($,ee[eo.requestDelimited?"encodeDelimited":"encode"](en).finish(),function(g,ee){if(g)return eo.emit("error",g,$),es(g);if(null===ee){eo.end(!0);return}if(!(ee instanceof er))try{ee=er[eo.responseDelimited?"decodeDelimited":"decode"](ee)}catch(g){return eo.emit("error",g,$),es(g)}return eo.emit("data",ee,$),es(null,ee)})}catch(g){eo.emit("error",g,$),setTimeout(function(){es(g)},0);return}},er.prototype.end=function(g){return this.rpcImpl&&(g||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},82791:(g,$,ee)=>{"use strict";g.exports=eo;var ei=ee(97540);((eo.prototype=Object.create(ei.prototype)).constructor=eo).className="Service";var er=ee(28909),en=ee(66738),es=ee(69226);function eo(g,$){ei.call(this,g,$),this.methods={},this._methodsArray=null}function ep(g){return g._methodsArray=null,g}eo.fromJSON=function(g,$){var ee=new eo(g,$.options);if($.methods)for(var ei=Object.keys($.methods),en=0;en<ei.length;++en)ee.add(er.fromJSON(ei[en],$.methods[ei[en]]));return $.nested&&ee.addJSON($.nested),ee.comment=$.comment,ee},eo.prototype.toJSON=function(g){var $=ei.prototype.toJSON.call(this,g),ee=!!g&&!!g.keepComments;return en.toObject(["options",$&&$.options||void 0,"methods",ei.arrayToJSON(this.methodsArray,g)||{},"nested",$&&$.nested||void 0,"comment",ee?this.comment:void 0])},Object.defineProperty(eo.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=en.toArray(this.methods))}}),eo.prototype.get=function(g){return this.methods[g]||ei.prototype.get.call(this,g)},eo.prototype.resolveAll=function(){for(var g=this.methodsArray,$=0;$<g.length;++$)g[$].resolve();return ei.prototype.resolve.call(this)},eo.prototype.add=function(g){if(this.get(g.name))throw Error("duplicate name '"+g.name+"' in "+this);return g instanceof er?(this.methods[g.name]=g,g.parent=this,ep(this)):ei.prototype.add.call(this,g)},eo.prototype.remove=function(g){if(g instanceof er){if(this.methods[g.name]!==g)throw Error(g+" is not a member of "+this);return delete this.methods[g.name],g.parent=null,ep(this)}return ei.prototype.remove.call(this,g)},eo.prototype.create=function(g,$,ee){for(var ei,er=new es.Service(g,$,ee),eo=0;eo<this.methodsArray.length;++eo){var ep=en.lcFirst((ei=this._methodsArray[eo]).resolve().name).replace(/[^$\w_]/g,"");er[ep]=en.codegen(["r","c"],en.isReserved(ep)?ep+"_":ep)("return this.rpcCall(m,q,s,r,c)")({m:ei,q:ei.resolvedRequestType.ctor,s:ei.resolvedResponseType.ctor})}return er}},86116:g=>{"use strict";g.exports=em;var $=/[\s{}=;:[\],'"()<>]/g,ee=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,ei=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,er=/^ *[*/]+ */,en=/^\s*\*?\/*/,es=/\n/g,eo=/\s/,ep=/\\(.?)/g,eu={0:"\x00",r:"\r",n:"\n",t:"	"};function eh(g){return g.replace(ep,function(g,$){switch($){case"\\":case"":return $;default:return eu[$]||""}})}function em(g,ep){g=g.toString();var eu=0,em=g.length,ef=1,eg=0,ev={},ey=[],e_=null;function ew(g){return Error("illegal "+g+" (line "+ef+")")}function eS(){var $="'"===e_?ei:ee;$.lastIndex=eu-1;var er=$.exec(g);if(!er)throw ew("string");return eu=$.lastIndex,eD(e_),e_=null,eh(er[1])}function eT($){return g.charAt($)}function eC($,ee,ei){var eo,eu,eh={type:g.charAt($++),lineEmpty:!1,leading:ei},em=$-(eo=ep?2:3);do if(--em<0||"\n"===(eu=g.charAt(em))){eh.lineEmpty=!0;break}while(" "===eu||"	"===eu);for(var ey=g.substring($,ee).split(es),e_=0;e_<ey.length;++e_)ey[e_]=ey[e_].replace(ep?en:er,"").trim();eh.text=ey.join("\n").trim(),ev[ef]=eh,eg=ef}function eE($){var ee=eI($),ei=g.substring($,ee);return/^\s*\/\//.test(ei)}function eI(g){for(var $=g;$<em&&"\n"!==eT($);)$++;return $}function eN(){if(ey.length>0)return ey.shift();if(e_)return eS();var ee,ei,er,en,es,eh=0===eu;do{if(eu===em)return null;for(ee=!1;eo.test(er=eT(eu));)if("\n"===er&&(eh=!0,++ef),++eu===em)return null;if("/"===eT(eu)){if(++eu===em)throw ew("comment");if("/"===eT(eu)){if(ep){if(en=eu,es=!1,eE(eu-1)){es=!0;do if((eu=eI(eu))===em||(eu++,!eh))break;while(eE(eu))}else eu=Math.min(em,eI(eu)+1);es&&(eC(en,eu,eh),eh=!0),ef++,ee=!0}else{for(es="/"===eT(en=eu+1);"\n"!==eT(++eu);)if(eu===em)return null;++eu,es&&(eC(en,eu-1,eh),eh=!0),++ef,ee=!0}}else{if("*"!==(er=eT(eu)))return"/";en=eu+1,es=ep||"*"===eT(en);do{if("\n"===er&&++ef,++eu===em)throw ew("comment");ei=er,er=eT(eu)}while("*"!==ei||"/"!==er);++eu,es&&(eC(en,eu-2,eh),eh=!0),ee=!0}}}while(ee);var eg=eu;if($.lastIndex=0,!$.test(eT(eg++)))for(;eg<em&&!$.test(eT(eg));)++eg;var ev=g.substring(eu,eu=eg);return('"'===ev||"'"===ev)&&(e_=ev),ev}function eD(g){ey.push(g)}function ek(){if(!ey.length){var g=eN();if(null===g)return null;eD(g)}return ey[0]}function eR(g,$){var ee=ek();if(ee===g)return eN(),!0;if(!$)throw ew("token '"+ee+"', '"+g+"' expected");return!1}function eA(g){var $,ee=null;return void 0===g?($=ev[ef-1],delete ev[ef-1],$&&(ep||"*"===$.type||$.lineEmpty)&&(ee=$.leading?$.text:null)):(eg<g&&ek(),$=ev[g],delete ev[g],$&&!$.lineEmpty&&(ep||"/"===$.type)&&(ee=$.leading?null:$.text)),ee}return Object.defineProperty({next:eN,peek:ek,push:eD,skip:eR,cmnt:eA},"line",{get:function(){return ef}})}em.unescape=eh},59340:(g,$,ee)=>{"use strict";g.exports=eS;var ei=ee(97540);((eS.prototype=Object.create(ei.prototype)).constructor=eS).className="Type";var er=ee(59246),en=ee(32866),es=ee(23980),eo=ee(67597),ep=ee(82791),eu=ee(34294),eh=ee(95199),em=ee(84353),ef=ee(66738),eg=ee(49561),ev=ee(87317),ey=ee(17585),e_=ee(84144),ew=ee(34038);function eS(g,$){ei.call(this,g,$),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function eT(g){return g._fieldsById=g._fieldsArray=g._oneofsArray=null,delete g.encode,delete g.decode,delete g.verify,g}Object.defineProperties(eS.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var g=Object.keys(this.fields),$=0;$<g.length;++$){var ee=this.fields[g[$]],ei=ee.id;if(this._fieldsById[ei])throw Error("duplicate id "+ei+" in "+this);this._fieldsById[ei]=ee}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=ef.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=ef.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=eS.generateConstructor(this)())},set:function(g){var $=g.prototype;$ instanceof eu||((g.prototype=new eu).constructor=g,ef.merge(g.prototype,$)),g.$type=g.prototype.$type=this,ef.merge(g,eu,!0),this._ctor=g;for(var ee=0;ee<this.fieldsArray.length;++ee)this._fieldsArray[ee].resolve();var ei={};for(ee=0;ee<this.oneofsArray.length;++ee)ei[this._oneofsArray[ee].resolve().name]={get:ef.oneOfGetter(this._oneofsArray[ee].oneof),set:ef.oneOfSetter(this._oneofsArray[ee].oneof)};ee&&Object.defineProperties(g.prototype,ei)}}}),eS.generateConstructor=function(g){for(var $,ee=ef.codegen(["p"],g.name),ei=0;ei<g.fieldsArray.length;++ei)($=g._fieldsArray[ei]).map?ee("this%s={}",ef.safeProp($.name)):$.repeated&&ee("this%s=[]",ef.safeProp($.name));return ee("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},eS.fromJSON=function(g,$){var ee=new eS(g,$.options);ee.extensions=$.extensions,ee.reserved=$.reserved;for(var eu=Object.keys($.fields),eh=0;eh<eu.length;++eh)ee.add((void 0!==$.fields[eu[eh]].keyType?eo.fromJSON:es.fromJSON)(eu[eh],$.fields[eu[eh]]));if($.oneofs)for(eu=Object.keys($.oneofs),eh=0;eh<eu.length;++eh)ee.add(en.fromJSON(eu[eh],$.oneofs[eu[eh]]));if($.nested)for(eu=Object.keys($.nested),eh=0;eh<eu.length;++eh){var em=$.nested[eu[eh]];ee.add((void 0!==em.id?es.fromJSON:void 0!==em.fields?eS.fromJSON:void 0!==em.values?er.fromJSON:void 0!==em.methods?ep.fromJSON:ei.fromJSON)(eu[eh],em))}return $.extensions&&$.extensions.length&&(ee.extensions=$.extensions),$.reserved&&$.reserved.length&&(ee.reserved=$.reserved),$.group&&(ee.group=!0),$.comment&&(ee.comment=$.comment),ee},eS.prototype.toJSON=function(g){var $=ei.prototype.toJSON.call(this,g),ee=!!g&&!!g.keepComments;return ef.toObject(["options",$&&$.options||void 0,"oneofs",ei.arrayToJSON(this.oneofsArray,g),"fields",ei.arrayToJSON(this.fieldsArray.filter(function(g){return!g.declaringField}),g)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",$&&$.nested||void 0,"comment",ee?this.comment:void 0])},eS.prototype.resolveAll=function(){for(var g=this.fieldsArray,$=0;$<g.length;)g[$++].resolve();var ee=this.oneofsArray;for($=0;$<ee.length;)ee[$++].resolve();return ei.prototype.resolveAll.call(this)},eS.prototype.get=function(g){return this.fields[g]||this.oneofs&&this.oneofs[g]||this.nested&&this.nested[g]||null},eS.prototype.add=function(g){if(this.get(g.name))throw Error("duplicate name '"+g.name+"' in "+this);if(g instanceof es&&void 0===g.extend){if(this._fieldsById?this._fieldsById[g.id]:this.fieldsById[g.id])throw Error("duplicate id "+g.id+" in "+this);if(this.isReservedId(g.id))throw Error("id "+g.id+" is reserved in "+this);if(this.isReservedName(g.name))throw Error("name '"+g.name+"' is reserved in "+this);return g.parent&&g.parent.remove(g),this.fields[g.name]=g,g.message=this,g.onAdd(this),eT(this)}return g instanceof en?(this.oneofs||(this.oneofs={}),this.oneofs[g.name]=g,g.onAdd(this),eT(this)):ei.prototype.add.call(this,g)},eS.prototype.remove=function(g){if(g instanceof es&&void 0===g.extend){if(!this.fields||this.fields[g.name]!==g)throw Error(g+" is not a member of "+this);return delete this.fields[g.name],g.parent=null,g.onRemove(this),eT(this)}if(g instanceof en){if(!this.oneofs||this.oneofs[g.name]!==g)throw Error(g+" is not a member of "+this);return delete this.oneofs[g.name],g.parent=null,g.onRemove(this),eT(this)}return ei.prototype.remove.call(this,g)},eS.prototype.isReservedId=function(g){return ei.isReservedId(this.reserved,g)},eS.prototype.isReservedName=function(g){return ei.isReservedName(this.reserved,g)},eS.prototype.create=function(g){return new this.ctor(g)},eS.prototype.setup=function(){for(var g=this.fullName,$=[],ee=0;ee<this.fieldsArray.length;++ee)$.push(this._fieldsArray[ee].resolve().resolvedType);this.encode=eg(this)({Writer:em,types:$,util:ef}),this.decode=ev(this)({Reader:eh,types:$,util:ef}),this.verify=ey(this)({types:$,util:ef}),this.fromObject=e_.fromObject(this)({types:$,util:ef}),this.toObject=e_.toObject(this)({types:$,util:ef});var ei=ew[g];if(ei){var er=Object.create(this);er.fromObject=this.fromObject,this.fromObject=ei.fromObject.bind(er),er.toObject=this.toObject,this.toObject=ei.toObject.bind(er)}return this},eS.prototype.encode=function(g,$){return this.setup().encode(g,$)},eS.prototype.encodeDelimited=function(g,$){return this.encode(g,$&&$.len?$.fork():$).ldelim()},eS.prototype.decode=function(g,$){return this.setup().decode(g,$)},eS.prototype.decodeDelimited=function(g){return g instanceof eh||(g=eh.create(g)),this.decode(g,g.uint32())},eS.prototype.verify=function(g){return this.setup().verify(g)},eS.prototype.fromObject=function(g){return this.setup().fromObject(g)},eS.prototype.toObject=function(g,$){return this.setup().toObject(g,$)},eS.d=function(g){return function($){ef.decorateType($,g)}}},91708:(g,$,ee)=>{"use strict";var ei=$,er=ee(66738),en=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function es(g,$){var ee=0,ei={};for($|=0;ee<g.length;)ei[en[ee+$]]=g[ee++];return ei}ei.basic=es([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),ei.defaults=es([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",er.emptyArray,null]),ei.long=es([0,0,0,1,1],7),ei.mapKey=es([0,0,0,5,5,0,0,0,1,1,0,2],2),ei.packed=es([1,5,0,0,0,5,5,0,0,0,1,1,0])},66738:(g,$,ee)=>{"use strict";var ei,er,en=g.exports=ee(18932),es=ee(10182);en.codegen=ee(57311),en.fetch=ee(82651),en.path=ee(52768),en.fs=en.inquire("fs"),en.toArray=function(g){if(g){for(var $=Object.keys(g),ee=Array($.length),ei=0;ei<$.length;)ee[ei]=g[$[ei++]];return ee}return[]},en.toObject=function(g){for(var $={},ee=0;ee<g.length;){var ei=g[ee++],er=g[ee++];void 0!==er&&($[ei]=er)}return $};var eo=/\\/g,ep=/"/g;en.isReserved=function(g){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(g)},en.safeProp=function(g){return!/^[$\w_]+$/.test(g)||en.isReserved(g)?'["'+g.replace(eo,"\\\\").replace(ep,'\\"')+'"]':"."+g},en.ucFirst=function(g){return g.charAt(0).toUpperCase()+g.substring(1)};var eu=/_([a-z])/g;en.camelCase=function(g){return g.substring(0,1)+g.substring(1).replace(eu,function(g,$){return $.toUpperCase()})},en.compareFieldsById=function(g,$){return g.id-$.id},en.decorateType=function(g,$){if(g.$type)return $&&g.$type.name!==$&&(en.decorateRoot.remove(g.$type),g.$type.name=$,en.decorateRoot.add(g.$type)),g.$type;ei||(ei=ee(59340));var er=new ei($||g.name);return en.decorateRoot.add(er),er.ctor=g,Object.defineProperty(g,"$type",{value:er,enumerable:!1}),Object.defineProperty(g.prototype,"$type",{value:er,enumerable:!1}),er};var eh=0;en.decorateEnum=function(g){if(g.$type)return g.$type;er||(er=ee(59246));var $=new er("Enum"+eh++,g);return en.decorateRoot.add($),Object.defineProperty(g,"$type",{value:$,enumerable:!1}),$},en.setProperty=function(g,$,ee){function ei(g,$,ee){var er=$.shift();if("__proto__"===er||"prototype"===er)return g;if($.length>0)g[er]=ei(g[er]||{},$,ee);else{var en=g[er];en&&(ee=[].concat(en).concat(ee)),g[er]=ee}return g}if("object"!=typeof g)throw TypeError("dst must be an object");if(!$)throw TypeError("path must be specified");return ei(g,$=$.split("."),ee)},Object.defineProperty(en,"decorateRoot",{get:function(){return es.decorated||(es.decorated=new(ee(98373)))}})},41168:(g,$,ee)=>{"use strict";g.exports=er;var ei=ee(18932);function er(g,$){this.lo=g>>>0,this.hi=$>>>0}var en=er.zero=new er(0,0);en.toNumber=function(){return 0},en.zzEncode=en.zzDecode=function(){return this},en.length=function(){return 1};var es=er.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";er.fromNumber=function(g){if(0===g)return en;var $=g<0;$&&(g=-g);var ee=g>>>0,ei=(g-ee)/4294967296>>>0;return $&&(ei=~ei>>>0,ee=~ee>>>0,++ee>4294967295&&(ee=0,++ei>4294967295&&(ei=0))),new er(ee,ei)},er.from=function(g){if("number"==typeof g)return er.fromNumber(g);if(ei.isString(g)){if(!ei.Long)return er.fromNumber(parseInt(g,10));g=ei.Long.fromString(g)}return g.low||g.high?new er(g.low>>>0,g.high>>>0):en},er.prototype.toNumber=function(g){if(!g&&this.hi>>>31){var $=~this.lo+1>>>0,ee=~this.hi>>>0;return $||(ee=ee+1>>>0),-($+4294967296*ee)}return this.lo+4294967296*this.hi},er.prototype.toLong=function(g){return ei.Long?new ei.Long(0|this.lo,0|this.hi,!!g):{low:0|this.lo,high:0|this.hi,unsigned:!!g}};var eo=String.prototype.charCodeAt;er.fromHash=function(g){return g===es?en:new er((eo.call(g,0)|eo.call(g,1)<<8|eo.call(g,2)<<16|eo.call(g,3)<<24)>>>0,(eo.call(g,4)|eo.call(g,5)<<8|eo.call(g,6)<<16|eo.call(g,7)<<24)>>>0)},er.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},er.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},er.prototype.zzDecode=function(){var g=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},er.prototype.length=function(){var g=this.lo,$=(this.lo>>>28|this.hi<<4)>>>0,ee=this.hi>>>24;return 0===ee?0===$?g<16384?g<128?1:2:g<2097152?3:4:$<16384?$<128?5:6:$<2097152?7:8:ee<128?9:10}},18932:function(g,$,ee){"use strict";var ei=$;function er(g,$,ee){for(var ei=Object.keys($),er=0;er<ei.length;++er)void 0!==g[ei[er]]&&ee||(g[ei[er]]=$[ei[er]]);return g}function en(g){function $(g,ee){if(!(this instanceof $))return new $(g,ee);Object.defineProperty(this,"message",{get:function(){return g}}),Error.captureStackTrace?Error.captureStackTrace(this,$):Object.defineProperty(this,"stack",{value:Error().stack||""}),ee&&er(this,ee)}return $.prototype=Object.create(Error.prototype,{constructor:{value:$,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return g},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),$}ei.asPromise=ee(18670),ei.base64=ee(36009),ei.EventEmitter=ee(50107),ei.float=ee(71188),ei.inquire=ee(28031),ei.utf8=ee(67148),ei.pool=ee(14314),ei.LongBits=ee(41168),ei.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),ei.global=ei.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,ei.emptyArray=Object.freeze?Object.freeze([]):[],ei.emptyObject=Object.freeze?Object.freeze({}):{},ei.isInteger=Number.isInteger||function(g){return"number"==typeof g&&isFinite(g)&&Math.floor(g)===g},ei.isString=function(g){return"string"==typeof g||g instanceof String},ei.isObject=function(g){return g&&"object"==typeof g},ei.isset=ei.isSet=function(g,$){var ee=g[$];return!!(null!=ee&&g.hasOwnProperty($))&&("object"!=typeof ee||(Array.isArray(ee)?ee.length:Object.keys(ee).length)>0)},ei.Buffer=function(){try{var g=ei.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch(g){return null}}(),ei._Buffer_from=null,ei._Buffer_allocUnsafe=null,ei.newBuffer=function(g){return"number"==typeof g?ei.Buffer?ei._Buffer_allocUnsafe(g):new ei.Array(g):ei.Buffer?ei._Buffer_from(g):"undefined"==typeof Uint8Array?g:new Uint8Array(g)},ei.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,ei.Long=ei.global.dcodeIO&&ei.global.dcodeIO.Long||ei.global.Long||ei.inquire("long"),ei.key2Re=/^true|false|0|1$/,ei.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ei.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ei.longToHash=function(g){return g?ei.LongBits.from(g).toHash():ei.LongBits.zeroHash},ei.longFromHash=function(g,$){var ee=ei.LongBits.fromHash(g);return ei.Long?ei.Long.fromBits(ee.lo,ee.hi,$):ee.toNumber(!!$)},ei.merge=er,ei.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)},ei.newError=en,ei.ProtocolError=en("ProtocolError"),ei.oneOfGetter=function(g){for(var $={},ee=0;ee<g.length;++ee)$[g[ee]]=1;return function(){for(var g=Object.keys(this),ee=g.length-1;ee>-1;--ee)if(1===$[g[ee]]&&void 0!==this[g[ee]]&&null!==this[g[ee]])return g[ee]}},ei.oneOfSetter=function(g){return function($){for(var ee=0;ee<g.length;++ee)g[ee]!==$&&delete this[g[ee]]}},ei.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ei._configure=function(){var g=ei.Buffer;if(!g){ei._Buffer_from=ei._Buffer_allocUnsafe=null;return}ei._Buffer_from=g.from!==Uint8Array.from&&g.from||function($,ee){return new g($,ee)},ei._Buffer_allocUnsafe=g.allocUnsafe||function($){return new g($)}}},17585:(g,$,ee)=>{"use strict";g.exports=ep;var ei=ee(59246),er=ee(66738);function en(g,$){return g.name+": "+$+(g.repeated&&"array"!==$?"[]":g.map&&"object"!==$?"{k:"+g.keyType+"}":"")+" expected"}function es(g,$,ee,er){if($.resolvedType){if($.resolvedType instanceof ei){g("switch(%s){",er)("default:")("return%j",en($,"enum value"));for(var es=Object.keys($.resolvedType.values),eo=0;eo<es.length;++eo)g("case %i:",$.resolvedType.values[es[eo]]);g("break")("}")}else g("{")("var e=types[%i].verify(%s);",ee,er)("if(e)")("return%j+e",$.name+".")("}")}else switch($.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":g("if(!util.isInteger(%s))",er)("return%j",en($,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":g("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",er,er,er,er)("return%j",en($,"integer|Long"));break;case"float":case"double":g('if(typeof %s!=="number")',er)("return%j",en($,"number"));break;case"bool":g('if(typeof %s!=="boolean")',er)("return%j",en($,"boolean"));break;case"string":g("if(!util.isString(%s))",er)("return%j",en($,"string"));break;case"bytes":g('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',er,er,er)("return%j",en($,"buffer"))}return g}function eo(g,$,ee){switch($.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":g("if(!util.key32Re.test(%s))",ee)("return%j",en($,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":g("if(!util.key64Re.test(%s))",ee)("return%j",en($,"integer|Long key"));break;case"bool":g("if(!util.key2Re.test(%s))",ee)("return%j",en($,"boolean key"))}return g}function ep(g){var $=er.codegen(["m"],g.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),ee=g.oneofsArray,ei={};ee.length&&$("var p={}");for(var ep=0;ep<g.fieldsArray.length;++ep){var eu=g._fieldsArray[ep].resolve(),eh="m"+er.safeProp(eu.name);if(eu.optional&&$("if(%s!=null&&m.hasOwnProperty(%j)){",eh,eu.name),eu.map)$("if(!util.isObject(%s))",eh)("return%j",en(eu,"object"))("var k=Object.keys(%s)",eh)("for(var i=0;i<k.length;++i){"),eo($,eu,"k[i]"),es($,eu,ep,eh+"[k[i]]")("}");else if(eu.repeated)$("if(!Array.isArray(%s))",eh)("return%j",en(eu,"array"))("for(var i=0;i<%s.length;++i){",eh),es($,eu,ep,eh+"[i]")("}");else{if(eu.partOf){var em=er.safeProp(eu.partOf.name);1===ei[eu.partOf.name]&&$("if(p%s===1)",em)("return%j",eu.partOf.name+": multiple values"),ei[eu.partOf.name]=1,$("p%s=1",em)}es($,eu,ep,eh)}eu.optional&&$("}")}return $("return null")}},34038:(g,$,ee)=>{"use strict";var ei=$,er=ee(34294);ei[".google.protobuf.Any"]={fromObject:function(g){if(g&&g["@type"]){var $=g["@type"].substring(g["@type"].lastIndexOf("/")+1),ee=this.lookup($);if(ee){var ei="."===g["@type"].charAt(0)?g["@type"].slice(1):g["@type"];return -1===ei.indexOf("/")&&(ei="/"+ei),this.create({type_url:ei,value:ee.encode(ee.fromObject(g)).finish()})}}return this.fromObject(g)},toObject:function(g,$){var ee="type.googleapis.com/",ei="",en="";if($&&$.json&&g.type_url&&g.value){en=g.type_url.substring(g.type_url.lastIndexOf("/")+1),ei=g.type_url.substring(0,g.type_url.lastIndexOf("/")+1);var es=this.lookup(en);es&&(g=es.decode(g.value))}if(!(g instanceof this.ctor)&&g instanceof er){var eo=g.$type.toObject(g,$),ep="."===g.$type.fullName[0]?g.$type.fullName.slice(1):g.$type.fullName;return""===ei&&(ei=ee),en=ei+ep,eo["@type"]=en,eo}return this.toObject(g,$)}}},84353:(g,$,ee)=>{"use strict";g.exports=em;var ei,er=ee(18932),en=er.LongBits,es=er.base64,eo=er.utf8;function ep(g,$,ee){this.fn=g,this.len=$,this.next=void 0,this.val=ee}function eu(){}function eh(g){this.head=g.head,this.tail=g.tail,this.len=g.len,this.next=g.states}function em(){this.len=0,this.head=new ep(eu,0,0),this.tail=this.head,this.states=null}var ef=function(){return er.Buffer?function(){return(em.create=function(){return new ei})()}:function(){return new em}};function eg(g,$,ee){$[ee]=255&g}function ev(g,$,ee){for(;g>127;)$[ee++]=127&g|128,g>>>=7;$[ee]=g}function ey(g,$){this.len=g,this.next=void 0,this.val=$}function e_(g,$,ee){for(;g.hi;)$[ee++]=127&g.lo|128,g.lo=(g.lo>>>7|g.hi<<25)>>>0,g.hi>>>=7;for(;g.lo>127;)$[ee++]=127&g.lo|128,g.lo=g.lo>>>7;$[ee++]=g.lo}function ew(g,$,ee){$[ee]=255&g,$[ee+1]=g>>>8&255,$[ee+2]=g>>>16&255,$[ee+3]=g>>>24}em.create=ef(),em.alloc=function(g){return new er.Array(g)},er.Array!==Array&&(em.alloc=er.pool(em.alloc,er.Array.prototype.subarray)),em.prototype._push=function(g,$,ee){return this.tail=this.tail.next=new ep(g,$,ee),this.len+=$,this},ey.prototype=Object.create(ep.prototype),ey.prototype.fn=ev,em.prototype.uint32=function(g){return this.len+=(this.tail=this.tail.next=new ey((g>>>=0)<128?1:g<16384?2:g<2097152?3:g<268435456?4:5,g)).len,this},em.prototype.int32=function(g){return g<0?this._push(e_,10,en.fromNumber(g)):this.uint32(g)},em.prototype.sint32=function(g){return this.uint32((g<<1^g>>31)>>>0)},em.prototype.uint64=function(g){var $=en.from(g);return this._push(e_,$.length(),$)},em.prototype.int64=em.prototype.uint64,em.prototype.sint64=function(g){var $=en.from(g).zzEncode();return this._push(e_,$.length(),$)},em.prototype.bool=function(g){return this._push(eg,1,g?1:0)},em.prototype.fixed32=function(g){return this._push(ew,4,g>>>0)},em.prototype.sfixed32=em.prototype.fixed32,em.prototype.fixed64=function(g){var $=en.from(g);return this._push(ew,4,$.lo)._push(ew,4,$.hi)},em.prototype.sfixed64=em.prototype.fixed64,em.prototype.float=function(g){return this._push(er.float.writeFloatLE,4,g)},em.prototype.double=function(g){return this._push(er.float.writeDoubleLE,8,g)};var eS=er.Array.prototype.set?function(g,$,ee){$.set(g,ee)}:function(g,$,ee){for(var ei=0;ei<g.length;++ei)$[ee+ei]=g[ei]};em.prototype.bytes=function(g){var $=g.length>>>0;if(!$)return this._push(eg,1,0);if(er.isString(g)){var ee=em.alloc($=es.length(g));es.decode(g,ee,0),g=ee}return this.uint32($)._push(eS,$,g)},em.prototype.string=function(g){var $=eo.length(g);return $?this.uint32($)._push(eo.write,$,g):this._push(eg,1,0)},em.prototype.fork=function(){return this.states=new eh(this),this.head=this.tail=new ep(eu,0,0),this.len=0,this},em.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ep(eu,0,0),this.len=0),this},em.prototype.ldelim=function(){var g=this.head,$=this.tail,ee=this.len;return this.reset().uint32(ee),ee&&(this.tail.next=g.next,this.tail=$,this.len+=ee),this},em.prototype.finish=function(){for(var g=this.head.next,$=this.constructor.alloc(this.len),ee=0;g;)g.fn(g.val,$,ee),ee+=g.len,g=g.next;return $},em._configure=function(g){ei=g,em.create=ef(),ei._configure()}},81978:(g,$,ee)=>{"use strict";g.exports=en;var ei=ee(84353);(en.prototype=Object.create(ei.prototype)).constructor=en;var er=ee(18932);function en(){ei.call(this)}function es(g,$,ee){g.length<40?er.utf8.write(g,$,ee):$.utf8Write?$.utf8Write(g,ee):$.write(g,ee)}en._configure=function(){en.alloc=er._Buffer_allocUnsafe,en.writeBytesBuffer=er.Buffer&&er.Buffer.prototype instanceof Uint8Array&&"set"===er.Buffer.prototype.set.name?function(g,$,ee){$.set(g,ee)}:function(g,$,ee){if(g.copy)g.copy($,ee,0,g.length);else for(var ei=0;ei<g.length;)$[ee++]=g[ei++]}},en.prototype.bytes=function(g){er.isString(g)&&(g=er._Buffer_from(g,"base64"));var $=g.length>>>0;return this.uint32($),$&&this._push(en.writeBytesBuffer,$,g),this},en.prototype.string=function(g){var $=er.Buffer.byteLength(g);return this.uint32($),$&&this._push(es,$,g),this},en._configure()},88729:(g,$,ee)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ei=ee(14300),er=ei.Buffer;function en(g,$){for(var ee in g)$[ee]=g[ee]}function es(g,$,ee){return er(g,$,ee)}er.from&&er.alloc&&er.allocUnsafe&&er.allocUnsafeSlow?g.exports=ei:(en(ei,$),$.Buffer=es),es.prototype=Object.create(er.prototype),en(er,es),es.from=function(g,$,ee){if("number"==typeof g)throw TypeError("Argument must not be a number");return er(g,$,ee)},es.alloc=function(g,$,ee){if("number"!=typeof g)throw TypeError("Argument must be a number");var ei=er(g);return void 0!==$?"string"==typeof ee?ei.fill($,ee):ei.fill($):ei.fill(0),ei},es.allocUnsafe=function(g){if("number"!=typeof g)throw TypeError("Argument must be a number");return er(g)},es.allocUnsafeSlow=function(g){if("number"!=typeof g)throw TypeError("Argument must be a number");return ei.SlowBuffer(g)}},92918:(g,$,ee)=>{"use strict";var ei=ee(85477),er=ee(71841),en={TRANSITIONAL:0,NONTRANSITIONAL:1};function es(g){return g.split("\x00").map(function(g){return g.normalize("NFC")}).join("\x00")}function eo(g){for(var $=0,ee=er.length-1;$<=ee;){var ei=Math.floor(($+ee)/2),en=er[ei];if(en[0][0]<=g&&en[0][1]>=g)return en;en[0][0]>g?ee=ei-1:$=ei+1}return null}var ep=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function eu(g){return g.replace(ep,"_").length}function eh(g,$,ee){for(var ei=!1,er="",es=eu(g),ep=0;ep<es;++ep){var eh=g.codePointAt(ep),em=eo(eh);switch(em[1]){case"disallowed":ei=!0,er+=String.fromCodePoint(eh);break;case"ignored":break;case"mapped":er+=String.fromCodePoint.apply(String,em[2]);break;case"deviation":ee===en.TRANSITIONAL?er+=String.fromCodePoint.apply(String,em[2]):er+=String.fromCodePoint(eh);break;case"valid":er+=String.fromCodePoint(eh);break;case"disallowed_STD3_mapped":$?(ei=!0,er+=String.fromCodePoint(eh)):er+=String.fromCodePoint.apply(String,em[2]);break;case"disallowed_STD3_valid":$&&(ei=!0),er+=String.fromCodePoint(eh)}}return{string:er,error:ei}}var em=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function ef(g,$){"xn--"===g.substr(0,4)&&(g=ei.toUnicode(g),$=en.NONTRANSITIONAL);var ee=!1;(es(g)!==g||"-"===g[3]&&"-"===g[4]||"-"===g[0]||"-"===g[g.length-1]||-1!==g.indexOf(".")||0===g.search(em))&&(ee=!0);for(var er=eu(g),ep=0;ep<er;++ep){var eh=eo(g.codePointAt(ep));if(eg===en.TRANSITIONAL&&"valid"!==eh[1]||eg===en.NONTRANSITIONAL&&"valid"!==eh[1]&&"deviation"!==eh[1]){ee=!0;break}}return{label:g,error:ee}}function eg(g,$,ee){var ei=eh(g,$,ee);ei.string=es(ei.string);for(var er=ei.string.split("."),en=0;en<er.length;++en)try{var eo=ef(er[en]);er[en]=eo.label,ei.error=ei.error||eo.error}catch(g){ei.error=!0}return{string:er.join("."),error:ei.error}}g.exports.toASCII=function(g,$,ee,er){var en=eg(g,$,ee),es=en.string.split(".");if(es=es.map(function(g){try{return ei.toASCII(g)}catch($){return en.error=!0,g}}),er){var eo=es.slice(0,es.length-1).join(".").length;(eo.length>253||0===eo.length)&&(en.error=!0);for(var ep=0;ep<es.length;++ep)if(es.length>63||0===es.length){en.error=!0;break}}return en.error?null:es.join(".")},g.exports.toUnicode=function(g,$){var ee=eg(g,$,en.NONTRANSITIONAL);return{domain:ee.string,error:ee.error}},g.exports.PROCESSING_OPTIONS=en},56198:g=>{"use strict";var $={};function ee(g){return g<0?-1:1}function ei(g){return g%1==.5&&(1&g)==0?Math.floor(g):Math.round(g)}function er(g,$){!$.unsigned&&--g;let er=$.unsigned?0:-Math.pow(2,g),en=Math.pow(2,g)-1,es=$.moduloBitLength?Math.pow(2,$.moduloBitLength):Math.pow(2,g),eo=$.moduloBitLength?Math.pow(2,$.moduloBitLength-1):Math.pow(2,g-1);return function(g,ep){ep||(ep={});let eu=+g;if(ep.enforceRange){if(!Number.isFinite(eu))throw TypeError("Argument is not a finite number");if((eu=ee(eu)*Math.floor(Math.abs(eu)))<er||eu>en)throw TypeError("Argument is not in byte range");return eu}if(!isNaN(eu)&&ep.clamp)return(eu=ei(eu))<er&&(eu=er),eu>en&&(eu=en),eu;if(!Number.isFinite(eu)||0===eu)return 0;if(eu=ee(eu)*Math.floor(Math.abs(eu))%es,!$.unsigned&&eu>=eo)return eu-es;if($.unsigned){if(eu<0)eu+=es;else if(-0===eu)return 0}return eu}}g.exports=$,$.void=function(){},$.boolean=function(g){return!!g},$.byte=er(8,{unsigned:!1}),$.octet=er(8,{unsigned:!0}),$.short=er(16,{unsigned:!1}),$["unsigned short"]=er(16,{unsigned:!0}),$.long=er(32,{unsigned:!1}),$["unsigned long"]=er(32,{unsigned:!0}),$["long long"]=er(32,{unsigned:!1,moduloBitLength:64}),$["unsigned long long"]=er(32,{unsigned:!0,moduloBitLength:64}),$.double=function(g){let $=+g;if(!Number.isFinite($))throw TypeError("Argument is not a finite floating-point value");return $},$["unrestricted double"]=function(g){let $=+g;if(isNaN($))throw TypeError("Argument is NaN");return $},$.float=$.double,$["unrestricted float"]=$["unrestricted double"],$.DOMString=function(g,$){return($||($={}),$.treatNullAsEmptyString&&null===g)?"":String(g)},$.ByteString=function(g,$){let ee;let ei=String(g);for(let g=0;void 0!==(ee=ei.codePointAt(g));++g)if(ee>255)throw TypeError("Argument is not a valid bytestring");return ei},$.USVString=function(g){let $=String(g),ee=$.length,ei=[];for(let g=0;g<ee;++g){let er=$.charCodeAt(g);if(er<55296||er>57343)ei.push(String.fromCodePoint(er));else if(56320<=er&&er<=57343)ei.push(String.fromCodePoint(65533));else if(g===ee-1)ei.push(String.fromCodePoint(65533));else{let ee=$.charCodeAt(g+1);if(56320<=ee&&ee<=57343){let $=1023&er,en=1023&ee;ei.push(String.fromCodePoint(65536+1024*$+en)),++g}else ei.push(String.fromCodePoint(65533))}}return ei.join("")},$.Date=function(g,$){if(!(g instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(g))return g},$.RegExp=function(g,$){return g instanceof RegExp||(g=new RegExp(g)),g}},38877:(g,$,ee)=>{"use strict";var ei=ee(6139),er=ee(748),en=ee(64336),es={client:function(g,$){return void 0===($=$||{}).masking&&($.masking=!0),new er(g,$)},server:function(g){return void 0===(g=g||{}).requireMasking&&(g.requireMasking=!0),new en(g)},http:function(){return en.http.apply(en,arguments)},isSecureRequest:function(g){return en.isSecureRequest(g)},isWebSocket:function(g){return ei.isWebSocket(g)},validateOptions:function(g,$){ei.validateOptions(g,$)}};g.exports=es},6139:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=ee(82361).EventEmitter,en=ee(73837),es=ee(85404),eo=ee(67700),ep=ee(35577),eu=function(g,$,ee){er.call(this),eu.validateOptions(ee||{},["maxLength","masking","requireMasking","protocols"]),this._request=g,this._reader=new ep,this._options=ee||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new eo,this.__queue=[],this.readyState=0,this.url=$,this.io=new es.IO(this),this.messages=new es.Messages(this),this._bindEventListeners()};en.inherits(eu,er),eu.isWebSocket=function(g){var $=g.headers.connection||"",ee=g.headers.upgrade||"";return"GET"===g.method&&$.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===ee.toLowerCase()},eu.validateOptions=function(g,$){for(var ee in g)if(0>$.indexOf(ee))throw Error("Unrecognized option: "+ee)};var eh={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var g=this;this.messages.on("error",function(){}),this.on("message",function($){var ee=g.messages;ee.readable&&ee.emit("data",$.data)}),this.on("error",function($){var ee=g.messages;ee.readable&&ee.emit("error",$)}),this.on("close",function(){var $=g.messages;$.readable&&($.readable=$.writable=!1,$.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(g){return!1},setHeader:function(g,$){return!(this.readyState>0)&&(this._headers.set(g,$),!0)},start:function(){var g;if(0!==this.readyState)return!1;if(!eu.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{g=this._handshakeResponse()}catch(g){return this._failHandshake(g)}return this._write(g),-1!==this._stage&&this._open(),!0},_failHandshake:function(g){var $=new eo;return $.set("Content-Type","text/plain"),$.set("Content-Length",ei.byteLength(g.message,"utf8")),$=["HTTP/1.1 400 Bad Request",$.toString(),g.message],this._write(ei.from($.join("\r\n"),"utf8")),this._fail("protocol_error",g.message),!1},text:function(g){return this.frame(g)},binary:function(g){return!1},ping:function(){return!1},pong:function(){return!1},close:function(g,$){return 1===this.readyState&&(this.readyState=3,this.emit("close",new eu.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(g){this.frame.apply(this,g)},this),this.__queue=[],this.emit("open",new eu.OpenEvent)},_queue:function(g){return this.__queue.push(g),!0},_write:function(g){var $=this.io;$.readable&&$.emit("data",g)},_fail:function(g,$){this.readyState=2,this.emit("error",Error($)),this.close()}};for(var em in eh)eu.prototype[em]=eh[em];eu.ConnectEvent=function(){},eu.OpenEvent=function(){},eu.CloseEvent=function(g,$){this.code=g,this.reason=$},eu.MessageEvent=function(g){this.data=g},eu.PingEvent=function(g){this.data=g},eu.PongEvent=function(g){this.data=g},g.exports=eu},748:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=ee(6113),en=ee(57310),es=ee(73837),eo=ee(48787),ep=ee(6139),eu=ee(13310),eh=ee(2475),em=function(g,$){this.version="hybi-"+eu.VERSION,eu.call(this,null,g,$),this.readyState=-1,this._key=em.generateKey(),this._accept=eu.generateAccept(this._key),this._http=new eo("response");var ee=en.parse(this.url),er=ee.auth&&ei.from(ee.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(ee.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(ee.pathname||"/")+(ee.search||""),this._headers.set("Host",ee.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",eu.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),er&&this._headers.set("Authorization","Basic "+er)};es.inherits(em,eu),em.generateKey=function(){return er.randomBytes(16).toString("base64")};var ef={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(g,$){return new eh(this,g,$)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(g){if(3!==this.readyState){if(this.readyState>0)return eu.prototype.parse.call(this,g);this._http.parse(g),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var g=this._extensions.generateOffer();g&&this._headers.set("Sec-WebSocket-Extensions",g);var $=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return ei.from($.join("\r\n"),"utf8")},_failHandshake:function(g){g="Error during WebSocket handshake: "+g,this.readyState=3,this.emit("error",Error(g)),this.emit("close",new ep.CloseEvent(this.ERRORS.protocol_error,g))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var g=this._http.headers,$=g.upgrade||"",ee=g.connection||"",ei=g["sec-websocket-accept"]||"",er=g["sec-websocket-protocol"]||"";if(""===$)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==$.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===ee)return this._failHandshake("'Connection' header is missing");if("upgrade"!==ee.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(ei!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==er){if(0>this._protocols.indexOf(er))return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=er}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(g){return this._failHandshake(g.message)}}};for(var eg in ef)em.prototype[eg]=ef[eg];g.exports=em},42197:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=ee(6139),en=ee(73837),es=function(g,$,ee){er.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};en.inherits(es,er);var eo={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new er.CloseEvent(null,null)),!0)},parse:function(g){this.readyState>1||(this._reader.put(g),this._reader.eachByte(function(g){var $;switch(this._stage){case -1:this._body.push(g),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(g);break;case 1:if(this._length=(127&g)+128*this._length,this._closing&&0===this._length)return this.close();(128&g)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===g)this._stage=0,$=ei.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new er.MessageEvent($));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(g),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(g){if(0===this.readyState)return this._queue([g]);if(this.readyState>1)return!1;"string"!=typeof g&&(g=g.toString());var $=ei.byteLength(g),ee=ei.allocUnsafe($+2);return ee[0]=0,ee.write(g,1),ee[ee.length-1]=255,this._write(ee),!0},_handshakeResponse:function(){var g=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return ei.from(g.join("\r\n"),"utf8")},_parseLeadingByte:function(g){(128&g)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var ep in eo)es.prototype[ep]=eo[ep];g.exports=es},18334:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=ee(6139),en=ee(42197),es=ee(6113),eo=ee(73837),ep=function(g){return parseInt((g.match(/[0-9]/g)||[]).join(""),10)},eu=function(g){return(g.match(/ /g)||[]).length},eh=function(g,$,ee){en.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};eo.inherits(eh,en);var em={BODY_SIZE:8,start:function(){return!!en.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(ei.from([255,0])),this.readyState=3,this.emit("close",new er.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var g=this._request.headers,$=g["sec-websocket-key1"],ee=g["sec-websocket-key2"];if(!$)throw Error("Missing required header: Sec-WebSocket-Key1");if(!ee)throw Error("Missing required header: Sec-WebSocket-Key2");var er=ep($),en=eu($),es=ep(ee),eo=eu(ee);if(er%en!=0||es%eo!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[er/en,es/eo];var g=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return ei.from(g.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var g=es.createHash("md5"),$=ei.allocUnsafe(8+this.BODY_SIZE);return $.writeUInt32BE(this._keyValues[0],0),$.writeUInt32BE(this._keyValues[1],4),ei.from(this._body).copy($,8,0,this.BODY_SIZE),g.update($),ei.from(g.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var g=this._handshakeSignature();g&&(this._write(g),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(g){if(255!==g)return en.prototype._parseLeadingByte.call(this,g);this._closing=!0,this._length=0,this._stage=1}};for(var ef in em)eh.prototype[ef]=em[ef];g.exports=eh},67700:g=>{"use strict";var $=function(){this.clear()};$.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],$.prototype.clear=function(){this._sent={},this._lines=[]},$.prototype.set=function(g,$){if(void 0!==$){g=this._strip(g),$=this._strip($);var ee=g.toLowerCase();(!this._sent.hasOwnProperty(ee)||this.ALLOWED_DUPLICATES.indexOf(ee)>=0)&&(this._sent[ee]=!0,this._lines.push(g+": "+$+"\r\n"))}},$.prototype.toString=function(){return this._lines.join("")},$.prototype._strip=function(g){return g.toString().replace(/^ */,"").replace(/ *$/,"")},g.exports=$},13310:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=ee(6113),en=ee(73837),es=ee(17092),eo=ee(6139),ep=ee(98410),eu=ee(64223),eh=function(g,$,ee){if(eo.apply(this,arguments),this._extensions=new es,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var ei=this._request.headers["sec-websocket-protocol"],er=this._protocols;void 0!==ei&&("string"==typeof ei&&(ei=ei.split(/ *, */)),this.protocol=ei.filter(function(g){return er.indexOf(g)>=0})[0]),this.version="hybi-"+eh.VERSION}};en.inherits(eh,eo),eh.VERSION="13",eh.mask=function(g,$,ee){if(!$||0===$.length)return g;ee=ee||0;for(var ei=0,er=g.length-ee;ei<er;ei++)g[ee+ei]=g[ee+ei]^$[ei%4];return g},eh.generateAccept=function(g){var $=er.createHash("sha1");return $.update(g+eh.GUID),$.digest("base64")},eh.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var em={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(g){return this._extensions.add(g),!0},parse:function(g){this._reader.put(g);for(var $=!0;$;)switch(this._stage){case 0:($=this._reader.read(1))&&this._parseOpcode($[0]);break;case 1:($=this._reader.read(1))&&this._parseLength($[0]);break;case 2:($=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength($);break;case 3:($=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=$);break;case 4:($=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame($));break;default:$=null}},text:function(g){return!(this.readyState>1)&&this.frame(g,"text")},binary:function(g){return!(this.readyState>1)&&this.frame(g,"binary")},ping:function(g,$){return!(this.readyState>1)&&(g=g||"",$&&(this._pingCallbacks[g]=$),this.frame(g,"ping"))},pong:function(g){return!(this.readyState>1)&&(g=g||"",this.frame(g,"pong"))},close:function(g,$){return(g=g||"",$=$||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new eo.CloseEvent($,g)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(g,"close",$)},this),!0)},frame:function(g,$,ee){if(this.readyState<=0)return this._queue([g,$,ee]);if(this.readyState>2)return!1;g instanceof Array&&(g=ei.from(g)),"number"==typeof g&&(g=g.toString());var en,es,eo=new eu,eh="string"==typeof g;eo.rsv1=eo.rsv2=eo.rsv3=!1,eo.opcode=this.OPCODES[$||(eh?"text":"binary")],en=eh?ei.from(g,"utf8"):g,ee&&(es=en,(en=ei.allocUnsafe(2+es.length)).writeUInt16BE(ee,0),es.copy(en,2)),eo.data=en;var em=function(g){var $=new ep;$.final=!0,$.rsv1=g.rsv1,$.rsv2=g.rsv2,$.rsv3=g.rsv3,$.opcode=g.opcode,$.masked=!!this._masking,$.length=g.data.length,$.payload=g.data,$.masked&&($.maskingKey=er.randomBytes(4)),this._sendFrame($)};return this.MESSAGE_OPCODES.indexOf(eo.opcode)>=0?this._extensions.processOutgoingMessage(eo,function(g,$){if(g)return this._fail("extension_error",g.message);em.call(this,$)},this):em.call(this,eo),!0},_sendFrame:function(g){var $=g.length,ee=$<=125?2:$<=65535?4:10,er=ee+(g.masked?4:0),en=ei.allocUnsafe(er+$),es=g.masked?this.MASK:0;en[0]=(g.final?this.FIN:0)|(g.rsv1?this.RSV1:0)|(g.rsv2?this.RSV2:0)|(g.rsv3?this.RSV3:0)|g.opcode,$<=125?en[1]=es|$:$<=65535?(en[1]=126|es,en.writeUInt16BE($,2)):(en[1]=127|es,en.writeUInt32BE(Math.floor($/4294967296),2),en.writeUInt32BE($%4294967296,6)),g.payload.copy(en,er),g.masked&&(g.maskingKey.copy(en,ee),eh.mask(en,g.maskingKey,er)),this._write(en)},_handshakeResponse:function(){var g=this._request.headers["sec-websocket-key"],$=this._request.headers["sec-websocket-version"];if($!==eh.VERSION)throw Error("Unsupported WebSocket version: "+$);if("string"!=typeof g)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",eh.generateAccept(g)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var ee=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);ee&&this._headers.set("Sec-WebSocket-Extensions",ee);var er=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return ei.from(er.join("\r\n"),"utf8")},_shutdown:function(g,$,ee){delete this._frame,delete this._message,this._stage=5;var ei=1===this.readyState;this.readyState=2,this._extensions.close(function(){ei&&this.frame($,"close",g),this.readyState=3,ee&&this.emit("error",Error($)),this.emit("close",new eo.CloseEvent(g,$))},this)},_fail:function(g,$){this.readyState>1||this._shutdown(this.ERRORS[g],$,!0)},_parseOpcode:function(g){var $=[this.RSV1,this.RSV2,this.RSV3].map(function($){return(g&$)===$}),ee=this._frame=new ep;return(ee.final=(g&this.FIN)===this.FIN,ee.rsv1=$[0],ee.rsv2=$[1],ee.rsv3=$[2],ee.opcode=g&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(ee))?0>this.OPCODE_CODES.indexOf(ee.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+ee.opcode):0>this.MESSAGE_OPCODES.indexOf(ee.opcode)&&!ee.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+ee.opcode):this._message&&this.OPENING_OPCODES.indexOf(ee.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(ee.rsv1?1:0)+", reserved2 = "+(ee.rsv2?1:0)+", reserved3 = "+(ee.rsv3?1:0))},_parseLength:function(g){var $=this._frame;if($.masked=(g&this.MASK)===this.MASK,$.length=g&this.LENGTH,$.length>=0&&$.length<=125){if(this._stage=$.masked?3:4,!this._checkFrameLength())return}else this._stage=2,$.lengthBytes=126===$.length?2:8;if(this._requireMasking&&!$.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(g){var $=this._frame;if($.length=this._readUInt(g),this._stage=$.masked?3:4,0>this.MESSAGE_OPCODES.indexOf($.opcode)&&$.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+$.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(g){var $,ee,ei,er,en,es=this._frame,ep=es.payload=eh.mask(g,es.maskingKey),em=es.opcode;if(delete this._frame,em===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(es)}if((em===this.OPCODES.text||em===this.OPCODES.binary)&&(this._message=new eu,this._message.pushFrame(es)),es.final&&this.MESSAGE_OPCODES.indexOf(em)>=0)return this._emitMessage(this._message);em===this.OPCODES.close&&(ee=ep.length>=2?ep.readUInt16BE(0):null,ei=ep.length>2?this._encode(ep.slice(2)):null,0!==ep.length&&!(null!==ee&&ee>=this.MIN_RESERVED_ERROR&&ee<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(ee)&&(ee=this.ERRORS.protocol_error),(ep.length>125||ep.length>2&&!ei)&&(ee=this.ERRORS.protocol_error),this._shutdown(ee||this.DEFAULT_ERROR_CODE,ei||"")),em===this.OPCODES.ping&&(this.frame(ep,"pong"),this.emit("ping",new eo.PingEvent(ep.toString()))),em===this.OPCODES.pong&&(en=(er=this._pingCallbacks)[$=this._encode(ep)],delete er[$],en&&en(),this.emit("pong",new eo.PongEvent(ep.toString())))},_emitMessage:function(g){var g=this._message;g.read(),delete this._message,this._extensions.processIncomingMessage(g,function(g,$){if(g)return this._fail("extension_error",g.message);var ee=$.data;if($.opcode===this.OPCODES.text&&(ee=this._encode(ee)),null===ee)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new eo.MessageEvent(ee))},this)},_encode:function(g){try{var $=g.toString("binary",0,g.length);if(!this.UTF8_MATCH.test($))return null}catch(g){}return g.toString("utf8",0,g.length)},_readUInt:function(g){return 2===g.length?g.readUInt16BE(0):4294967296*g.readUInt32BE(0)+g.readUInt32BE(4)}};for(var ef in em)eh.prototype[ef]=em[ef];g.exports=eh},98410:g=>{"use strict";var $=function(){},ee={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var ei in ee)$.prototype[ei]=ee[ei];g.exports=$},64223:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},en={read:function(){return this.data=this.data||ei.concat(this._chunks,this.length)},pushFrame:function(g){this.rsv1=this.rsv1||g.rsv1,this.rsv2=this.rsv2||g.rsv2,this.rsv3=this.rsv3||g.rsv3,null===this.opcode&&(this.opcode=g.opcode),this._chunks.push(g.payload),this.length+=g.length}};for(var es in en)er.prototype[es]=en[es];g.exports=er},2475:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=ee(12781).Stream,en=ee(57310),es=ee(73837),eo=ee(6139),ep=ee(67700),eu=ee(48787),eh={"ws:":80,"wss:":443},em=function(g,$,ee){this._client=g,this._http=new eu("response"),this._origin="object"==typeof g.url?g.url:en.parse(g.url),this._url="object"==typeof $?$:en.parse($),this._options=ee||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new ep,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var er=this._url.auth&&ei.from(this._url.auth,"utf8").toString("base64");er&&this._headers.set("Proxy-Authorization","Basic "+er)};es.inherits(em,er);var ef={setHeader:function(g,$){return 0===this._state&&(this._headers.set(g,$),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var g=this._origin,$=g.port||eh[g.protocol],ee=["CONNECT "+g.hostname+":"+$+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",ei.from(ee.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(g){if(!this.writable)return!1;if(this._http.parse(g),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new eo.ConnectEvent);else{var $="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error($))}return this.end(),!this._paused},end:function(g){this.writable&&(void 0!==g&&this.write(g),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var eg in ef)em.prototype[eg]=ef[eg];g.exports=em},64336:(g,$,ee)=>{"use strict";var ei=ee(73837),er=ee(48787),en=ee(6139),es=ee(42197),eo=ee(18334),ep=ee(13310),eu=function(g){en.call(this,null,null,g),this._http=new er("request")};ei.inherits(eu,en);var eh={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(g){if(this._delegate)return this._delegate.parse(g);if(this._http.parse(g),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var $=this;this._delegate=eu.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(g){this._delegate.on(g,function(ee){$.emit(g,ee)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new en.ConnectEvent)}},_open:function(){this.__queue.forEach(function(g){this._delegate[g[0]].apply(this._delegate,g[1])},this),this.__queue=[]}};for(var em in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(g){eh[g]=function(){return this._delegate?this._delegate[g].apply(this._delegate,arguments):(this.__queue.push([g,arguments]),!0)}}),eh)eu.prototype[em]=eh[em];eu.isSecureRequest=function(g){if(g.connection&&void 0!==g.connection.authorized||g.socket&&g.socket.secure)return!0;var $=g.headers;return!!$&&("on"===$.https||"on"===$["x-forwarded-ssl"]||"https"===$["x-forwarded-scheme"]||"https"===$["x-forwarded-proto"])},eu.determineUrl=function(g){return(this.isSecureRequest(g)?"wss:":"ws:")+"//"+g.headers.host+g.url},eu.http=function(g,$){void 0===($=$||{}).requireMasking&&($.requireMasking=!0);var ee=g.headers,ei=ee["sec-websocket-version"],er=ee["sec-websocket-key"],en=ee["sec-websocket-key1"],eu=ee["sec-websocket-key2"],eh=this.determineUrl(g);return ei||er?new ep(g,eh,$):en||eu?new eo(g,eh,$):new es(g,eh,$)},g.exports=eu},35577:(g,$,ee)=>{"use strict";var ei=ee(88729).Buffer,er=function(){this._queue=[],this._queueSize=0,this._offset=0};er.prototype.put=function(g){g&&0!==g.length&&(ei.isBuffer(g)||(g=ei.from(g)),this._queue.push(g),this._queueSize+=g.length)},er.prototype.read=function(g){if(g>this._queueSize)return null;if(0===g)return ei.alloc(0);this._queueSize-=g;var $,ee,er=this._queue,en=g,es=er[0];if(es.length>=g)return es.length===g?er.shift():(ee=es.slice(0,g),er[0]=es.slice(g),ee);for(var eo=0,ep=er.length;eo<ep&&!(en<er[eo].length);eo++)en-=er[eo].length;return $=er.splice(0,eo),en>0&&er.length>0&&($.push(er[0].slice(0,en)),er[0]=er[0].slice(en)),ei.concat($,g)},er.prototype.eachByte=function(g,$){for(var ee,ei,er;this._queue.length>0;){for(ei=(ee=this._queue[0]).length;this._offset<ei;)er=this._offset,this._offset+=1,g.call($,ee[er]);this._offset=0,this._queue.shift()}},g.exports=er},48787:(g,$,ee)=>{"use strict";var ei=ee(60156).m,er=ee(88729).Buffer,en={request:ei.REQUEST||"request",response:ei.RESPONSE||"response"},es=function(g){this._type=g,this._parser=new ei(en[g]),this._complete=!1,this.headers={};var $=null,ee=this;this._parser.onHeaderField=function(g,ee,ei){$=g.toString("utf8",ee,ee+ei).toLowerCase()},this._parser.onHeaderValue=function(g,ei,er){var en=g.toString("utf8",ei,ei+er);ee.headers.hasOwnProperty($)?ee.headers[$]+=", "+en:ee.headers[$]=en},this._parser.onHeadersComplete=this._parser[ei.kOnHeadersComplete]=function(g,$,ei,er,en,eo){var ep=arguments[0];if("object"==typeof ep&&(er=ep.method,en=ep.url,eo=ep.statusCode,ei=ep.headers),ee.method="number"==typeof er?es.METHODS[er]:er,ee.statusCode=eo,ee.url=en,ei){for(var eu,eh,em=0,ef=ei.length;em<ef;em+=2)eu=ei[em].toLowerCase(),eh=ei[em+1],ee.headers.hasOwnProperty(eu)?ee.headers[eu]+=", "+eh:ee.headers[eu]=eh;ee._complete=!0}}};es.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var eo=process.version?process.version.match(/[0-9]+/g).map(function(g){return parseInt(g,10)}):[];0===eo[0]&&12===eo[1]&&(es.METHODS[16]="REPORT",es.METHODS[17]="MKACTIVITY",es.METHODS[18]="CHECKOUT",es.METHODS[19]="MERGE",es.METHODS[20]="M-SEARCH",es.METHODS[21]="NOTIFY",es.METHODS[22]="SUBSCRIBE",es.METHODS[23]="UNSUBSCRIBE",es.METHODS[24]="PATCH",es.METHODS[25]="PURGE"),es.prototype.isComplete=function(){return this._complete},es.prototype.parse=function(g){var $=this._parser.execute(g,0,g.length);if("number"!=typeof $){this.error=$,this._complete=!0;return}this._complete&&(this.body=$<g.length?g.slice($):er.alloc(0))},g.exports=es},85404:(g,$,ee)=>{"use strict";var ei=ee(12781).Stream,er=ee(73837),en=function(g){this.readable=this.writable=!0,this._paused=!1,this._driver=g};er.inherits(en,ei),en.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},en.prototype.resume=function(){this._paused=!1,this.emit("drain");var g=this._driver.messages;g._paused=!1,g.emit("drain")},en.prototype.write=function(g){return!!this.writable&&(this._driver.parse(g),!this._paused)},en.prototype.end=function(g){if(this.writable){void 0!==g&&this.write(g),this.writable=!1;var $=this._driver.messages;$.readable&&($.readable=$.writable=!1,$.emit("end"))}},en.prototype.destroy=function(){this.end()};var es=function(g){this.readable=this.writable=!0,this._paused=!1,this._driver=g};er.inherits(es,ei),es.prototype.pause=function(){this._driver.io._paused=!0},es.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},es.prototype.write=function(g){return!!this.writable&&("string"==typeof g?this._driver.text(g):this._driver.binary(g),!this._paused)},es.prototype.end=function(g){void 0!==g&&this.write(g)},es.prototype.destroy=function(){},$.IO=en,$.Messages=es},38340:g=>{"use strict";var $=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,ee=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,ei=RegExp($.source+"(?:=(?:"+$.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),er=RegExp($.source+"(?: *; *"+ei.source+")*","g"),en=RegExp("^"+er.source+"(?: *, *"+er.source+")*$"),es=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,eo=Object.prototype.hasOwnProperty,ep={parseHeader:function(g){var $=new eu;if(""===g||void 0===g)return $;if(!en.test(g))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+g);return g.match(er).forEach(function(g){var ee=g.match(RegExp(ei.source,"g")),er=ee.shift(),en={};ee.forEach(function(g){var $,ee=g.match(ei),er=ee[1];$=void 0!==ee[2]?ee[2]:void 0===ee[3]||ee[3].replace(/\\/g,""),es.test($)&&($=parseFloat($)),eo.call(en,er)?(en[er]=[].concat(en[er]),en[er].push($)):en[er]=$},this),$.push(er,en)},this),$},serializeParams:function(g,$){var ei=[],er=function(g,$){$ instanceof Array?$.forEach(function($){er(g,$)}):!0===$?ei.push(g):"number"==typeof $?ei.push(g+"="+$):ee.test($)?ei.push(g+'="'+$.replace(/"/g,'\\"')+'"'):ei.push(g+"="+$)};for(var en in $)er(en,$[en]);return[g].concat(ei).join("; ")}},eu=function(){this._byName={},this._inOrder=[]};eu.prototype.push=function(g,$){eo.call(this._byName,g)||(this._byName[g]=[]),this._byName[g].push($),this._inOrder.push({name:g,params:$})},eu.prototype.eachOffer=function(g,$){for(var ee=this._inOrder,ei=0,er=ee.length;ei<er;ei++)g.call($,ee[ei].name,ee[ei].params)},eu.prototype.byName=function(g){return this._byName[g]||[]},eu.prototype.toArray=function(){return this._inOrder.slice()},g.exports=ep},90913:(g,$,ee)=>{"use strict";var ei=ee(40445),er=ee(6767),en=function(g){this._ext=g[0],this._session=g[1],this._functors={incoming:new ei(this._session,"processIncomingMessage"),outgoing:new ei(this._session,"processOutgoingMessage")}};en.prototype.pending=function(g){var $=this._functors[g];$._stopped||($.pending+=1)},en.prototype.incoming=function(g,$,ee,ei){this._exec("incoming",g,$,ee,ei)},en.prototype.outgoing=function(g,$,ee,ei){this._exec("outgoing",g,$,ee,ei)},en.prototype.close=function(){return this._closed=this._closed||new er,this._doClose(),this._closed},en.prototype._exec=function(g,$,ee,ei,er){this._functors[g].call($,ee,function(g,$){g&&(g.message=this._ext.name+": "+g.message),ei.call(er,g,$),this._doClose()},this)},en.prototype._doClose=function(){var g=this._functors.incoming,$=this._functors.outgoing;this._closed&&g.pending+$.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},g.exports=en},40445:(g,$,ee)=>{"use strict";var ei=ee(47628),er=function(g,$){this._session=g,this._method=$,this._queue=new ei(er.QUEUE_SIZE),this._stopped=!1,this.pending=0};er.QUEUE_SIZE=8,er.prototype.call=function(g,$,ee,ei){if(!this._stopped){var er={error:g,message:$,callback:ee,context:ei,done:!1},en=!1,es=this;if(this._queue.push(er),er.error)return er.done=!0,this._stop(),this._flushQueue();var eo=function(g,$){en^(en=!0)&&(g?(es._stop(),er.error=g,er.message=null):er.message=$,er.done=!0,es._flushQueue())};try{this._session[this._method]($,eo)}catch(g){eo(g)}}},er.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},er.prototype._flushQueue=function(){for(var g,$=this._queue;$.length>0&&$.peek().done;)(g=$.shift()).error?(this.pending=0,$.clear()):this.pending-=1,g.callback.call(g.context,g.error,g.message)},g.exports=er},48027:(g,$,ee)=>{"use strict";var ei=ee(90913),er=ee(6767),en=function(g){this._cells=g.map(function(g){return new ei(g)}),this._stopped={incoming:!1,outgoing:!1}};en.prototype.processIncomingMessage=function(g,$,ee){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,g,$,ee)},en.prototype.processOutgoingMessage=function(g,$,ee){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,g,$,ee)},en.prototype.close=function(g,$){this._stopped={incoming:!0,outgoing:!0};var ee=this._cells.map(function(g){return g.close()});g&&er.all(ee).then(function(){g.call($)})},en.prototype._loop=function(g,$,ee,ei,er,en,es){for(var eo=this._cells,ep=eo.length,eu=this;ep--;)eo[ep].pending(g);var eh=function($,er,ep){if($===ee)return en.call(es,er,ep);eo[$][g](er,ep,function(ee,er){ee&&(eu._stopped[g]=!0),eh($+ei,ee,er)})};eh($,null,er)},g.exports=en},6767:(g,$,ee)=>{"use strict";var ei=ee(47628),er=function(){this._complete=!1,this._callbacks=new ei(er.QUEUE_SIZE)};er.QUEUE_SIZE=4,er.all=function(g){var $=new er,ee=g.length,ei=ee;for(0===ee&&$.done();ei--;)g[ei].then(function(){0==(ee-=1)&&$.done()});return $},er.prototype.then=function(g){this._complete?g():this._callbacks.push(g)},er.prototype.done=function(){this._complete=!0;for(var g,$=this._callbacks;g=$.shift();)g()},g.exports=er},47628:g=>{"use strict";var $=function(g){this._bufferSize=g,this.clear()};$.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},$.prototype.push=function(g){var $=!1,ee=!1;this._ringSize<this._bufferSize?$=0===this._tail:this._ringOffset===this._ringSize&&($=!0,ee=0===this._tail),$&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,ee&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=g,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},$.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},$.prototype.shift=function(){if(0!==this.length){var g=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,g}},g.exports=$},17092:(g,$,ee)=>{"use strict";var ei=ee(38340),er=ee(48027),en=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};en.MESSAGE_OPCODES=[1,2];var es={add:function(g){if("string"!=typeof g.name)throw TypeError("extension.name must be a string");if("permessage"!==g.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof g.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof g.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof g.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(g.name))throw TypeError('An extension with name "'+g.name+'" is already registered');this._byName[g.name]=g,this._inOrder.push(g)},generateOffer:function(){var g=[],$=[],ee={};return this._inOrder.forEach(function(er){var en=er.createClientSession();if(en){var es=[er,en];g.push(es),ee[er.name]=es;var eo=en.generateOffer();eo=eo?[].concat(eo):[],eo.forEach(function(g){$.push(ei.serializeParams(er.name,g))},this)}},this),this._sessions=g,this._index=ee,$.length>0?$.join(", "):null},activate:function(g){var $=ei.parseHeader(g),ee=[];$.eachOffer(function(g,$){var er=this._index[g];if(!er)throw Error('Server sent an extension response for unknown extension "'+g+'"');var en=er[0],es=er[1],eo=this._reserved(en);if(eo)throw Error("Server sent two extension responses that use the RSV"+eo[0]+' bit: "'+eo[1]+'" and "'+en.name+'"');if(!0!==es.activate($))throw Error("Server sent unacceptable extension parameters: "+ei.serializeParams(g,$));this._reserve(en),ee.push(er)},this),this._sessions=ee,this._pipeline=new er(ee)},generateResponse:function(g){var $=[],ee=[],en=ei.parseHeader(g);return this._inOrder.forEach(function(g){var er=en.byName(g.name);if(!(0===er.length||this._reserved(g))){var es=g.createServerSession(er);es&&(this._reserve(g),$.push([g,es]),ee.push(ei.serializeParams(g.name,es.generateResponse())))}},this),this._sessions=$,this._pipeline=new er($),ee.length>0?ee.join(", "):null},validFrameRsv:function(g){var $,ee={rsv1:!1,rsv2:!1,rsv3:!1};if(en.MESSAGE_OPCODES.indexOf(g.opcode)>=0)for(var ei=0,er=this._sessions.length;ei<er;ei++)$=this._sessions[ei][0],ee.rsv1=ee.rsv1||$.rsv1,ee.rsv2=ee.rsv2||$.rsv2,ee.rsv3=ee.rsv3||$.rsv3;return(ee.rsv1||!g.rsv1)&&(ee.rsv2||!g.rsv2)&&(ee.rsv3||!g.rsv3)},processIncomingMessage:function(g,$,ee){this._pipeline.processIncomingMessage(g,$,ee)},processOutgoingMessage:function(g,$,ee){this._pipeline.processOutgoingMessage(g,$,ee)},close:function(g,$){if(!this._pipeline)return g.call($);this._pipeline.close(g,$)},_reserve:function(g){this._rsv1=this._rsv1||g.rsv1&&g.name,this._rsv2=this._rsv2||g.rsv2&&g.name,this._rsv3=this._rsv3||g.rsv3&&g.name},_reserved:function(g){return this._rsv1&&g.rsv1?[1,this._rsv1]:this._rsv2&&g.rsv2?[2,this._rsv2]:!!this._rsv3&&!!g.rsv3&&[3,this._rsv3]}};for(var eo in es)en.prototype[eo]=es[eo];g.exports=en},77454:(g,$,ee)=>{"use strict";let ei=ee(14673);$.implementation=class{constructor(g){let $=g[0],ee=g[1],er=null;if(void 0!==ee&&"failure"===(er=ei.basicURLParse(ee)))throw TypeError("Invalid base URL");let en=ei.basicURLParse($,{baseURL:er});if("failure"===en)throw TypeError("Invalid URL");this._url=en}get href(){return ei.serializeURL(this._url)}set href(g){let $=ei.basicURLParse(g);if("failure"===$)throw TypeError("Invalid URL");this._url=$}get origin(){return ei.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(g){ei.basicURLParse(g+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(g){ei.cannotHaveAUsernamePasswordPort(this._url)||ei.setTheUsername(this._url,g)}get password(){return this._url.password}set password(g){ei.cannotHaveAUsernamePasswordPort(this._url)||ei.setThePassword(this._url,g)}get host(){let g=this._url;return null===g.host?"":null===g.port?ei.serializeHost(g.host):ei.serializeHost(g.host)+":"+ei.serializeInteger(g.port)}set host(g){this._url.cannotBeABaseURL||ei.basicURLParse(g,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":ei.serializeHost(this._url.host)}set hostname(g){this._url.cannotBeABaseURL||ei.basicURLParse(g,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":ei.serializeInteger(this._url.port)}set port(g){ei.cannotHaveAUsernamePasswordPort(this._url)||(""===g?this._url.port=null:ei.basicURLParse(g,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(g){this._url.cannotBeABaseURL||(this._url.path=[],ei.basicURLParse(g,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(g){let $=this._url;if(""===g){$.query=null;return}let ee="?"===g[0]?g.substring(1):g;$.query="",ei.basicURLParse(ee,{url:$,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(g){if(""===g){this._url.fragment=null;return}let $="#"===g[0]?g.substring(1):g;this._url.fragment="",ei.basicURLParse($,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},78589:(g,$,ee)=>{"use strict";let ei=ee(56198),er=ee(79916),en=ee(77454),es=er.implSymbol;function eo($){if(!this||this[es]||!(this instanceof eo))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let ee=[];for(let g=0;g<arguments.length&&g<2;++g)ee[g]=arguments[g];ee[0]=ei.USVString(ee[0]),void 0!==ee[1]&&(ee[1]=ei.USVString(ee[1])),g.exports.setup(this,ee)}eo.prototype.toJSON=function(){if(!this||!g.exports.is(this))throw TypeError("Illegal invocation");let $=[];for(let g=0;g<arguments.length&&g<0;++g)$[g]=arguments[g];return this[es].toJSON.apply(this[es],$)},Object.defineProperty(eo.prototype,"href",{get(){return this[es].href},set(g){g=ei.USVString(g),this[es].href=g},enumerable:!0,configurable:!0}),eo.prototype.toString=function(){if(!this||!g.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(eo.prototype,"origin",{get(){return this[es].origin},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"protocol",{get(){return this[es].protocol},set(g){g=ei.USVString(g),this[es].protocol=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"username",{get(){return this[es].username},set(g){g=ei.USVString(g),this[es].username=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"password",{get(){return this[es].password},set(g){g=ei.USVString(g),this[es].password=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"host",{get(){return this[es].host},set(g){g=ei.USVString(g),this[es].host=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"hostname",{get(){return this[es].hostname},set(g){g=ei.USVString(g),this[es].hostname=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"port",{get(){return this[es].port},set(g){g=ei.USVString(g),this[es].port=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"pathname",{get(){return this[es].pathname},set(g){g=ei.USVString(g),this[es].pathname=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"search",{get(){return this[es].search},set(g){g=ei.USVString(g),this[es].search=g},enumerable:!0,configurable:!0}),Object.defineProperty(eo.prototype,"hash",{get(){return this[es].hash},set(g){g=ei.USVString(g),this[es].hash=g},enumerable:!0,configurable:!0}),g.exports={is:g=>!!g&&g[es]instanceof en.implementation,create(g,$){let ee=Object.create(eo.prototype);return this.setup(ee,g,$),ee},setup(g,$,ee){ee||(ee={}),ee.wrapper=g,g[es]=new en.implementation($,ee),g[es][er.wrapperSymbol]=g},interface:eo,expose:{Window:{URL:eo},Worker:{URL:eo}}}},24765:(g,$,ee)=>{"use strict";$.URL=ee(78589).interface,$.serializeURL=ee(14673).serializeURL,$.serializeURLOrigin=ee(14673).serializeURLOrigin,$.basicURLParse=ee(14673).basicURLParse,$.setTheUsername=ee(14673).setTheUsername,$.setThePassword=ee(14673).setThePassword,$.serializeHost=ee(14673).serializeHost,$.serializeInteger=ee(14673).serializeInteger,$.parseURL=ee(14673).parseURL},14673:(g,$,ee)=>{"use strict";let ei=ee(85477),er=ee(92918),en={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},es=Symbol("failure");function eo(g){return ei.ucs2.decode(g).length}function ep(g,$){let ee=g[$];return isNaN(ee)?void 0:String.fromCodePoint(ee)}function eu(g){return g>=48&&g<=57}function eh(g){return g>=65&&g<=90||g>=97&&g<=122}function em(g){return eh(g)||eu(g)}function ef(g){return eu(g)||g>=65&&g<=70||g>=97&&g<=102}function eg(g){return"."===g||"%2e"===g.toLowerCase()}function ev(g){return".."===(g=g.toLowerCase())||"%2e."===g||".%2e"===g||"%2e%2e"===g}function ey(g,$){return eh(g)&&(58===$||124===$)}function e_(g){return 2===g.length&&eh(g.codePointAt(0))&&(":"===g[1]||"|"===g[1])}function ew(g){return 2===g.length&&eh(g.codePointAt(0))&&":"===g[1]}function eS(g){return -1!==g.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)}function eT(g){return -1!==g.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)}function eC(g){return void 0!==en[g]}function eE(g){return eC(g.scheme)}function eI(g){return en[g]}function eN(g){let $=g.toString(16).toUpperCase();return 1===$.length&&($="0"+$),"%"+$}function eD(g){let $=new Buffer(g),ee="";for(let g=0;g<$.length;++g)ee+=eN($[g]);return ee}function ek(g){let $=new Buffer(g),ee=[];for(let g=0;g<$.length;++g)37!==$[g]?ee.push($[g]):37===$[g]&&ef($[g+1])&&ef($[g+2])?(ee.push(parseInt($.slice(g+1,g+3).toString(),16)),g+=2):ee.push($[g]);return new Buffer(ee).toString()}function eR(g){return g<=31||g>126}let eA=new Set([32,34,35,60,62,63,96,123,125]);function eO(g){return eR(g)||eA.has(g)}let eP=new Set([47,58,59,61,64,91,92,93,94,124]);function eM(g){return eO(g)||eP.has(g)}function eL(g,$){let ee=String.fromCodePoint(g);return $(g)?eD(ee):ee}function eF(g){let $=10;if(g.length>=2&&"0"===g.charAt(0)&&"x"===g.charAt(1).toLowerCase()?(g=g.substring(2),$=16):g.length>=2&&"0"===g.charAt(0)&&(g=g.substring(1),$=8),""===g)return 0;let ee=10===$?/[^0-9]/:16===$?/[^0-9A-Fa-f]/:/[^0-7]/;return ee.test(g)?es:parseInt(g,$)}function eV(g){let $=g.split(".");if(""===$[$.length-1]&&$.length>1&&$.pop(),$.length>4)return g;let ee=[];for(let ei of $){if(""===ei)return g;let $=eF(ei);if($===es)return g;ee.push($)}for(let g=0;g<ee.length-1;++g)if(ee[g]>255)return es;if(ee[ee.length-1]>=Math.pow(256,5-ee.length))return es;let ei=ee.pop(),er=0;for(let g of ee)ei+=g*Math.pow(256,3-er),++er;return ei}function eB(g){let $="",ee=g;for(let g=1;g<=4;++g)$=String(ee%256)+$,4!==g&&($="."+$),ee=Math.floor(ee/256);return $}function eU(g){let $=[0,0,0,0,0,0,0,0],ee=0,er=null,en=0;if(58===(g=ei.ucs2.decode(g))[en]){if(58!==g[en+1])return es;en+=2,er=++ee}for(;en<g.length;){if(8===ee)return es;if(58===g[en]){if(null!==er)return es;++en,er=++ee;continue}let ei=0,eo=0;for(;eo<4&&ef(g[en]);)ei=16*ei+parseInt(ep(g,en),16),++en,++eo;if(46===g[en]){if(0===eo||(en-=eo,ee>6))return es;let ei=0;for(;void 0!==g[en];){let er=null;if(ei>0){if(46!==g[en]||!(ei<4))return es;++en}if(!eu(g[en]))return es;for(;eu(g[en]);){let $=parseInt(ep(g,en));if(null===er)er=$;else{if(0===er)return es;er=10*er+$}if(er>255)return es;++en}$[ee]=256*$[ee]+er,(2==++ei||4===ei)&&++ee}if(4!==ei)return es;break}if(58===g[en]){if(void 0===g[++en])return es}else if(void 0!==g[en])return es;$[ee]=ei,++ee}if(null!==er){let g=ee-er;for(ee=7;0!==ee&&g>0;){let ei=$[er+g-1];$[er+g-1]=$[ee],$[ee]=ei,--ee,--g}}else if(null===er&&8!==ee)return es;return $}function ej(g){let $="",ee=eH(g),ei=ee.idx,er=!1;for(let ee=0;ee<=7;++ee)if(!er||0!==g[ee]){if(er&&(er=!1),ei===ee){let g=0===ee?"::":":";$+=g,er=!0;continue}$+=g[ee].toString(16),7!==ee&&($+=":")}return $}function eq(g,$){if("["===g[0])return"]"!==g[g.length-1]?es:eU(g.substring(1,g.length-1));if(!$)return ez(g);let ee=ek(g),ei=er.toASCII(ee,!1,er.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===ei||eS(ei))return es;let en=eV(ei);return"number"==typeof en||en===es?en:ei}function ez(g){if(eT(g))return es;let $="",ee=ei.ucs2.decode(g);for(let g=0;g<ee.length;++g)$+=eL(ee[g],eR);return $}function eH(g){let $=null,ee=1,ei=null,er=0;for(let en=0;en<g.length;++en)0!==g[en]?(er>ee&&($=ei,ee=er),ei=null,er=0):(null===ei&&(ei=en),++er);return er>ee&&($=ei,ee=er),{idx:$,len:ee}}function e$(g){return"number"==typeof g?eB(g):g instanceof Array?"["+ej(g)+"]":g}function eW(g){return g.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function eK(g){return g.replace(/\u0009|\u000A|\u000D/g,"")}function eG(g){let $=g.path;0===$.length||"file"===g.scheme&&1===$.length&&eJ($[0])||$.pop()}function eQ(g){return""!==g.username||""!==g.password}function eY(g){return null===g.host||""===g.host||g.cannotBeABaseURL||"file"===g.scheme}function eJ(g){return/^[A-Za-z]:$/.test(g)}function eX(g,$,ee,er,en){if(this.pointer=0,this.input=g,this.base=$||null,this.encodingOverride=ee||"utf-8",this.stateOverride=en,this.url=er,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let g=eW(this.input);g!==this.input&&(this.parseError=!0),this.input=g}let eo=eK(this.input);for(eo!==this.input&&(this.parseError=!0),this.input=eo,this.state=en||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=ei.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let g=this.input[this.pointer],$=isNaN(g)?void 0:String.fromCodePoint(g),ee=this["parse "+this.state](g,$);if(ee){if(ee===es){this.failure=!0;break}}else break}}eX.prototype["parse scheme start"]=function(g,$){if(eh(g))this.buffer+=$.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,es;this.state="no scheme",--this.pointer}return!0},eX.prototype["parse scheme"]=function(g,$){if(em(g)||43===g||45===g||46===g)this.buffer+=$.toLowerCase();else if(58===g){if(this.stateOverride&&(eE(this.url)&&!eC(this.buffer)||!eE(this.url)&&eC(this.buffer)||(eQ(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):eE(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":eE(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,es;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},eX.prototype["parse no scheme"]=function(g){return null===this.base||this.base.cannotBeABaseURL&&35!==g?es:(this.base.cannotBeABaseURL&&35===g?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},eX.prototype["parse special relative or authority"]=function(g){return 47===g&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},eX.prototype["parse path or authority"]=function(g){return 47===g?this.state="authority":(this.state="path",--this.pointer),!0},eX.prototype["parse relative"]=function(g){return this.url.scheme=this.base.scheme,isNaN(g)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===g?this.state="relative slash":63===g?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===g?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):eE(this.url)&&92===g?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},eX.prototype["parse relative slash"]=function(g){return eE(this.url)&&(47===g||92===g)?(92===g&&(this.parseError=!0),this.state="special authority ignore slashes"):47===g?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},eX.prototype["parse special authority slashes"]=function(g){return 47===g&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},eX.prototype["parse special authority ignore slashes"]=function(g){return 47!==g&&92!==g?(this.state="authority",--this.pointer):this.parseError=!0,!0},eX.prototype["parse authority"]=function(g,$){if(64===g){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let g=eo(this.buffer);for(let $=0;$<g;++$){let g=this.buffer.codePointAt($);if(58===g&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let ee=eL(g,eM);this.passwordTokenSeenFlag?this.url.password+=ee:this.url.username+=ee}this.buffer=""}else if(isNaN(g)||47===g||63===g||35===g||eE(this.url)&&92===g){if(this.atFlag&&""===this.buffer)return this.parseError=!0,es;this.pointer-=eo(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=$;return!0},eX.prototype["parse hostname"]=eX.prototype["parse host"]=function(g,$){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==g||this.arrFlag){if(isNaN(g)||47===g||63===g||35===g||eE(this.url)&&92===g){if(--this.pointer,eE(this.url)&&""===this.buffer)return this.parseError=!0,es;if(this.stateOverride&&""===this.buffer&&(eQ(this.url)||null!==this.url.port))return this.parseError=!0,!1;let g=eq(this.buffer,eE(this.url));if(g===es)return es;if(this.url.host=g,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===g?this.arrFlag=!0:93===g&&(this.arrFlag=!1),this.buffer+=$}else{if(""===this.buffer)return this.parseError=!0,es;let g=eq(this.buffer,eE(this.url));if(g===es)return es;if(this.url.host=g,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},eX.prototype["parse port"]=function(g,$){if(eu(g))this.buffer+=$;else{if(!(isNaN(g)||47===g||63===g||35===g||eE(this.url)&&92===g)&&!this.stateOverride)return this.parseError=!0,es;if(""!==this.buffer){let g=parseInt(this.buffer);if(g>65535)return this.parseError=!0,es;this.url.port=g===eI(this.url.scheme)?null:g,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let eZ=new Set([47,92,63,35]);function e1(g,$){let ee=g.scheme+":";if(null!==g.host?(ee+="//",(""!==g.username||""!==g.password)&&(ee+=g.username,""!==g.password&&(ee+=":"+g.password),ee+="@"),ee+=e$(g.host),null!==g.port&&(ee+=":"+g.port)):null===g.host&&"file"===g.scheme&&(ee+="//"),g.cannotBeABaseURL)ee+=g.path[0];else for(let $ of g.path)ee+="/"+$;return null!==g.query&&(ee+="?"+g.query),$||null===g.fragment||(ee+="#"+g.fragment),ee}function e0(g){let $=g.scheme+"://";return $+=e$(g.host),null!==g.port&&($+=":"+g.port),$}eX.prototype["parse file"]=function(g){return this.url.scheme="file",47===g||92===g?(92===g&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(g)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===g?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===g?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1!=0&&ey(g,this.input[this.pointer+1])&&(!(this.input.length-this.pointer-1>=2)||eZ.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),eG(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},eX.prototype["parse file slash"]=function(g){return 47===g||92===g?(92===g&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(ew(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},eX.prototype["parse file host"]=function(g,$){if(isNaN(g)||47===g||92===g||63===g||35===g){if(--this.pointer,!this.stateOverride&&e_(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let g=eq(this.buffer,eE(this.url));if(g===es)return es;if("localhost"===g&&(g=""),this.url.host=g,this.stateOverride)return!1;this.buffer="",this.state="path start"}}else this.buffer+=$;return!0},eX.prototype["parse path start"]=function(g){return eE(this.url)?(92===g&&(this.parseError=!0),this.state="path",47!==g&&92!==g&&--this.pointer):this.stateOverride||63!==g?this.stateOverride||35!==g?void 0!==g&&(this.state="path",47!==g&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},eX.prototype["parse path"]=function(g){if(isNaN(g)||47===g||eE(this.url)&&92===g||!this.stateOverride&&(63===g||35===g)){if(eE(this.url)&&92===g&&(this.parseError=!0),ev(this.buffer)?(eG(this.url),47===g||eE(this.url)&&92===g||this.url.path.push("")):eg(this.buffer)&&47!==g&&!(eE(this.url)&&92===g)?this.url.path.push(""):eg(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&e_(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===g||63===g||35===g))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===g&&(this.url.query="",this.state="query"),35===g&&(this.url.fragment="",this.state="fragment")}else 37!==g||ef(this.input[this.pointer+1])&&ef(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=eL(g,eO);return!0},eX.prototype["parse cannot-be-a-base-URL path"]=function(g){return 63===g?(this.url.query="",this.state="query"):35===g?(this.url.fragment="",this.state="fragment"):(isNaN(g)||37===g||(this.parseError=!0),37!==g||ef(this.input[this.pointer+1])&&ef(this.input[this.pointer+2])||(this.parseError=!0),isNaN(g)||(this.url.path[0]=this.url.path[0]+eL(g,eR))),!0},eX.prototype["parse query"]=function(g,$){if(isNaN(g)||!this.stateOverride&&35===g){eE(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let $=new Buffer(this.buffer);for(let g=0;g<$.length;++g)$[g]<33||$[g]>126||34===$[g]||35===$[g]||60===$[g]||62===$[g]?this.url.query+=eN($[g]):this.url.query+=String.fromCodePoint($[g]);this.buffer="",35===g&&(this.url.fragment="",this.state="fragment")}else 37!==g||ef(this.input[this.pointer+1])&&ef(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=$;return!0},eX.prototype["parse fragment"]=function(g){return isNaN(g)||(0===g?this.parseError=!0:(37!==g||ef(this.input[this.pointer+1])&&ef(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=eL(g,eR))),!0},g.exports.serializeURL=e1,g.exports.serializeURLOrigin=function($){switch($.scheme){case"blob":try{return g.exports.serializeURLOrigin(g.exports.parseURL($.path[0]))}catch(g){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return e0({scheme:$.scheme,host:$.host,port:$.port});case"file":return"file://";default:return"null"}},g.exports.basicURLParse=function(g,$){void 0===$&&($={});let ee=new eX(g,$.baseURL,$.encodingOverride,$.url,$.stateOverride);return ee.failure?"failure":ee.url},g.exports.setTheUsername=function(g,$){g.username="";let ee=ei.ucs2.decode($);for(let $=0;$<ee.length;++$)g.username+=eL(ee[$],eM)},g.exports.setThePassword=function(g,$){g.password="";let ee=ei.ucs2.decode($);for(let $=0;$<ee.length;++$)g.password+=eL(ee[$],eM)},g.exports.serializeHost=e$,g.exports.cannotHaveAUsernamePasswordPort=eY,g.exports.serializeInteger=function(g){return String(g)},g.exports.parseURL=function($,ee){return void 0===ee&&(ee={}),g.exports.basicURLParse($,{baseURL:ee.baseURL,encodingOverride:ee.encodingOverride})}},79916:g=>{"use strict";g.exports.mixin=function(g,$){let ee=Object.getOwnPropertyNames($);for(let ei=0;ei<ee.length;++ei)Object.defineProperty(g,ee[ei],Object.getOwnPropertyDescriptor($,ee[ei]))},g.exports.wrapperSymbol=Symbol("wrapper"),g.exports.implSymbol=Symbol("impl"),g.exports.wrapperForImpl=function($){return $[g.exports.wrapperSymbol]},g.exports.implForWrapper=function($){return $[g.exports.implSymbol]}},16933:(g,$)=>{var ee,ei=function(g){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var $=null;try{$=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(g){}function ee(g,$,ee){this.low=0|g,this.high=0|$,this.unsigned=!!ee}function ei(g){return!0===(g&&g.__isLong__)}function er(g){var $=Math.clz32(g&-g);return g?31-$:$}ee.prototype.__isLong__,Object.defineProperty(ee.prototype,"__isLong__",{value:!0}),ee.isLong=ei;var en={},es={};function eo(g,$){var ee,ei,er;return $?(g>>>=0,(er=0<=g&&g<256)&&(ei=es[g]))?ei:(ee=eu(g,0,!0),er&&(es[g]=ee),ee):(g|=0,(er=-128<=g&&g<128)&&(ei=en[g]))?ei:(ee=eu(g,g<0?-1:0,!1),er&&(en[g]=ee),ee)}function ep(g,$){if(isNaN(g))return $?eS:ew;if($){if(g<0)return eS;if(g>=ev)return eN}else{if(g<=-ey)return eD;if(g+1>=ey)return eI}return g<0?ep(-g,$).neg():eu(g%eg|0,g/eg|0,$)}function eu(g,$,ei){return new ee(g,$,ei)}ee.fromInt=eo,ee.fromNumber=ep,ee.fromBits=eu;var eh=Math.pow;function em(g,$,ee){if(0===g.length)throw Error("empty string");if("number"==typeof $?(ee=$,$=!1):$=!!$,"NaN"===g||"Infinity"===g||"+Infinity"===g||"-Infinity"===g)return $?eS:ew;if((ee=ee||10)<2||36<ee)throw RangeError("radix");if((ei=g.indexOf("-"))>0)throw Error("interior hyphen");if(0===ei)return em(g.substring(1),$,ee).neg();for(var ei,er=ep(eh(ee,8)),en=ew,es=0;es<g.length;es+=8){var eo=Math.min(8,g.length-es),eu=parseInt(g.substring(es,es+eo),ee);if(eo<8){var ef=ep(eh(ee,eo));en=en.mul(ef).add(ep(eu))}else en=(en=en.mul(er)).add(ep(eu))}return en.unsigned=$,en}function ef(g,$){return"number"==typeof g?ep(g,$):"string"==typeof g?em(g,$):eu(g.low,g.high,"boolean"==typeof $?$:g.unsigned)}ee.fromString=em,ee.fromValue=ef;var eg=4294967296,ev=18446744073709552e3,ey=0x7fffffffffffffff,e_=eo(16777216),ew=eo(0);ee.ZERO=ew;var eS=eo(0,!0);ee.UZERO=eS;var eT=eo(1);ee.ONE=eT;var eC=eo(1,!0);ee.UONE=eC;var eE=eo(-1);ee.NEG_ONE=eE;var eI=eu(-1,2147483647,!1);ee.MAX_VALUE=eI;var eN=eu(-1,-1,!0);ee.MAX_UNSIGNED_VALUE=eN;var eD=eu(0,-2147483648,!1);ee.MIN_VALUE=eD;var ek=ee.prototype;ek.toInt=function(){return this.unsigned?this.low>>>0:this.low},ek.toNumber=function(){return this.unsigned?(this.high>>>0)*eg+(this.low>>>0):this.high*eg+(this.low>>>0)},ek.toString=function(g){if((g=g||10)<2||36<g)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(eD))return"-"+this.neg().toString(g);var $=ep(g),ee=this.div($),ei=ee.mul($).sub(this);return ee.toString(g)+ei.toInt().toString(g)}for(var er=ep(eh(g,6),this.unsigned),en=this,es="";;){var eo=en.div(er),eu=(en.sub(eo.mul(er)).toInt()>>>0).toString(g);if((en=eo).isZero())return eu+es;for(;eu.length<6;)eu="0"+eu;es=""+eu+es}},ek.getHighBits=function(){return this.high},ek.getHighBitsUnsigned=function(){return this.high>>>0},ek.getLowBits=function(){return this.low},ek.getLowBitsUnsigned=function(){return this.low>>>0},ek.getNumBitsAbs=function(){if(this.isNegative())return this.eq(eD)?64:this.neg().getNumBitsAbs();for(var g=0!=this.high?this.high:this.low,$=31;$>0&&(g&1<<$)==0;$--);return 0!=this.high?$+33:$+1},ek.isZero=function(){return 0===this.high&&0===this.low},ek.eqz=ek.isZero,ek.isNegative=function(){return!this.unsigned&&this.high<0},ek.isPositive=function(){return this.unsigned||this.high>=0},ek.isOdd=function(){return(1&this.low)==1},ek.isEven=function(){return(1&this.low)==0},ek.equals=function(g){return ei(g)||(g=ef(g)),(this.unsigned===g.unsigned||this.high>>>31!=1||g.high>>>31!=1)&&this.high===g.high&&this.low===g.low},ek.eq=ek.equals,ek.notEquals=function(g){return!this.eq(g)},ek.neq=ek.notEquals,ek.ne=ek.notEquals,ek.lessThan=function(g){return 0>this.comp(g)},ek.lt=ek.lessThan,ek.lessThanOrEqual=function(g){return 0>=this.comp(g)},ek.lte=ek.lessThanOrEqual,ek.le=ek.lessThanOrEqual,ek.greaterThan=function(g){return this.comp(g)>0},ek.gt=ek.greaterThan,ek.greaterThanOrEqual=function(g){return this.comp(g)>=0},ek.gte=ek.greaterThanOrEqual,ek.ge=ek.greaterThanOrEqual,ek.compare=function(g){if(ei(g)||(g=ef(g)),this.eq(g))return 0;var $=this.isNegative(),ee=g.isNegative();return $&&!ee?-1:!$&&ee?1:this.unsigned?g.high>>>0>this.high>>>0||g.high===this.high&&g.low>>>0>this.low>>>0?-1:1:this.sub(g).isNegative()?-1:1},ek.comp=ek.compare,ek.negate=function(){return!this.unsigned&&this.eq(eD)?eD:this.not().add(eT)},ek.neg=ek.negate,ek.add=function(g){ei(g)||(g=ef(g));var $,ee,er=this.high>>>16,en=65535&this.high,es=this.low>>>16,eo=65535&this.low,ep=g.high>>>16,eh=65535&g.high,em=g.low>>>16,eg=65535&g.low,ev=0,ey=0;return $=0+((ee=0+(eo+eg))>>>16),ee&=65535,$+=es+em,ey+=$>>>16,$&=65535,ey+=en+eh,ev+=ey>>>16,ey&=65535,ev+=er+ep,eu($<<16|ee,(ev&=65535)<<16|ey,this.unsigned)},ek.subtract=function(g){return ei(g)||(g=ef(g)),this.add(g.neg())},ek.sub=ek.subtract,ek.multiply=function(g){if(this.isZero())return this;if(ei(g)||(g=ef(g)),$)return eu($.mul(this.low,this.high,g.low,g.high),$.get_high(),this.unsigned);if(g.isZero())return this.unsigned?eS:ew;if(this.eq(eD))return g.isOdd()?eD:ew;if(g.eq(eD))return this.isOdd()?eD:ew;if(this.isNegative())return g.isNegative()?this.neg().mul(g.neg()):this.neg().mul(g).neg();if(g.isNegative())return this.mul(g.neg()).neg();if(this.lt(e_)&&g.lt(e_))return ep(this.toNumber()*g.toNumber(),this.unsigned);var ee,er,en=this.high>>>16,es=65535&this.high,eo=this.low>>>16,eh=65535&this.low,em=g.high>>>16,eg=65535&g.high,ev=g.low>>>16,ey=65535&g.low,eT=0,eC=0;return ee=0+((er=0+eh*ey)>>>16),er&=65535,ee+=eo*ey,eC+=ee>>>16,ee&=65535,ee+=eh*ev,eC+=ee>>>16,ee&=65535,eC+=es*ey,eT+=eC>>>16,eC&=65535,eC+=eo*ev,eT+=eC>>>16,eC&=65535,eC+=eh*eg,eT+=eC>>>16,eC&=65535,eT+=en*ey+es*ev+eo*eg+eh*em,eu(ee<<16|er,(eT&=65535)<<16|eC,this.unsigned)},ek.mul=ek.multiply,ek.divide=function(g){if(ei(g)||(g=ef(g)),g.isZero())throw Error("division by zero");if($){var ee,er,en;return this.unsigned||-2147483648!==this.high||-1!==g.low||-1!==g.high?eu((this.unsigned?$.div_u:$.div_s)(this.low,this.high,g.low,g.high),$.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?eS:ew;if(this.unsigned){if(g.unsigned||(g=g.toUnsigned()),g.gt(this))return eS;if(g.gt(this.shru(1)))return eC;en=eS}else{if(this.eq(eD))return g.eq(eT)||g.eq(eE)?eD:g.eq(eD)?eT:(ee=this.shr(1).div(g).shl(1)).eq(ew)?g.isNegative()?eT:eE:(er=this.sub(g.mul(ee)),en=ee.add(er.div(g)));if(g.eq(eD))return this.unsigned?eS:ew;if(this.isNegative())return g.isNegative()?this.neg().div(g.neg()):this.neg().div(g).neg();if(g.isNegative())return this.div(g.neg()).neg();en=ew}for(er=this;er.gte(g);){for(var es=Math.ceil(Math.log(ee=Math.max(1,Math.floor(er.toNumber()/g.toNumber())))/Math.LN2),eo=es<=48?1:eh(2,es-48),em=ep(ee),eg=em.mul(g);eg.isNegative()||eg.gt(er);)ee-=eo,eg=(em=ep(ee,this.unsigned)).mul(g);em.isZero()&&(em=eT),en=en.add(em),er=er.sub(eg)}return en},ek.div=ek.divide,ek.modulo=function(g){return(ei(g)||(g=ef(g)),$)?eu((this.unsigned?$.rem_u:$.rem_s)(this.low,this.high,g.low,g.high),$.get_high(),this.unsigned):this.sub(this.div(g).mul(g))},ek.mod=ek.modulo,ek.rem=ek.modulo,ek.not=function(){return eu(~this.low,~this.high,this.unsigned)},ek.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ek.clz=ek.countLeadingZeros,ek.countTrailingZeros=function(){return this.low?er(this.low):er(this.high)+32},ek.ctz=ek.countTrailingZeros,ek.and=function(g){return ei(g)||(g=ef(g)),eu(this.low&g.low,this.high&g.high,this.unsigned)},ek.or=function(g){return ei(g)||(g=ef(g)),eu(this.low|g.low,this.high|g.high,this.unsigned)},ek.xor=function(g){return ei(g)||(g=ef(g)),eu(this.low^g.low,this.high^g.high,this.unsigned)},ek.shiftLeft=function(g){return(ei(g)&&(g=g.toInt()),0==(g&=63))?this:g<32?eu(this.low<<g,this.high<<g|this.low>>>32-g,this.unsigned):eu(0,this.low<<g-32,this.unsigned)},ek.shl=ek.shiftLeft,ek.shiftRight=function(g){return(ei(g)&&(g=g.toInt()),0==(g&=63))?this:g<32?eu(this.low>>>g|this.high<<32-g,this.high>>g,this.unsigned):eu(this.high>>g-32,this.high>=0?0:-1,this.unsigned)},ek.shr=ek.shiftRight,ek.shiftRightUnsigned=function(g){return(ei(g)&&(g=g.toInt()),0==(g&=63))?this:g<32?eu(this.low>>>g|this.high<<32-g,this.high>>>g,this.unsigned):32===g?eu(this.high,0,this.unsigned):eu(this.high>>>g-32,0,this.unsigned)},ek.shru=ek.shiftRightUnsigned,ek.shr_u=ek.shiftRightUnsigned,ek.rotateLeft=function(g){var $;return(ei(g)&&(g=g.toInt()),0==(g&=63))?this:32===g?eu(this.high,this.low,this.unsigned):g<32?($=32-g,eu(this.low<<g|this.high>>>$,this.high<<g|this.low>>>$,this.unsigned)):(g-=32,$=32-g,eu(this.high<<g|this.low>>>$,this.low<<g|this.high>>>$,this.unsigned))},ek.rotl=ek.rotateLeft,ek.rotateRight=function(g){var $;return(ei(g)&&(g=g.toInt()),0==(g&=63))?this:32===g?eu(this.high,this.low,this.unsigned):g<32?($=32-g,eu(this.high<<$|this.low>>>g,this.low<<$|this.high>>>g,this.unsigned)):(g-=32,$=32-g,eu(this.low<<$|this.high>>>g,this.high<<$|this.low>>>g,this.unsigned))},ek.rotr=ek.rotateRight,ek.toSigned=function(){return this.unsigned?eu(this.low,this.high,!1):this},ek.toUnsigned=function(){return this.unsigned?this:eu(this.low,this.high,!0)},ek.toBytes=function(g){return g?this.toBytesLE():this.toBytesBE()},ek.toBytesLE=function(){var g=this.high,$=this.low;return[255&$,$>>>8&255,$>>>16&255,$>>>24,255&g,g>>>8&255,g>>>16&255,g>>>24]},ek.toBytesBE=function(){var g=this.high,$=this.low;return[g>>>24,g>>>16&255,g>>>8&255,255&g,$>>>24,$>>>16&255,$>>>8&255,255&$]},ee.fromBytes=function(g,$,ei){return ei?ee.fromBytesLE(g,$):ee.fromBytesBE(g,$)},ee.fromBytesLE=function(g,$){return new ee(g[0]|g[1]<<8|g[2]<<16|g[3]<<24,g[4]|g[5]<<8|g[6]<<16|g[7]<<24,$)},ee.fromBytesBE=function(g,$){return new ee(g[4]<<24|g[5]<<16|g[6]<<8|g[7],g[0]<<24|g[1]<<16|g[2]<<8|g[3],$)};var eR=ee;return g.default=eR,"default"in g?g.default:g}({});void 0!==(ee=(function(){return ei}).apply($,[]))&&(g.exports=ee)},55087:(g,$,ee)=>{"use strict";let ei,er;ee.d($,{Jn:()=>tf,qX:()=>tp,Xd:()=>tl,Mq:()=>tv,ZF:()=>tg,KN:()=>ty});var en=ee(77345),es=ee(9292),eo=ee(51780);let ep=(g,$)=>$.some($=>g instanceof $);function eu(){return ei||(ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eh(){return er||(er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let em=new WeakMap,ef=new WeakMap,eg=new WeakMap,ev=new WeakMap,ey=new WeakMap;function e_(g){let $=new Promise(($,ee)=>{let ei=()=>{g.removeEventListener("success",er),g.removeEventListener("error",en)},er=()=>{$(eI(g.result)),ei()},en=()=>{ee(g.error),ei()};g.addEventListener("success",er),g.addEventListener("error",en)});return $.then($=>{$ instanceof IDBCursor&&em.set($,g)}).catch(()=>{}),ey.set($,g),$}function ew(g){if(ef.has(g))return;let $=new Promise(($,ee)=>{let ei=()=>{g.removeEventListener("complete",er),g.removeEventListener("error",en),g.removeEventListener("abort",en)},er=()=>{$(),ei()},en=()=>{ee(g.error||new DOMException("AbortError","AbortError")),ei()};g.addEventListener("complete",er),g.addEventListener("error",en),g.addEventListener("abort",en)});ef.set(g,$)}let eS={get(g,$,ee){if(g instanceof IDBTransaction){if("done"===$)return ef.get(g);if("objectStoreNames"===$)return g.objectStoreNames||eg.get(g);if("store"===$)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return eI(g[$])},set:(g,$,ee)=>(g[$]=ee,!0),has:(g,$)=>g instanceof IDBTransaction&&("done"===$||"store"===$)||$ in g};function eT(g){eS=g(eS)}function eC(g){return g!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?eh().includes(g)?function(...$){return g.apply(eN(this),$),eI(em.get(this))}:function(...$){return eI(g.apply(eN(this),$))}:function($,...ee){let ei=g.call(eN(this),$,...ee);return eg.set(ei,$.sort?$.sort():[$]),eI(ei)}}function eE(g){return"function"==typeof g?eC(g):(g instanceof IDBTransaction&&ew(g),ep(g,eu()))?new Proxy(g,eS):g}function eI(g){if(g instanceof IDBRequest)return e_(g);if(ev.has(g))return ev.get(g);let $=eE(g);return $!==g&&(ev.set(g,$),ey.set($,g)),$}let eN=g=>ey.get(g);function eD(g,$,{blocked:ee,upgrade:ei,blocking:er,terminated:en}={}){let es=indexedDB.open(g,$),eo=eI(es);return ei&&es.addEventListener("upgradeneeded",g=>{ei(eI(es.result),g.oldVersion,g.newVersion,eI(es.transaction),g)}),ee&&es.addEventListener("blocked",g=>ee(g.oldVersion,g.newVersion,g)),eo.then(g=>{en&&g.addEventListener("close",()=>en()),er&&g.addEventListener("versionchange",g=>er(g.oldVersion,g.newVersion,g))}).catch(()=>{}),eo}let ek=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],eA=new Map;function eO(g,$){if(!(g instanceof IDBDatabase&&!($ in g)&&"string"==typeof $))return;if(eA.get($))return eA.get($);let ee=$.replace(/FromIndex$/,""),ei=$!==ee,er=eR.includes(ee);if(!(ee in(ei?IDBIndex:IDBObjectStore).prototype)||!(er||ek.includes(ee)))return;let en=async function(g,...$){let en=this.transaction(g,er?"readwrite":"readonly"),es=en.store;return ei&&(es=es.index($.shift())),(await Promise.all([es[ee](...$),er&&en.done]))[0]};return eA.set($,en),en}eT(g=>({...g,get:($,ee,ei)=>eO($,ee)||g.get($,ee,ei),has:($,ee)=>!!eO($,ee)||g.has($,ee)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(g){this.container=g}getPlatformInfoString(){let g=this.container.getProviders();return g.map(g=>{if(!eM(g))return null;{let $=g.getImmediate();return`${$.library}/${$.version}`}}).filter(g=>g).join(" ")}}function eM(g){let $=g.getComponent();return(null==$?void 0:$.type)==="VERSION"}let eL="@firebase/app",eF="0.9.19",eV=new es.Yd("@firebase/app"),eB="@firebase/app-compat",eU="@firebase/analytics-compat",ej="@firebase/analytics",eq="@firebase/app-check-compat",ez="@firebase/app-check",eH="@firebase/auth",e$="@firebase/auth-compat",eW="@firebase/database",eK="@firebase/database-compat",eG="@firebase/functions",eQ="@firebase/functions-compat",eY="@firebase/installations",eJ="@firebase/installations-compat",eX="@firebase/messaging",eZ="@firebase/messaging-compat",e1="@firebase/performance",e0="@firebase/performance-compat",e2="@firebase/remote-config",e6="@firebase/remote-config-compat",e4="@firebase/storage",e3="@firebase/storage-compat",e9="@firebase/firestore",e5="@firebase/firestore-compat",e8="firebase",e7="10.4.0",te="[DEFAULT]",tt={[eL]:"fire-core",[eB]:"fire-core-compat",[ej]:"fire-analytics",[eU]:"fire-analytics-compat",[ez]:"fire-app-check",[eq]:"fire-app-check-compat",[eH]:"fire-auth",[e$]:"fire-auth-compat",[eW]:"fire-rtdb",[eK]:"fire-rtdb-compat",[eG]:"fire-fn",[eQ]:"fire-fn-compat",[eY]:"fire-iid",[eJ]:"fire-iid-compat",[eX]:"fire-fcm",[eZ]:"fire-fcm-compat",[e1]:"fire-perf",[e0]:"fire-perf-compat",[e2]:"fire-rc",[e6]:"fire-rc-compat",[e4]:"fire-gcs",[e3]:"fire-gcs-compat",[e9]:"fire-fst",[e5]:"fire-fst-compat","fire-js":"fire-js",[e8]:"fire-js-all"},ti=new Map,tr=new Map;function ts(g,$){try{g.container.addComponent($)}catch(ee){eV.debug(`Component ${$.name} failed to register with FirebaseApp ${g.name}`,ee)}}function tl(g){let $=g.name;if(tr.has($))return eV.debug(`There were multiple attempts to register component ${$}.`),!1;for(let ee of(tr.set($,g),ti.values()))ts(ee,g);return!0}function tp(g,$){let ee=g.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),g.container.getProvider($)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},th=new eo.LL("app","Firebase",tu);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(g,$,ee){this._isDeleted=!1,this._options=Object.assign({},g),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new en.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(g){this.checkDestroyed(),this._automaticDataCollectionEnabled=g}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(g){this._isDeleted=g}checkDestroyed(){if(this.isDeleted)throw th.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=e7;function tg(g,$={}){let ee=g;if("object"!=typeof $){let g=$;$={name:g}}let ei=Object.assign({name:te,automaticDataCollectionEnabled:!1},$),er=ei.name;if("string"!=typeof er||!er)throw th.create("bad-app-name",{appName:String(er)});if(ee||(ee=(0,eo.aH)()),!ee)throw th.create("no-options");let es=ti.get(er);if(es){if((0,eo.vZ)(ee,es.options)&&(0,eo.vZ)(ei,es.config))return es;throw th.create("duplicate-app",{appName:er})}let ep=new en.H0(er);for(let g of tr.values())ep.addComponent(g);let eu=new tm(ee,ei,ep);return ti.set(er,eu),eu}function tv(g=te){let $=ti.get(g);if(!$&&g===te&&(0,eo.aH)())return tg();if(!$)throw th.create("no-app",{appName:g});return $}function ty(g,$,ee){var ei;let er=null!==(ei=tt[g])&&void 0!==ei?ei:g;ee&&(er+=`-${ee}`);let es=er.match(/\s|\//),eo=$.match(/\s|\//);if(es||eo){let g=[`Unable to register library "${er}" with version "${$}":`];es&&g.push(`library name "${er}" contains illegal characters (whitespace or "/")`),es&&eo&&g.push("and"),eo&&g.push(`version name "${$}" contains illegal characters (whitespace or "/")`),eV.warn(g.join(" "));return}tl(new en.wA(`${er}-version`,()=>({library:er,version:$}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_="firebase-heartbeat-database",tw=1,tS="firebase-heartbeat-store",tT=null;function tC(){return tT||(tT=eD(t_,tw,{upgrade:(g,$)=>{0===$&&g.createObjectStore(tS)}}).catch(g=>{throw th.create("idb-open",{originalErrorMessage:g.message})})),tT}async function tE(g){try{let $=await tC(),ee=await $.transaction(tS).objectStore(tS).get(tN(g));return ee}catch(g){if(g instanceof eo.ZR)eV.warn(g.message);else{let $=th.create("idb-get",{originalErrorMessage:null==g?void 0:g.message});eV.warn($.message)}}}async function tI(g,$){try{let ee=await tC(),ei=ee.transaction(tS,"readwrite"),er=ei.objectStore(tS);await er.put($,tN(g)),await ei.done}catch(g){if(g instanceof eo.ZR)eV.warn(g.message);else{let $=th.create("idb-set",{originalErrorMessage:null==g?void 0:g.message});eV.warn($.message)}}}function tN(g){return`${g.name}!${g.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tD=1024,tk=2592e6;class tR{constructor(g){this.container=g,this._heartbeatsCache=null;let $=this.container.getProvider("app").getImmediate();this._storage=new tP($),this._heartbeatsCachePromise=this._storage.read().then(g=>(this._heartbeatsCache=g,g))}async triggerHeartbeat(){let g=this.container.getProvider("platform-logger").getImmediate(),$=g.getPlatformInfoString(),ee=tA();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===ee||this._heartbeatsCache.heartbeats.some(g=>g.date===ee))?void 0:(this._heartbeatsCache.heartbeats.push({date:ee,agent:$}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(g=>{let $=new Date(g.date).valueOf(),ee=Date.now();return ee-$<=tk}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let g=tA(),{heartbeatsToSend:$,unsentEntries:ee}=tO(this._heartbeatsCache.heartbeats),ei=(0,eo.L)(JSON.stringify({version:2,heartbeats:$}));return this._heartbeatsCache.lastSentHeartbeatDate=g,ee.length>0?(this._heartbeatsCache.heartbeats=ee,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ei}}function tA(){let g=new Date;return g.toISOString().substring(0,10)}function tO(g,$=tD){let ee=[],ei=g.slice();for(let er of g){let g=ee.find(g=>g.agent===er.agent);if(g){if(g.dates.push(er.date),tM(ee)>$){g.dates.pop();break}}else if(ee.push({agent:er.agent,dates:[er.date]}),tM(ee)>$){ee.pop();break}ei=ei.slice(1)}return{heartbeatsToSend:ee,unsentEntries:ei}}class tP{constructor(g){this.app=g,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,eo.hl)()&&(0,eo.eu)().then(()=>!0).catch(()=>!1)}async read(){let g=await this._canUseIndexedDBPromise;if(!g)return{heartbeats:[]};{let g=await tE(this.app);return g||{heartbeats:[]}}}async overwrite(g){var $;let ee=await this._canUseIndexedDBPromise;if(ee){let ee=await this.read();return tI(this.app,{lastSentHeartbeatDate:null!==($=g.lastSentHeartbeatDate)&&void 0!==$?$:ee.lastSentHeartbeatDate,heartbeats:g.heartbeats})}}async add(g){var $;let ee=await this._canUseIndexedDBPromise;if(ee){let ee=await this.read();return tI(this.app,{lastSentHeartbeatDate:null!==($=g.lastSentHeartbeatDate)&&void 0!==$?$:ee.lastSentHeartbeatDate,heartbeats:[...ee.heartbeats,...g.heartbeats]})}}}function tM(g){return(0,eo.L)(JSON.stringify({version:2,heartbeats:g})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(g){tl(new en.wA("platform-logger",g=>new eP(g),"PRIVATE")),tl(new en.wA("heartbeat",g=>new tR(g),"PRIVATE")),ty(eL,eF,""),ty(eL,eF,"esm2017"),ty("fire-js","")})(0)},77345:(g,$,ee)=>{"use strict";ee.d($,{H0:()=>eu,wA:()=>er});var ei=ee(51780);class er{constructor(g,$,ee){this.name=g,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(g){return this.instantiationMode=g,this}setMultipleInstances(g){return this.multipleInstances=g,this}setServiceProps(g){return this.serviceProps=g,this}setInstanceCreatedCallback(g){return this.onInstanceCreated=g,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(g,$){this.name=g,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(g){let $=this.normalizeInstanceIdentifier(g);if(!this.instancesDeferred.has($)){let g=new ei.BH;if(this.instancesDeferred.set($,g),this.isInitialized($)||this.shouldAutoInitialize())try{let ee=this.getOrInitializeService({instanceIdentifier:$});ee&&g.resolve(ee)}catch(g){}}return this.instancesDeferred.get($).promise}getImmediate(g){var $;let ee=this.normalizeInstanceIdentifier(null==g?void 0:g.identifier),ei=null!==($=null==g?void 0:g.optional)&&void 0!==$&&$;if(this.isInitialized(ee)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(g){if(ei)return null;throw g}else{if(ei)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(g){if(g.name!==this.name)throw Error(`Mismatching Component ${g.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=g,this.shouldAutoInitialize()){if(ep(g))try{this.getOrInitializeService({instanceIdentifier:en})}catch(g){}for(let[g,$]of this.instancesDeferred.entries()){let ee=this.normalizeInstanceIdentifier(g);try{let g=this.getOrInitializeService({instanceIdentifier:ee});$.resolve(g)}catch(g){}}}}clearInstance(g=en){this.instancesDeferred.delete(g),this.instancesOptions.delete(g),this.instances.delete(g)}async delete(){let g=Array.from(this.instances.values());await Promise.all([...g.filter(g=>"INTERNAL"in g).map(g=>g.INTERNAL.delete()),...g.filter(g=>"_delete"in g).map(g=>g._delete())])}isComponentSet(){return null!=this.component}isInitialized(g=en){return this.instances.has(g)}getOptions(g=en){return this.instancesOptions.get(g)||{}}initialize(g={}){let{options:$={}}=g,ee=this.normalizeInstanceIdentifier(g.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let ei=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(let[g,$]of this.instancesDeferred.entries()){let er=this.normalizeInstanceIdentifier(g);ee===er&&$.resolve(ei)}return ei}onInit(g,$){var ee;let ei=this.normalizeInstanceIdentifier($),er=null!==(ee=this.onInitCallbacks.get(ei))&&void 0!==ee?ee:new Set;er.add(g),this.onInitCallbacks.set(ei,er);let en=this.instances.get(ei);return en&&g(en,ei),()=>{er.delete(g)}}invokeOnInitCallbacks(g,$){let ee=this.onInitCallbacks.get($);if(ee)for(let ei of ee)try{ei(g,$)}catch(g){}}getOrInitializeService({instanceIdentifier:g,options:$={}}){let ee=this.instances.get(g);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:eo(g),options:$}),this.instances.set(g,ee),this.instancesOptions.set(g,$),this.invokeOnInitCallbacks(ee,g),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,g,ee)}catch(g){}return ee||null}normalizeInstanceIdentifier(g=en){return this.component?this.component.multipleInstances?g:en:g}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function eo(g){return g===en?void 0:g}function ep(g){return"EAGER"===g.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(g){this.name=g,this.providers=new Map}addComponent(g){let $=this.getProvider(g.name);if($.isComponentSet())throw Error(`Component ${g.name} has already been registered with ${this.name}`);$.setComponent(g)}addOrOverwriteComponent(g){let $=this.getProvider(g.name);$.isComponentSet()&&this.providers.delete(g.name),this.addComponent(g)}getProvider(g){if(this.providers.has(g))return this.providers.get(g);let $=new es(g,this);return this.providers.set(g,$),$}getProviders(){return Array.from(this.providers.values())}}},9292:(g,$,ee)=>{"use strict";var ei;ee.d($,{Yd:()=>eu,in:()=>ei});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=[];!function(g){g[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT"}(ei||(ei={}));let en={debug:ei.DEBUG,verbose:ei.VERBOSE,info:ei.INFO,warn:ei.WARN,error:ei.ERROR,silent:ei.SILENT},es=ei.INFO,eo={[ei.DEBUG]:"log",[ei.VERBOSE]:"log",[ei.INFO]:"info",[ei.WARN]:"warn",[ei.ERROR]:"error"},ep=(g,$,...ee)=>{if($<g.logLevel)return;let ei=new Date().toISOString(),er=eo[$];if(er)console[er](`[${ei}]  ${g.name}:`,...ee);else throw Error(`Attempted to log a message with an invalid logType (value: ${$})`)};class eu{constructor(g){this.name=g,this._logLevel=es,this._logHandler=ep,this._userLogHandler=null,er.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in ei))throw TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"==typeof g?en[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!=typeof g)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(...g){this._userLogHandler&&this._userLogHandler(this,ei.DEBUG,...g),this._logHandler(this,ei.DEBUG,...g)}log(...g){this._userLogHandler&&this._userLogHandler(this,ei.VERBOSE,...g),this._logHandler(this,ei.VERBOSE,...g)}info(...g){this._userLogHandler&&this._userLogHandler(this,ei.INFO,...g),this._logHandler(this,ei.INFO,...g)}warn(...g){this._userLogHandler&&this._userLogHandler(this,ei.WARN,...g),this._logHandler(this,ei.WARN,...g)}error(...g){this._userLogHandler&&this._userLogHandler(this,ei.ERROR,...g),this._logHandler(this,ei.ERROR,...g)}}},51780:(g,$,ee)=>{"use strict";ee.d($,{BH:()=>eD,DV:()=>eQ,GJ:()=>eK,L:()=>em,LL:()=>eU,P0:()=>eI,Sg:()=>ek,UI:()=>eJ,US:()=>ep,Wl:()=>eH,Yr:()=>eM,ZR:()=>eB,aH:()=>eN,b$:()=>eP,cI:()=>ez,dS:()=>e7,eu:()=>eF,g5:()=>en,gK:()=>e8,gQ:()=>e6,h$:()=>eh,hl:()=>eL,hu:()=>er,m9:()=>tt,ne:()=>e4,p$:()=>eg,pd:()=>e2,q4:()=>eE,r3:()=>eG,ru:()=>eO,tV:()=>ef,uI:()=>eA,ug:()=>te,vZ:()=>eX,w9:()=>eW,xO:()=>e1,xb:()=>eY,z$:()=>eR,zd:()=>e0});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},er=function(g,$){if(!g)throw en($)},en=function(g){return Error("Firebase Database ("+ei.SDK_VERSION+") INTERNAL ASSERT FAILED: "+g)},es=function(g){let $=[],ee=0;for(let ei=0;ei<g.length;ei++){let er=g.charCodeAt(ei);er<128?$[ee++]=er:(er<2048?$[ee++]=er>>6|192:((64512&er)==55296&&ei+1<g.length&&(64512&g.charCodeAt(ei+1))==56320?(er=65536+((1023&er)<<10)+(1023&g.charCodeAt(++ei)),$[ee++]=er>>18|240,$[ee++]=er>>12&63|128):$[ee++]=er>>12|224,$[ee++]=er>>6&63|128),$[ee++]=63&er|128)}return $},eo=function(g){let $=[],ee=0,ei=0;for(;ee<g.length;){let er=g[ee++];if(er<128)$[ei++]=String.fromCharCode(er);else if(er>191&&er<224){let en=g[ee++];$[ei++]=String.fromCharCode((31&er)<<6|63&en)}else if(er>239&&er<365){let en=g[ee++],es=g[ee++],eo=g[ee++],ep=((7&er)<<18|(63&en)<<12|(63&es)<<6|63&eo)-65536;$[ei++]=String.fromCharCode(55296+(ep>>10)),$[ei++]=String.fromCharCode(56320+(1023&ep))}else{let en=g[ee++],es=g[ee++];$[ei++]=String.fromCharCode((15&er)<<12|(63&en)<<6|63&es)}}return $.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(g,$){if(!Array.isArray(g))throw Error("encodeByteArray takes an array as a parameter");this.init_();let ee=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ei=[];for(let $=0;$<g.length;$+=3){let er=g[$],en=$+1<g.length,es=en?g[$+1]:0,eo=$+2<g.length,ep=eo?g[$+2]:0,eu=er>>2,eh=(3&er)<<4|es>>4,em=(15&es)<<2|ep>>6,ef=63&ep;eo||(ef=64,en||(em=64)),ei.push(ee[eu],ee[eh],ee[em],ee[ef])}return ei.join("")},encodeString(g,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(g):this.encodeByteArray(es(g),$)},decodeString(g,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(g):eo(this.decodeStringToByteArray(g,$))},decodeStringToByteArray(g,$){this.init_();let ee=$?this.charToByteMapWebSafe_:this.charToByteMap_,ei=[];for(let $=0;$<g.length;){let er=ee[g.charAt($++)],en=$<g.length,es=en?ee[g.charAt($)]:0;++$;let eo=$<g.length,ep=eo?ee[g.charAt($)]:64;++$;let eh=$<g.length,em=eh?ee[g.charAt($)]:64;if(++$,null==er||null==es||null==ep||null==em)throw new eu;let ef=er<<2|es>>4;if(ei.push(ef),64!==ep){let g=es<<4&240|ep>>2;if(ei.push(g),64!==em){let g=ep<<6&192|em;ei.push(g)}}}return ei},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let g=0;g<this.ENCODED_VALS.length;g++)this.byteToCharMap_[g]=this.ENCODED_VALS.charAt(g),this.charToByteMap_[this.byteToCharMap_[g]]=g,this.byteToCharMapWebSafe_[g]=this.ENCODED_VALS_WEBSAFE.charAt(g),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[g]]=g,g>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(g)]=g,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(g)]=g)}}};class eu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let eh=function(g){let $=es(g);return ep.encodeByteArray($,!0)},em=function(g){return eh(g).replace(/\./g,"")},ef=function(g){try{return ep.decodeString(g,!0)}catch(g){console.error("base64Decode failed: ",g)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(g){return ev(void 0,g)}function ev(g,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:let ee=$;return new Date(ee.getTime());case Object:void 0===g&&(g={});break;case Array:g=[];break;default:return $}for(let ee in $)$.hasOwnProperty(ee)&&ey(ee)&&(g[ee]=ev(g[ee],$[ee]));return g}function ey(g){return"__proto__"!==g}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ew=()=>e_().__FIREBASE_DEFAULTS__,eS=()=>{if("undefined"==typeof process||void 0===process.env)return;let g=process.env.__FIREBASE_DEFAULTS__;if(g)return JSON.parse(g)},eT=()=>{let g;if("undefined"==typeof document)return;try{g=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(g){return}let $=g&&ef(g[1]);return $&&JSON.parse($)},eC=()=>{try{return ew()||eS()||eT()}catch(g){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${g}`);return}},eE=g=>{var $,ee;return null===(ee=null===($=eC())||void 0===$?void 0:$.emulatorHosts)||void 0===ee?void 0:ee[g]},eI=g=>{let $=eE(g);if(!$)return;let ee=$.lastIndexOf(":");if(ee<=0||ee+1===$.length)throw Error(`Invalid host ${$} with no separate hostname and port!`);let ei=parseInt($.substring(ee+1),10);return"["===$[0]?[$.substring(1,ee-1),ei]:[$.substring(0,ee),ei]},eN=()=>{var g;return null===(g=eC())||void 0===g?void 0:g.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((g,$)=>{this.resolve=g,this.reject=$})}wrapCallback(g){return($,ee)=>{$?this.reject($):this.resolve(ee),"function"==typeof g&&(this.promise.catch(()=>{}),1===g.length?g($):g($,ee))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(g,$){if(g.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let ee={alg:"none",type:"JWT"},ei=$||"demo-project",er=g.iat||0,en=g.sub||g.user_id;if(!en)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let es=Object.assign({iss:`https://securetoken.google.com/${ei}`,aud:ei,iat:er,exp:er+3600,auth_time:er,sub:en,user_id:en,firebase:{sign_in_provider:"custom",identities:{}}},g),eo="";return[em(JSON.stringify(ee)),em(JSON.stringify(es)),eo].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function eA(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eR())}function eO(){let g="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof g&&void 0!==g.id}function eP(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function eM(){return!0===ei.NODE_CLIENT||!0===ei.NODE_ADMIN}function eL(){try{return"object"==typeof indexedDB}catch(g){return!1}}function eF(){return new Promise((g,$)=>{try{let ee=!0,ei="validate-browser-context-for-indexeddb-analytics-module",er=self.indexedDB.open(ei);er.onsuccess=()=>{er.result.close(),ee||self.indexedDB.deleteDatabase(ei),g(!0)},er.onupgradeneeded=()=>{ee=!1},er.onerror=()=>{var g;$((null===(g=er.error)||void 0===g?void 0:g.message)||"")}}catch(g){$(g)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eV="FirebaseError";class eB extends Error{constructor(g,$,ee){super($),this.code=g,this.customData=ee,this.name=eV,Object.setPrototypeOf(this,eB.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eU.prototype.create)}}class eU{constructor(g,$,ee){this.service=g,this.serviceName=$,this.errors=ee}create(g,...$){let ee=$[0]||{},ei=`${this.service}/${g}`,er=this.errors[g],en=er?ej(er,ee):"Error",es=`${this.serviceName}: ${en} (${ei}).`,eo=new eB(ei,es,ee);return eo}}function ej(g,$){return g.replace(eq,(g,ee)=>{let ei=$[ee];return null!=ei?String(ei):`<${ee}?>`})}let eq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(g){return JSON.parse(g)}function eH(g){return JSON.stringify(g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$=function(g){let $={},ee={},ei={},er="";try{let en=g.split(".");$=ez(ef(en[0])||""),ee=ez(ef(en[1])||""),er=en[2],ei=ee.d||{},delete ee.d}catch(g){}return{header:$,claims:ee,data:ei,signature:er}},eW=function(g){let $=e$(g),ee=$.claims;return!!ee&&"object"==typeof ee&&ee.hasOwnProperty("iat")},eK=function(g){let $=e$(g).claims;return"object"==typeof $&&!0===$.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(g,$){return Object.prototype.hasOwnProperty.call(g,$)}function eQ(g,$){return Object.prototype.hasOwnProperty.call(g,$)?g[$]:void 0}function eY(g){for(let $ in g)if(Object.prototype.hasOwnProperty.call(g,$))return!1;return!0}function eJ(g,$,ee){let ei={};for(let er in g)Object.prototype.hasOwnProperty.call(g,er)&&(ei[er]=$.call(ee,g[er],er,g));return ei}function eX(g,$){if(g===$)return!0;let ee=Object.keys(g),ei=Object.keys($);for(let er of ee){if(!ei.includes(er))return!1;let ee=g[er],en=$[er];if(eZ(ee)&&eZ(en)){if(!eX(ee,en))return!1}else if(ee!==en)return!1}for(let g of ei)if(!ee.includes(g))return!1;return!0}function eZ(g){return null!==g&&"object"==typeof g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(g){let $=[];for(let[ee,ei]of Object.entries(g))Array.isArray(ei)?ei.forEach(g=>{$.push(encodeURIComponent(ee)+"="+encodeURIComponent(g))}):$.push(encodeURIComponent(ee)+"="+encodeURIComponent(ei));return $.length?"&"+$.join("&"):""}function e0(g){let $={},ee=g.replace(/^\?/,"").split("&");return ee.forEach(g=>{if(g){let[ee,ei]=g.split("=");$[decodeURIComponent(ee)]=decodeURIComponent(ei)}}),$}function e2(g){let $=g.indexOf("?");if(!$)return"";let ee=g.indexOf("#",$);return g.substring($,ee>0?ee:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let g=1;g<this.blockSize;++g)this.pad_[g]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(g,$){let ee,ei;$||($=0);let er=this.W_;if("string"==typeof g)for(let ee=0;ee<16;ee++)er[ee]=g.charCodeAt($)<<24|g.charCodeAt($+1)<<16|g.charCodeAt($+2)<<8|g.charCodeAt($+3),$+=4;else for(let ee=0;ee<16;ee++)er[ee]=g[$]<<24|g[$+1]<<16|g[$+2]<<8|g[$+3],$+=4;for(let g=16;g<80;g++){let $=er[g-3]^er[g-8]^er[g-14]^er[g-16];er[g]=($<<1|$>>>31)&4294967295}let en=this.chain_[0],es=this.chain_[1],eo=this.chain_[2],ep=this.chain_[3],eu=this.chain_[4];for(let g=0;g<80;g++){g<40?g<20?(ee=ep^es&(eo^ep),ei=1518500249):(ee=es^eo^ep,ei=1859775393):g<60?(ee=es&eo|ep&(es|eo),ei=2400959708):(ee=es^eo^ep,ei=3395469782);let $=(en<<5|en>>>27)+ee+eu+ei+er[g]&4294967295;eu=ep,ep=eo,eo=(es<<30|es>>>2)&4294967295,es=en,en=$}this.chain_[0]=this.chain_[0]+en&4294967295,this.chain_[1]=this.chain_[1]+es&4294967295,this.chain_[2]=this.chain_[2]+eo&4294967295,this.chain_[3]=this.chain_[3]+ep&4294967295,this.chain_[4]=this.chain_[4]+eu&4294967295}update(g,$){if(null==g)return;void 0===$&&($=g.length);let ee=$-this.blockSize,ei=0,er=this.buf_,en=this.inbuf_;for(;ei<$;){if(0===en)for(;ei<=ee;)this.compress_(g,ei),ei+=this.blockSize;if("string"==typeof g){for(;ei<$;)if(er[en]=g.charCodeAt(ei),++en,++ei,en===this.blockSize){this.compress_(er),en=0;break}}else for(;ei<$;)if(er[en]=g[ei],++en,++ei,en===this.blockSize){this.compress_(er),en=0;break}}this.inbuf_=en,this.total_+=$}digest(){let g=[],$=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let g=this.blockSize-1;g>=56;g--)this.buf_[g]=255&$,$/=256;this.compress_(this.buf_);let ee=0;for(let $=0;$<5;$++)for(let ei=24;ei>=0;ei-=8)g[ee]=this.chain_[$]>>ei&255,++ee;return g}}function e4(g,$){let ee=new e3(g,$);return ee.subscribe.bind(ee)}class e3{constructor(g,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{g(this)}).catch(g=>{this.error(g)})}next(g){this.forEachObserver($=>{$.next(g)})}error(g){this.forEachObserver($=>{$.error(g)}),this.close(g)}complete(){this.forEachObserver(g=>{g.complete()}),this.close()}subscribe(g,$,ee){let ei;if(void 0===g&&void 0===$&&void 0===ee)throw Error("Missing Observer.");void 0===(ei=e9(g,["next","error","complete"])?g:{next:g,error:$,complete:ee}).next&&(ei.next=e5),void 0===ei.error&&(ei.error=e5),void 0===ei.complete&&(ei.complete=e5);let er=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ei.error(this.finalError):ei.complete()}catch(g){}}),this.observers.push(ei),er}unsubscribeOne(g){void 0!==this.observers&&void 0!==this.observers[g]&&(delete this.observers[g],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(g){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,g)}sendOne(g,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[g])try{$(this.observers[g])}catch(g){"undefined"!=typeof console&&console.error&&console.error(g)}})}close(g){this.finalized||(this.finalized=!0,void 0!==g&&(this.finalError=g),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e9(g,$){if("object"!=typeof g||null===g)return!1;for(let ee of $)if(ee in g&&"function"==typeof g[ee])return!0;return!1}function e5(){}function e8(g,$){return`${g} failed: ${$} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e7=function(g){let $=[],ee=0;for(let ei=0;ei<g.length;ei++){let en=g.charCodeAt(ei);if(en>=55296&&en<=56319){let $=en-55296;er(++ei<g.length,"Surrogate pair missing trail surrogate.");let ee=g.charCodeAt(ei)-56320;en=65536+($<<10)+ee}en<128?$[ee++]=en:(en<2048?$[ee++]=en>>6|192:(en<65536?$[ee++]=en>>12|224:($[ee++]=en>>18|240,$[ee++]=en>>12&63|128),$[ee++]=en>>6&63|128),$[ee++]=63&en|128)}return $},te=function(g){let $=0;for(let ee=0;ee<g.length;ee++){let ei=g.charCodeAt(ee);ei<128?$++:ei<2048?$+=2:ei>=55296&&ei<=56319?($+=4,ee++):$+=3}return $};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(g){return g&&g._delegate?g._delegate:g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.NODE_CLIENT=!0},72856:(g,$,ee)=>{"use strict";ee.d($,{ZF:()=>ei.ZF});var ei=ee(55087),er="firebase",en="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,ei.KN)(er,en,"app")},48241:(g,$,ee)=>{"use strict";ee.d($,{Xb:()=>iv,v0:()=>iR});var ei=ee(51780),er=ee(55087),en=function(g,$){return(en=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(g,$){g.__proto__=$}||function(g,$){for(var ee in $)Object.prototype.hasOwnProperty.call($,ee)&&(g[ee]=$[ee])})(g,$)},es=function(){return(es=Object.assign||function(g){for(var $,ee=1,ei=arguments.length;ee<ei;ee++)for(var er in $=arguments[ee])Object.prototype.hasOwnProperty.call($,er)&&(g[er]=$[er]);return g}).apply(this,arguments)};function eo(g,$){var ee={};for(var ei in g)Object.prototype.hasOwnProperty.call(g,ei)&&0>$.indexOf(ei)&&(ee[ei]=g[ei]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols)for(var er=0,ei=Object.getOwnPropertySymbols(g);er<ei.length;er++)0>$.indexOf(ei[er])&&Object.prototype.propertyIsEnumerable.call(g,ei[er])&&(ee[ei[er]]=g[ei[er]]);return ee}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var ep=ee(77345),eu=ee(17096),eh=ee(9292);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(g){return void 0!==g&&void 0!==g.enterprise}class ef{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function eg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let ev=eg,ey=new ei.LL("auth","Firebase",eg()),e_=new eh.Yd("@firebase/auth");function ew(g,...$){e_.logLevel<=eh.in.WARN&&e_.warn(`Auth (${er.Jn}): ${g}`,...$)}function eS(g,...$){e_.logLevel<=eh.in.ERROR&&e_.error(`Auth (${er.Jn}): ${g}`,...$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(g,...$){throw eI(g,...$)}function eC(g,...$){return eI(g,...$)}function eE(g,$,ee){let er=Object.assign(Object.assign({},ev()),{[$]:ee}),en=new ei.LL("auth","Firebase",er);return en.create($,{appName:g.name})}function eI(g,...$){if("string"!=typeof g){let ee=$[0],ei=[...$.slice(1)];return ei[0]&&(ei[0].appName=g.name),g._errorFactory.create(ee,...ei)}return ey.create(g,...$)}function eN(g,$,...ee){if(!g)throw eI($,...ee)}function eD(g){let $="INTERNAL ASSERTION FAILED: "+g;throw eS($),Error($)}function ek(g,$){g||eD($)}function eR(){return"http:"===eA()||"https:"===eA()}function eA(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(eR()||(0,ei.ru)()||"connection"in navigator))||navigator.onLine}function eP(){if("undefined"==typeof navigator)return null;let g=navigator;return g.languages&&g.languages[0]||g.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(g,$){this.shortDelay=g,this.longDelay=$,ek($>g,"Short delay should be less than long delay!"),this.isMobile=(0,ei.uI)()||(0,ei.b$)()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(g,$){ek(g.emulator,"Emulator should always be set here");let{url:ee}=g.emulator;return $?`${ee}${$.startsWith("/")?$.slice(1):$}`:ee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{static initialize(g,$,ee){this.fetchImpl=g,$&&(this.headersImpl=$),ee&&(this.responseImpl=ee)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void eD("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void eD("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void eD("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},eB=new eM(3e4,6e4);function eU(g,$){return g.tenantId&&!$.tenantId?Object.assign(Object.assign({},$),{tenantId:g.tenantId}):$}async function ej(g,$,ee,er,en={}){return eq(g,en,async()=>{let en={},es={};er&&("GET"===$?es=er:en={body:JSON.stringify(er)});let eo=(0,ei.xO)(Object.assign({key:g.config.apiKey},es)).slice(1),ep=await g._getAdditionalHeaders();return ep["Content-Type"]="application/json",g.languageCode&&(ep["X-Firebase-Locale"]=g.languageCode),eF.fetch()(eH(g,g.config.apiHost,ee,eo),Object.assign({method:$,headers:ep,referrerPolicy:"no-referrer"},en))})}async function eq(g,$,ee){g._canInitEmulator=!1;let er=Object.assign(Object.assign({},eV),$);try{let $=new e$(g),ei=await Promise.race([ee(),$.promise]);$.clearNetworkTimeout();let en=await ei.json();if("needConfirmation"in en)throw eW(g,"account-exists-with-different-credential",en);if(ei.ok&&!("errorMessage"in en))return en;{let $=ei.ok?en.errorMessage:en.error.message,[ee,es]=$.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ee)throw eW(g,"credential-already-in-use",en);if("EMAIL_EXISTS"===ee)throw eW(g,"email-already-in-use",en);if("USER_DISABLED"===ee)throw eW(g,"user-disabled",en);let eo=er[ee]||ee.toLowerCase().replace(/[_\s]+/g,"-");if(es)throw eE(g,eo,es);eT(g,eo)}}catch($){if($ instanceof ei.ZR)throw $;eT(g,"network-request-failed",{message:String($)})}}async function ez(g,$,ee,ei,er={}){let en=await ej(g,$,ee,ei,er);return"mfaPendingCredential"in en&&eT(g,"multi-factor-auth-required",{_serverResponse:en}),en}function eH(g,$,ee,ei){let er=`${$}${ee}?${ei}`;return g.config.emulator?eL(g.config,er):`${g.config.apiScheme}://${er}`}class e${constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((g,$)=>{this.timer=setTimeout(()=>$(eC(this.auth,"network-request-failed")),eB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function eW(g,$,ee){let ei={appName:g.name};ee.email&&(ei.email=ee.email),ee.phoneNumber&&(ei.phoneNumber=ee.phoneNumber);let er=eC(g,$,ei);return er.customData._tokenResponse=ee,er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eK(g,$){return ej(g,"GET","/v2/recaptchaConfig",eU(g,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(g,$){return ej(g,"POST","/v1/accounts:delete",$)}async function eQ(g,$){return ej(g,"POST","/v1/accounts:lookup",$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(g){if(g)try{let $=new Date(Number(g));if(!isNaN($.getTime()))return $.toUTCString()}catch(g){}}async function eJ(g,$=!1){let ee=(0,ei.m9)(g),er=await ee.getIdToken($),en=eZ(er);eN(en&&en.exp&&en.auth_time&&en.iat,ee.auth,"internal-error");let es="object"==typeof en.firebase?en.firebase:void 0,eo=null==es?void 0:es.sign_in_provider;return{claims:en,token:er,authTime:eY(eX(en.auth_time)),issuedAtTime:eY(eX(en.iat)),expirationTime:eY(eX(en.exp)),signInProvider:eo||null,signInSecondFactor:(null==es?void 0:es.sign_in_second_factor)||null}}function eX(g){return 1e3*Number(g)}function eZ(g){let[$,ee,er]=g.split(".");if(void 0===$||void 0===ee||void 0===er)return eS("JWT malformed, contained fewer than 3 sections"),null;try{let g=(0,ei.tV)(ee);if(!g)return eS("Failed to decode base64 JWT payload"),null;return JSON.parse(g)}catch(g){return eS("Caught error parsing JWT payload as JSON",null==g?void 0:g.toString()),null}}function e1(g){let $=eZ(g);return eN($,"internal-error"),eN(void 0!==$.exp,"internal-error"),eN(void 0!==$.iat,"internal-error"),Number($.exp)-Number($.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(g,$,ee=!1){if(ee)return $;try{return await $}catch($){throw $ instanceof ei.ZR&&e2($)&&g.auth.currentUser===g&&await g.auth.signOut(),$}}function e2({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var $;if(g){let g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;let g=null!==($=this.user.stsTokenManager.expirationTime)&&void 0!==$?$:0,ee=g-Date.now()-3e5;return Math.max(0,ee)}}schedule(g=!1){if(!this.isRunning)return;let $=this.getInterval(g);this.timerId=setTimeout(async()=>{await this.iteration()},$)}async iteration(){try{await this.user.getIdToken(!0)}catch(g){(null==g?void 0:g.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(g,$){this.createdAt=g,this.lastLoginAt=$,this._initializeTime()}_initializeTime(){this.lastSignInTime=eY(this.lastLoginAt),this.creationTime=eY(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(g){var $;let ee=g.auth,ei=await g.getIdToken(),er=await e0(g,eQ(ee,{idToken:ei}));eN(null==er?void 0:er.users.length,ee,"internal-error");let en=er.users[0];g._notifyReloadListener(en);let es=(null===($=en.providerUserInfo)||void 0===$?void 0:$.length)?e8(en.providerUserInfo):[],eo=e5(g.providerData,es),ep=g.isAnonymous,eu=!(g.email&&en.passwordHash)&&!(null==eo?void 0:eo.length),eh=!!ep&&eu,em={uid:en.localId,displayName:en.displayName||null,photoURL:en.photoUrl||null,email:en.email||null,emailVerified:en.emailVerified||!1,phoneNumber:en.phoneNumber||null,tenantId:en.tenantId||null,providerData:eo,metadata:new e4(en.createdAt,en.lastLoginAt),isAnonymous:eh};Object.assign(g,em)}async function e9(g){let $=(0,ei.m9)(g);await e3($),await $.auth._persistUserIfCurrent($),$.auth._notifyListenersIfCurrent($)}function e5(g,$){let ee=g.filter(g=>!$.some($=>$.providerId===g.providerId));return[...ee,...$]}function e8(g){return g.map(g=>{var{providerId:$}=g,ee=eo(g,["providerId"]);return{providerId:$,uid:ee.rawId||"",displayName:ee.displayName||null,email:ee.email||null,phoneNumber:ee.phoneNumber||null,photoURL:ee.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(g,$){let ee=await eq(g,{},async()=>{let ee=(0,ei.xO)({grant_type:"refresh_token",refresh_token:$}).slice(1),{tokenApiHost:er,apiKey:en}=g.config,es=eH(g,er,"/v1/token",`key=${en}`),eo=await g._getAdditionalHeaders();return eo["Content-Type"]="application/x-www-form-urlencoded",eF.fetch()(es,{method:"POST",headers:eo,body:ee})});return{accessToken:ee.access_token,expiresIn:ee.expires_in,refreshToken:ee.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){eN(g.idToken,"internal-error"),eN(void 0!==g.idToken,"internal-error"),eN(void 0!==g.refreshToken,"internal-error");let $="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):e1(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,$)}async getToken(g,$=!1){return(eN(!this.accessToken||this.refreshToken,g,"user-token-expired"),$||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(g,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(g,$){let{accessToken:ee,refreshToken:ei,expiresIn:er}=await e7(g,$);this.updateTokensAndExpiration(ee,ei,Number(er))}updateTokensAndExpiration(g,$,ee){this.refreshToken=$||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*ee}static fromJSON(g,$){let{refreshToken:ee,accessToken:ei,expirationTime:er}=$,en=new te;return ee&&(eN("string"==typeof ee,"internal-error",{appName:g}),en.refreshToken=ee),ei&&(eN("string"==typeof ei,"internal-error",{appName:g}),en.accessToken=ei),er&&(eN("number"==typeof er,"internal-error",{appName:g}),en.expirationTime=er),en}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return eD("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(g,$){eN("string"==typeof g||void 0===g,"internal-error",{appName:$})}class ti{constructor(g){var{uid:$,auth:ee,stsTokenManager:ei}=g,er=eo(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=$,this.auth=ee,this.stsTokenManager=ei,this.accessToken=ei.accessToken,this.displayName=er.displayName||null,this.email=er.email||null,this.emailVerified=er.emailVerified||!1,this.phoneNumber=er.phoneNumber||null,this.photoURL=er.photoURL||null,this.isAnonymous=er.isAnonymous||!1,this.tenantId=er.tenantId||null,this.providerData=er.providerData?[...er.providerData]:[],this.metadata=new e4(er.createdAt||void 0,er.lastLoginAt||void 0)}async getIdToken(g){let $=await e0(this,this.stsTokenManager.getToken(this.auth,g));return eN($,this.auth,"internal-error"),this.accessToken!==$&&(this.accessToken=$,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),$}getIdTokenResult(g){return eJ(this,g)}reload(){return e9(this)}_assign(g){this!==g&&(eN(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(g=>Object.assign({},g)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){let $=new ti(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return $.metadata._copy(this.metadata),$}_onReload(g){eN(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(g,$=!1){let ee=!1;g.idToken&&g.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(g),ee=!0),$&&await e3(this),await this.auth._persistUserIfCurrent(this),ee&&this.auth._notifyListenersIfCurrent(this)}async delete(){let g=await this.getIdToken();return await e0(this,eG(this.auth,{idToken:g})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,$){var ee,ei,er,en,es,eo,ep,eu;let eh=null!==(ee=$.displayName)&&void 0!==ee?ee:void 0,em=null!==(ei=$.email)&&void 0!==ei?ei:void 0,ef=null!==(er=$.phoneNumber)&&void 0!==er?er:void 0,eg=null!==(en=$.photoURL)&&void 0!==en?en:void 0,ev=null!==(es=$.tenantId)&&void 0!==es?es:void 0,ey=null!==(eo=$._redirectEventId)&&void 0!==eo?eo:void 0,e_=null!==(ep=$.createdAt)&&void 0!==ep?ep:void 0,ew=null!==(eu=$.lastLoginAt)&&void 0!==eu?eu:void 0,{uid:eS,emailVerified:eT,isAnonymous:eC,providerData:eE,stsTokenManager:eI}=$;eN(eS&&eI,g,"internal-error");let eD=te.fromJSON(this.name,eI);eN("string"==typeof eS,g,"internal-error"),tt(eh,g.name),tt(em,g.name),eN("boolean"==typeof eT,g,"internal-error"),eN("boolean"==typeof eC,g,"internal-error"),tt(ef,g.name),tt(eg,g.name),tt(ev,g.name),tt(ey,g.name),tt(e_,g.name),tt(ew,g.name);let ek=new ti({uid:eS,auth:g,email:em,emailVerified:eT,displayName:eh,isAnonymous:eC,photoURL:eg,phoneNumber:ef,tenantId:ev,stsTokenManager:eD,createdAt:e_,lastLoginAt:ew});return eE&&Array.isArray(eE)&&(ek.providerData=eE.map(g=>Object.assign({},g))),ey&&(ek._redirectEventId=ey),ek}static async _fromIdTokenResponse(g,$,ee=!1){let ei=new te;ei.updateFromServerResponse($);let er=new ti({uid:$.localId,auth:g,stsTokenManager:ei,isAnonymous:ee});return await e3(er),er}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tr=new Map;function ts(g){ek(g instanceof Function,"Expected a class definition");let $=tr.get(g);return $?ek($ instanceof g,"Instance stored in cache mismatched with class"):($=new g,tr.set(g,$)),$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(g,$){this.storage[g]=$}async _get(g){let $=this.storage[g];return void 0===$?null:$}async _remove(g){delete this.storage[g]}_addListener(g,$){}_removeListener(g,$){}}tl.type="NONE";let tp=tl;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(g,$,ee){return`firebase:${g}:${$}:${ee}`}class th{constructor(g,$,ee){this.persistence=g,this.auth=$,this.userKey=ee;let{config:ei,name:er}=this.auth;this.fullUserKey=tu(this.userKey,ei.apiKey,er),this.fullPersistenceKey=tu("persistence",ei.apiKey,er),this.boundEventHandler=$._onStorageEvent.bind($),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}async getCurrentUser(){let g=await this.persistence._get(this.fullUserKey);return g?ti._fromJSON(this.auth,g):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(g){if(this.persistence===g)return;let $=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=g,$)return this.setCurrentUser($)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(g,$,ee="authUser"){if(!$.length)return new th(ts(tp),g,ee);let ei=(await Promise.all($.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g),er=ei[0]||ts(tp),en=tu(ee,g.config.apiKey,g.name),es=null;for(let ee of $)try{let $=await ee._get(en);if($){let ei=ti._fromJSON(g,$);ee!==er&&(es=ei),er=ee;break}}catch(g){}let eo=ei.filter(g=>g._shouldAllowMigration);return er._shouldAllowMigration&&eo.length&&(er=eo[0],es&&await er._set(en,es.toJSON()),await Promise.all($.map(async g=>{if(g!==er)try{await g._remove(en)}catch(g){}}))),new th(er,g,ee)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(g){let $=g.toLowerCase();if($.includes("opera/")||$.includes("opr/")||$.includes("opios/"))return"Opera";if(ty($))return"IEMobile";if($.includes("msie")||$.includes("trident/"))return"IE";{if($.includes("edge/"))return"Edge";if(tf($))return"Firefox";if($.includes("silk/"))return"Silk";if(tw($))return"Blackberry";if(tS($))return"Webos";if(tg($))return"Safari";if(($.includes("chrome/")||tv($))&&!$.includes("edge/"))return"Chrome";if(t_($))return"Android";let ee=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,ei=g.match(ee);if((null==ei?void 0:ei.length)===2)return ei[1]}return"Other"}function tf(g=(0,ei.z$)()){return/firefox\//i.test(g)}function tg(g=(0,ei.z$)()){let $=g.toLowerCase();return $.includes("safari/")&&!$.includes("chrome/")&&!$.includes("crios/")&&!$.includes("android")}function tv(g=(0,ei.z$)()){return/crios\//i.test(g)}function ty(g=(0,ei.z$)()){return/iemobile/i.test(g)}function t_(g=(0,ei.z$)()){return/android/i.test(g)}function tw(g=(0,ei.z$)()){return/blackberry/i.test(g)}function tS(g=(0,ei.z$)()){return/webos/i.test(g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(g,$=[]){let ee;switch(g){case"Browser":ee=tm((0,ei.z$)());break;case"Worker":ee=`${tm((0,ei.z$)())}-${g}`;break;default:ee=g}let en=$.length?$.join(","):"FirebaseCore-web";return`${ee}/JsCore/${er.Jn}/${en}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,$){let ee=$=>new Promise((ee,ei)=>{try{let ei=g($);ee(ei)}catch(g){ei(g)}});ee.onAbort=$,this.queue.push(ee);let ei=this.queue.length-1;return()=>{this.queue[ei]=()=>Promise.resolve()}}async runMiddleware(g){if(this.auth.currentUser===g)return;let $=[];try{for(let ee of this.queue)await ee(g),ee.onAbort&&$.push(ee.onAbort)}catch(g){for(let g of($.reverse(),$))try{g()}catch(g){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==g?void 0:g.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(g,$={}){return ej(g,"GET","/v2/passwordPolicy",eU(g,$))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tI=6;class tN{constructor(g){var $,ee,ei,er;let en=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==($=en.minPasswordLength)&&void 0!==$?$:tI,en.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=en.maxPasswordLength),void 0!==en.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=en.containsLowercaseCharacter),void 0!==en.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=en.containsUppercaseCharacter),void 0!==en.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=en.containsNumericCharacter),void 0!==en.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=en.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ei=null===(ee=g.allowedNonAlphanumericCharacters)||void 0===ee?void 0:ee.join(""))&&void 0!==ei?ei:"",this.forceUpgradeOnSignin=null!==(er=g.forceUpgradeOnSignin)&&void 0!==er&&er,this.schemaVersion=g.schemaVersion}validatePassword(g){var $,ee,ei,er,en,es;let eo={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,eo),this.validatePasswordCharacterOptions(g,eo),eo.isValid&&(eo.isValid=null===($=eo.meetsMinPasswordLength)||void 0===$||$),eo.isValid&&(eo.isValid=null===(ee=eo.meetsMaxPasswordLength)||void 0===ee||ee),eo.isValid&&(eo.isValid=null===(ei=eo.containsLowercaseLetter)||void 0===ei||ei),eo.isValid&&(eo.isValid=null===(er=eo.containsUppercaseLetter)||void 0===er||er),eo.isValid&&(eo.isValid=null===(en=eo.containsNumericCharacter)||void 0===en||en),eo.isValid&&(eo.isValid=null===(es=eo.containsNonAlphanumericCharacter)||void 0===es||es),eo}validatePasswordLengthOptions(g,$){let ee=this.customStrengthOptions.minPasswordLength,ei=this.customStrengthOptions.maxPasswordLength;ee&&($.meetsMinPasswordLength=g.length>=ee),ei&&($.meetsMaxPasswordLength=g.length<=ei)}validatePasswordCharacterOptions(g,$){let ee;this.updatePasswordCharacterOptionsStatuses($,!1,!1,!1,!1);for(let ei=0;ei<g.length;ei++)ee=g.charAt(ei),this.updatePasswordCharacterOptionsStatuses($,ee>="a"&&ee<="z",ee>="A"&&ee<="Z",ee>="0"&&ee<="9",this.allowedNonAlphanumericCharacters.includes(ee))}updatePasswordCharacterOptionsStatuses(g,$,ee,ei,er){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=$)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=ee)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=ei)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=er))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(g,$,ee,ei){this.app=g,this.heartbeatServiceProvider=$,this.appCheckServiceProvider=ee,this.config=ei,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tR(this),this.idTokenSubscription=new tR(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ey,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=ei.sdkClientVersion}_initializeWithPersistence(g,$){return $&&(this._popupRedirectResolver=ts($)),this._initializationPromise=this.queue(async()=>{var ee,ei;if(!this._deleted&&(this.persistenceManager=await th.create(this,g),!this._deleted)){if(null===(ee=this._popupRedirectResolver)||void 0===ee?void 0:ee._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(g){}await this.initializeCurrentUser($),this.lastNotifiedUid=(null===(ei=this.currentUser)||void 0===ei?void 0:ei.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let g=await this.assertedPersistence.getCurrentUser();if(this.currentUser||g){if(this.currentUser&&g&&this.currentUser.uid===g.uid){this._currentUser._assign(g),await this.currentUser.getIdToken();return}await this._updateCurrentUser(g,!0)}}async initializeCurrentUser(g){var $;let ee=await this.assertedPersistence.getCurrentUser(),ei=ee,er=!1;if(g&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let ee=null===($=this.redirectUser)||void 0===$?void 0:$._redirectEventId,en=null==ei?void 0:ei._redirectEventId,es=await this.tryRedirectSignIn(g);(!ee||ee===en)&&(null==es?void 0:es.user)&&(ei=es.user,er=!0)}if(!ei)return this.directlySetCurrentUser(null);if(!ei._redirectEventId){if(er)try{await this.beforeStateQueue.runMiddleware(ei)}catch(g){ei=ee,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(g))}return ei?this.reloadAndSetCurrentUserOrClear(ei):this.directlySetCurrentUser(null)}return(eN(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===ei._redirectEventId)?this.directlySetCurrentUser(ei):this.reloadAndSetCurrentUserOrClear(ei)}async tryRedirectSignIn(g){let $=null;try{$=await this._popupRedirectResolver._completeRedirectFn(this,g,!0)}catch(g){await this._setRedirectUser(null)}return $}async reloadAndSetCurrentUserOrClear(g){try{await e3(g)}catch(g){if((null==g?void 0:g.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(g)}useDeviceLanguage(){this.languageCode=eP()}async _delete(){this._deleted=!0}async updateCurrentUser(g){let $=g?(0,ei.m9)(g):null;return $&&eN($.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser($&&$._clone(this))}async _updateCurrentUser(g,$=!1){if(!this._deleted)return g&&eN(this.tenantId===g.tenantId,this,"tenant-id-mismatch"),$||await this.beforeStateQueue.runMiddleware(g),this.queue(async()=>{await this.directlySetCurrentUser(g),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(g){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(g))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(g){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let $=this._getPasswordPolicyInternal();return $.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):$.validatePassword(g)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let g=await tE(this),$=new tN(g);null===this.tenantId?this._projectPasswordPolicy=$:this._tenantPasswordPolicies[this.tenantId]=$}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ei.LL("auth","Firebase",g())}onAuthStateChanged(g,$,ee){return this.registerStateListener(this.authStateSubscription,g,$,ee)}beforeAuthStateChanged(g,$){return this.beforeStateQueue.pushCallback(g,$)}onIdTokenChanged(g,$,ee){return this.registerStateListener(this.idTokenSubscription,g,$,ee)}authStateReady(){return new Promise((g,$)=>{if(this.currentUser)g();else{let ee=this.onAuthStateChanged(()=>{ee(),g()},$)}})}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}async _setRedirectUser(g,$){let ee=await this.getOrInitRedirectPersistenceManager($);return null===g?ee.removeCurrentUser():ee.setCurrentUser(g)}async getOrInitRedirectPersistenceManager(g){if(!this.redirectPersistenceManager){let $=g&&ts(g)||this._popupRedirectResolver;eN($,this,"argument-error"),this.redirectPersistenceManager=await th.create(this,[ts($._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(g){var $,ee;return(this._isInitialized&&await this.queue(async()=>{}),(null===($=this._currentUser)||void 0===$?void 0:$._redirectEventId)===g)?this._currentUser:(null===(ee=this.redirectUser)||void 0===ee?void 0:ee._redirectEventId)===g?this.redirectUser:null}async _persistUserIfCurrent(g){if(g===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(g))}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,$;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let ee=null!==($=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==$?$:null;this.lastNotifiedUid!==ee&&(this.lastNotifiedUid=ee,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,$,ee,ei){if(this._deleted)return()=>{};let er="function"==typeof $?$:$.next.bind($),en=!1,es=this._isInitialized?Promise.resolve():this._initializationPromise;if(eN(es,this,"internal-error"),es.then(()=>{en||er(this.currentUser)}),"function"==typeof $){let er=g.addObserver($,ee,ei);return()=>{en=!0,er()}}{let ee=g.addObserver($);return()=>{en=!0,ee()}}}async directlySetCurrentUser(g){this.currentUser&&this.currentUser!==g&&this._currentUser._stopProactiveRefresh(),g&&this.isProactiveRefreshEnabled&&g._startProactiveRefresh(),this.currentUser=g,g?await this.assertedPersistence.setCurrentUser(g):await this.assertedPersistence.removeCurrentUser()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return eN(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var g;let $={"X-Client-Version":this.clientVersion};this.app.options.appId&&($["X-Firebase-gmpid"]=this.app.options.appId);let ee=await (null===(g=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader());ee&&($["X-Firebase-Client"]=ee);let ei=await this._getAppCheckToken();return ei&&($["X-Firebase-AppCheck"]=ei),$}async _getAppCheckToken(){var g;let $=await (null===(g=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken());return(null==$?void 0:$.error)&&ew(`Error while retrieving App Check token: ${$.error}`),null==$?void 0:$.token}}function tk(g){return(0,ei.m9)(g)}class tR{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ei.ne)(g=>this.observer=g)}get next(){return eN(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){var g,$;return null!==($=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==$?$:document}function tO(g){return new Promise(($,ee)=>{let ei=document.createElement("script");ei.setAttribute("src",g),ei.onload=$,ei.onerror=g=>{let $=eC("internal-error");$.customData=g,ee($)},ei.type="text/javascript",ei.charset="UTF-8",tA().appendChild(ei)})}let tP="https://www.google.com/recaptcha/enterprise.js?render=",tM="recaptcha-enterprise",tL="NO_RECAPTCHA";class tF{constructor(g){this.type=tM,this.auth=tk(g)}async verify(g="verify",$=!1){async function ee(g){if(!$){if(null==g.tenantId&&null!=g._agentRecaptchaConfig)return g._agentRecaptchaConfig.siteKey;if(null!=g.tenantId&&void 0!==g._tenantRecaptchaConfigs[g.tenantId])return g._tenantRecaptchaConfigs[g.tenantId].siteKey}return new Promise(async($,ee)=>{eK(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ei=>{if(void 0===ei.recaptchaKey)ee(Error("recaptcha Enterprise site key undefined"));else{let ee=new ef(ei);return null==g.tenantId?g._agentRecaptchaConfig=ee:g._tenantRecaptchaConfigs[g.tenantId]=ee,$(ee.siteKey)}}).catch(g=>{ee(g)})})}function ei($,ee,ei){let er=window.grecaptcha;em(er)?er.enterprise.ready(()=>{er.enterprise.execute($,{action:g}).then(g=>{ee(g)}).catch(()=>{ee(tL)})}):ei(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((g,er)=>{ee(this.auth).then(ee=>{if(!$&&em(window.grecaptcha))ei(ee,g,er);else{if("undefined"==typeof window){er(Error("RecaptchaVerifier is only supported in browser"));return}tO(tP+ee).then(()=>{ei(ee,g,er)}).catch(g=>{er(g)})}}).catch(g=>{er(g)})})}}async function tV(g,$,ee,ei=!1){let er;let en=new tF(g);try{er=await en.verify(ee)}catch(g){er=await en.verify(ee,!0)}let es=Object.assign({},$);return ei?Object.assign(es,{captchaResp:er}):Object.assign(es,{captchaResponse:er}),Object.assign(es,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(es,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),es}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(g,$){let ee=(0,er.qX)(g,"auth");if(ee.isInitialized()){let g=ee.getImmediate(),er=ee.getOptions();if((0,ei.vZ)(er,null!=$?$:{}))return g;eT(g,"already-initialized")}let en=ee.initialize({options:$});return en}function tU(g,$){let ee=(null==$?void 0:$.persistence)||[],ei=(Array.isArray(ee)?ee:[ee]).map(ts);(null==$?void 0:$.errorMap)&&g._updateErrorMap($.errorMap),g._initializeWithPersistence(ei,null==$?void 0:$.popupRedirectResolver)}function tj(g,$,ee){let ei=tk(g);eN(ei._canInitEmulator,ei,"emulator-config-failed"),eN(/^https?:\/\//.test($),ei,"invalid-emulator-scheme");let er=!!(null==ee?void 0:ee.disableWarnings),en=tq($),{host:es,port:eo}=tz($),ep=null===eo?"":`:${eo}`;ei.config.emulator={url:`${en}//${es}${ep}/`},ei.settings.appVerificationDisabledForTesting=!0,ei.emulatorConfig=Object.freeze({host:es,port:eo,protocol:en.replace(":",""),options:Object.freeze({disableWarnings:er})}),er||t$()}function tq(g){let $=g.indexOf(":");return $<0?"":g.substr(0,$+1)}function tz(g){let $=tq(g),ee=/(\/\/)?([^?#/]+)/.exec(g.substr($.length));if(!ee)return{host:"",port:null};let ei=ee[2].split("@").pop()||"",er=/^(\[[^\]]+\])(:|$)/.exec(ei);if(er){let g=er[1];return{host:g,port:tH(ei.substr(g.length+1))}}{let[g,$]=ei.split(":");return{host:g,port:tH($)}}}function tH(g){if(!g)return null;let $=Number(g);return isNaN($)?null:$}function t$(){function g(){let g=document.createElement("p"),$=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",$.position="fixed",$.width="100%",$.backgroundColor="#ffffff",$.border=".1em solid #000000",$.color="#b50000",$.bottom="0px",$.left="0px",$.margin="0px",$.zIndex="10000",$.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(g,$){this.providerId=g,this.signInMethod=$}toJSON(){return eD("not implemented")}_getIdTokenResponse(g){return eD("not implemented")}_linkToIdToken(g,$){return eD("not implemented")}_getReauthenticationResolver(g){return eD("not implemented")}}async function tK(g,$){return ej(g,"POST","/v1/accounts:update",$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(g,$){return ez(g,"POST","/v1/accounts:signInWithPassword",eU(g,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tQ(g,$){return ez(g,"POST","/v1/accounts:signInWithEmailLink",eU(g,$))}async function tY(g,$){return ez(g,"POST","/v1/accounts:signInWithEmailLink",eU(g,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ extends tW{constructor(g,$,ee,ei=null){super("password",ee),this._email=g,this._password=$,this._tenantId=ei}static _fromEmailAndPassword(g,$){return new tJ(g,$,"password")}static _fromEmailAndCode(g,$,ee=null){return new tJ(g,$,"emailLink",ee)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){let $="string"==typeof g?JSON.parse(g):g;if((null==$?void 0:$.email)&&(null==$?void 0:$.password)){if("password"===$.signInMethod)return this._fromEmailAndPassword($.email,$.password);if("emailLink"===$.signInMethod)return this._fromEmailAndCode($.email,$.password,$.tenantId)}return null}async _getIdTokenResponse(g){var $;switch(this.signInMethod){case"password":let ee={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===($=g._getRecaptchaConfig())||void 0===$||!$.emailPasswordEnabled)return tG(g,ee).catch(async $=>{if("auth/missing-recaptcha-token"!==$.code)return Promise.reject($);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let $=await tV(g,ee,"signInWithPassword");return tG(g,$)}});{let $=await tV(g,ee,"signInWithPassword");return tG(g,$)}case"emailLink":return tQ(g,{email:this._email,oobCode:this._password});default:eT(g,"internal-error")}}async _linkToIdToken(g,$){switch(this.signInMethod){case"password":return tK(g,{idToken:$,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return tY(g,{idToken:$,email:this._email,oobCode:this._password});default:eT(g,"internal-error")}}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(g,$){return ez(g,"POST","/v1/accounts:signInWithIdp",eU(g,$))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tZ="http://localhost";class t1 extends tW{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){let $=new t1(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&($.idToken=g.idToken),g.accessToken&&($.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&($.nonce=g.nonce),g.pendingToken&&($.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?($.accessToken=g.oauthToken,$.secret=g.oauthTokenSecret):eT("argument-error"),$}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){let $="string"==typeof g?JSON.parse(g):g,{providerId:ee,signInMethod:ei}=$,er=eo($,["providerId","signInMethod"]);if(!ee||!ei)return null;let en=new t1(ee,ei);return en.idToken=er.idToken||void 0,en.accessToken=er.accessToken||void 0,en.secret=er.secret,en.nonce=er.nonce,en.pendingToken=er.pendingToken||null,en}_getIdTokenResponse(g){let $=this.buildRequest();return tX(g,$)}_linkToIdToken(g,$){let ee=this.buildRequest();return ee.idToken=$,tX(g,ee)}_getReauthenticationResolver(g){let $=this.buildRequest();return $.autoCreate=!1,tX(g,$)}buildRequest(){let g={requestUri:tZ,returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{let $={};this.idToken&&($.id_token=this.idToken),this.accessToken&&($.access_token=this.accessToken),this.secret&&($.oauth_token_secret=this.secret),$.providerId=this.providerId,this.nonce&&!this.pendingToken&&($.nonce=this.nonce),g.postBody=(0,ei.xO)($)}return g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t2(g){let $=(0,ei.zd)((0,ei.pd)(g)).link,ee=$?(0,ei.zd)((0,ei.pd)($)).deep_link_id:null,er=(0,ei.zd)((0,ei.pd)(g)).deep_link_id,en=er?(0,ei.zd)((0,ei.pd)(er)).link:null;return en||er||ee||$||g}class t6{constructor(g){var $,ee,er,en,es,eo;let ep=(0,ei.zd)((0,ei.pd)(g)),eu=null!==($=ep.apiKey)&&void 0!==$?$:null,eh=null!==(ee=ep.oobCode)&&void 0!==ee?ee:null,em=t0(null!==(er=ep.mode)&&void 0!==er?er:null);eN(eu&&eh&&em,"argument-error"),this.apiKey=eu,this.operation=em,this.code=eh,this.continueUrl=null!==(en=ep.continueUrl)&&void 0!==en?en:null,this.languageCode=null!==(es=ep.languageCode)&&void 0!==es?es:null,this.tenantId=null!==(eo=ep.tenantId)&&void 0!==eo?eo:null}static parseLink(g){let $=t2(g);try{return new t6($)}catch(g){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.providerId=t4.PROVIDER_ID}static credential(g,$){return tJ._fromEmailAndPassword(g,$)}static credentialWithLink(g,$){let ee=t6.parseLink($);return eN(ee,"argument-error"),tJ._fromEmailAndCode(g,ee.code,ee.tenantId)}}t4.PROVIDER_ID="password",t4.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t4.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9 extends t3{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends t9{constructor(){super("facebook.com")}static credential(g){return t1._fromParams({providerId:t5.PROVIDER_ID,signInMethod:t5.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return t5.credentialFromTaggedObject(g)}static credentialFromError(g){return t5.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return t5.credential(g.oauthAccessToken)}catch(g){return null}}}t5.FACEBOOK_SIGN_IN_METHOD="facebook.com",t5.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8 extends t9{constructor(){super("google.com"),this.addScope("profile")}static credential(g,$){return t1._fromParams({providerId:t8.PROVIDER_ID,signInMethod:t8.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:$})}static credentialFromResult(g){return t8.credentialFromTaggedObject(g)}static credentialFromError(g){return t8.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;let{oauthIdToken:$,oauthAccessToken:ee}=g;if(!$&&!ee)return null;try{return t8.credential($,ee)}catch(g){return null}}}t8.GOOGLE_SIGN_IN_METHOD="google.com",t8.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7 extends t9{constructor(){super("github.com")}static credential(g){return t1._fromParams({providerId:t7.PROVIDER_ID,signInMethod:t7.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return t7.credentialFromTaggedObject(g)}static credentialFromError(g){return t7.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return t7.credential(g.oauthAccessToken)}catch(g){return null}}}t7.GITHUB_SIGN_IN_METHOD="github.com",t7.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie extends t9{constructor(){super("twitter.com")}static credential(g,$){return t1._fromParams({providerId:ie.PROVIDER_ID,signInMethod:ie.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:$})}static credentialFromResult(g){return ie.credentialFromTaggedObject(g)}static credentialFromError(g){return ie.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;let{oauthAccessToken:$,oauthTokenSecret:ee}=g;if(!$||!ee)return null;try{return ie.credential($,ee)}catch(g){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(g,$){return ez(g,"POST","/v1/accounts:signUp",eU(g,$))}ie.TWITTER_SIGN_IN_METHOD="twitter.com",ie.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static async _fromIdTokenResponse(g,$,ee,ei=!1){let er=await ti._fromIdTokenResponse(g,ee,ei),en=is(ee),es=new ir({user:er,providerId:en,_tokenResponse:ee,operationType:$});return es}static async _forOperation(g,$,ee){await g._updateTokensIfNecessary(ee,!0);let ei=is(ee);return new ir({user:g,providerId:ei,_tokenResponse:ee,operationType:$})}}function is(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends null{constructor(g,$,ee,ei){var er;super($.code,$.message),this.operationType=ee,this.user=ei,Object.setPrototypeOf(this,il.prototype),this.customData={appName:g.name,tenantId:null!==(er=g.tenantId)&&void 0!==er?er:void 0,_serverResponse:$.customData._serverResponse,operationType:ee}}static _fromErrorAndOperation(g,$,ee,ei){return new il(g,$,ee,ei)}}function ip(g,$,ee,ei){let er="reauthenticate"===$?ee._getReauthenticationResolver(g):ee._getIdTokenResponse(g);return er.catch(ee=>{if("auth/multi-factor-auth-required"===ee.code)throw il._fromErrorAndOperation(g,ee,$,ei);throw ee})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(g,$){this.factorId=g,this.uid=$.mfaEnrollmentId,this.enrollmentTime=new Date($.enrolledAt).toUTCString(),this.displayName=$.displayName}static _fromServerResponse(g,$){return"phoneInfo"in $?ih._fromServerResponse(g,$):"totpInfo"in $?im._fromServerResponse(g,$):eT(g,"internal-error")}}class ih extends null{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,$){return new ih($)}}class im extends null{constructor(g){super("totp",g)}static _fromServerResponse(g,$){return new im($)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(g){let $=tk(g);$._getPasswordPolicyInternal()&&await $._updatePasswordPolicy()}async function iv(g,$,ee){var ei;let er;let en=tk(g),es={returnSecureToken:!0,email:$,password:ee,clientType:"CLIENT_TYPE_WEB"};if(null===(ei=en._getRecaptchaConfig())||void 0===ei?void 0:ei.emailPasswordEnabled){let g=await tV(en,es,"signUpPassword");er=ii(en,g)}else er=ii(en,es).catch(async g=>{if("auth/missing-recaptcha-token"===g.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");let g=await tV(en,es,"signUpPassword");return ii(en,g)}throw g});let eo=await er.catch($=>{throw"auth/password-does-not-meet-requirements"===$.code&&ig(g),$}),ep=await ir._fromIdTokenResponse(en,"signIn",eo);return await en._updateCurrentUser(ep.user),ep}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(g,$,ee){this.type=g,this.credential=$,this.user=ee}static _fromIdtoken(g,$){return new iy("enroll",g,$)}static _fromMfaPendingCredential(g){return new iy("signin",g)}toJSON(){let g="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[g]:this.credential}}}static fromJSON(g){var $,ee;if(null==g?void 0:g.multiFactorSession){if(null===($=g.multiFactorSession)||void 0===$?void 0:$.pendingCredential)return iy._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(ee=g.multiFactorSession)||void 0===ee?void 0:ee.idToken)return iy._fromIdtoken(g.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(g,$,ee){this.session=g,this.hints=$,this.signInResolver=ee}static _fromError(g,$){let ee=tk(g),ei=$.customData._serverResponse,er=(ei.mfaInfo||[]).map(g=>iu._fromServerResponse(ee,g));eN(ei.mfaPendingCredential,ee,"internal-error");let en=iy._fromMfaPendingCredential(ei.mfaPendingCredential);return new i_(en,er,async g=>{let er=await g._process(ee,en);delete ei.mfaInfo,delete ei.mfaPendingCredential;let es=Object.assign(Object.assign({},ei),{idToken:er.idToken,refreshToken:er.refreshToken});switch($.operationType){case"signIn":let eo=await ir._fromIdTokenResponse(ee,$.operationType,es);return await ee._updateCurrentUser(eo.user),eo;case"reauthenticate":return eN($.user,ee,"internal-error"),ir._forOperation($.user,$.operationType,es);default:eT(ee,"internal-error")}})}async resolveSignIn(g){let $=g;return this.signInResolver($)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(g,$){return ej(g,"POST","/v2/accounts/mfaEnrollment:start",eU(g,$))}function iS(g,$){return ej(g,"POST","/v2/accounts/mfaEnrollment:finalize",eU(g,$))}function iT(g,$){return ej(g,"POST","/v2/accounts/mfaEnrollment:withdraw",eU(g,$))}class iC{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload($=>{$.mfaInfo&&(this.enrolledFactors=$.mfaInfo.map($=>iu._fromServerResponse(g.auth,$)))})}static _fromUser(g){return new iC(g)}async getSession(){return iy._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(g,$){let ee=g,ei=await this.getSession(),er=await e0(this.user,ee._process(this.user.auth,ei,$));return await this.user._updateTokensIfNecessary(er),this.user.reload()}async unenroll(g){let $="string"==typeof g?g:g.uid,ee=await this.user.getIdToken();try{let g=await e0(this.user,iT(this.user.auth,{idToken:ee,mfaEnrollmentId:$}));this.enrolledFactors=this.enrolledFactors.filter(({uid:g})=>g!==$),await this.user._updateTokensIfNecessary(g),await this.user.reload()}catch(g){throw g}}}new WeakMap;var iE="@firebase/auth",iI="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}async getToken(g){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let $=await this.auth.currentUser.getIdToken(g);return{accessToken:$}}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;let $=this.auth.onIdTokenChanged($=>{g((null==$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,$),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();let $=this.internalListeners.get(g);$&&(this.internalListeners.delete(g),$(),this.updateProactiveRefresh())}assertAuthConfigured(){eN(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ik(g){(0,er.Xd)(new ep.wA("auth",($,{options:ee})=>{let ei=$.getProvider("app").getImmediate(),er=$.getProvider("heartbeat"),en=$.getProvider("app-check-internal"),{apiKey:es,authDomain:eo}=ei.options;eN(es&&!es.includes(":"),"invalid-api-key",{appName:ei.name});let ep={apiKey:es,authDomain:eo,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(g)},eu=new tD(ei,er,en,ep);return tU(eu,ee),eu},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,$,ee)=>{let ei=g.getProvider("auth-internal");ei.initialize()})),(0,er.Xd)(new ep.wA("auth-internal",g=>{var $;let ee=tk(g.getProvider("auth").getImmediate());return $=ee,new iN($)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,er.KN)(iE,iI,iD(g)),(0,er.KN)(iE,iI,"esm2017")}function iR(g=(0,er.Mq)()){let $=(0,er.qX)(g,"auth");if($.isInitialized())return $.getImmediate();let ee=tB(g),en=(0,ei.q4)("auth");return en&&tj(ee,`http://${en}`),ee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(g,$){return ej(g,"POST","/v2/accounts/mfaSignIn:finalize",eU(g,$))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eF.initialize(eu,eu.Headers,eu.Response),ik("Node"),eC("operation-not-supported-in-this-environment"),tD.prototype.setPersistence=async()=>{};class iO{constructor(g){this.factorId=g}_process(g,$,ee){switch($.type){case"enroll":return this._finalizeEnroll(g,$.credential,ee);case"signin":return this._finalizeSignIn(g,$.credential);default:return eD("unexpected MultiFactorSessionType")}}}class ix{static assertionForEnrollment(g,$){return iP._fromSecret(g,$)}static assertionForSignIn(g,$){return iP._fromEnrollmentId(g,$)}static async generateSecret(g){var $;let ee=g;eN(void 0!==(null===($=ee.user)||void 0===$?void 0:$.auth),"internal-error");let ei=await iw(ee.user.auth,{idToken:ee.credential,totpEnrollmentInfo:{}});return iM._fromStartTotpMfaEnrollmentResponse(ei,ee.user.auth)}}ix.FACTOR_ID="totp";class iP extends iO{constructor(g,$,ee){super("totp"),this.otp=g,this.enrollmentId=$,this.secret=ee}static _fromSecret(g,$){return new iP($,void 0,g)}static _fromEnrollmentId(g,$){return new iP($,g)}async _finalizeEnroll(g,$,ee){return eN(void 0!==this.secret,g,"argument-error"),iS(g,{idToken:$,displayName:ee,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(g,$){eN(void 0!==this.enrollmentId&&void 0!==this.otp,g,"argument-error");let ee={verificationCode:this.otp};return iA(g,{mfaPendingCredential:$,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:ee})}}class iM{constructor(g,$,ee,ei,er,en,es){this.sessionInfo=en,this.auth=es,this.secretKey=g,this.hashingAlgorithm=$,this.codeLength=ee,this.codeIntervalSeconds=ei,this.enrollmentCompletionDeadline=er}static _fromStartTotpMfaEnrollmentResponse(g,$){return new iM(g.totpSessionInfo.sharedSecretKey,g.totpSessionInfo.hashingAlgorithm,g.totpSessionInfo.verificationCodeLength,g.totpSessionInfo.periodSec,new Date(g.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),g.totpSessionInfo.sessionInfo,$)}_makeTotpVerificationInfo(g){return{sessionInfo:this.sessionInfo,verificationCode:g}}generateQrCodeUrl(g,$){var ee;let ei=!1;return(iL(g)||iL($))&&(ei=!0),ei&&(iL(g)&&(g=(null===(ee=this.auth.currentUser)||void 0===ee?void 0:ee.email)||"unknownuser"),iL($)&&($=this.auth.name)),`otpauth://totp/${$}:${g}?secret=${this.secretKey}&issuer=${$}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function iL(g){return void 0===g||(null==g?void 0:g.length)===0}},79512:(g,$,ee)=>{"use strict";let ei,er,en,es,eo,ep,eu,eh,em,ef;ee.d($,{N8:()=>oB,jM:()=>oR,iH:()=>oE});var eg,ev=ee(11955),ey=ee(51780),e_=ee(9292),ew=ee(55087),eS=ee(77345);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT="5",eC="v",eE="s",eI="r",eN="f",eD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ek="ls",eR="p",eA="ac",eO="websocket",eP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(g){this.domStorage_=g,this.prefix_="firebase:"}set(g,$){null==$?this.domStorage_.removeItem(this.prefixedName_(g)):this.domStorage_.setItem(this.prefixedName_(g),(0,ey.Wl)($))}get(g){let $=this.domStorage_.getItem(this.prefixedName_(g));return null==$?null:(0,ey.cI)($)}remove(g){this.domStorage_.removeItem(this.prefixedName_(g))}prefixedName_(g){return this.prefix_+g}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(g,$){null==$?delete this.cache_[g]:this.cache_[g]=$}get(g){return(0,ey.r3)(this.cache_,g)?this.cache_[g]:null}remove(g){delete this.cache_[g]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eF=function(g){try{if("undefined"!=typeof window&&void 0!==window[g]){let $=window[g];return $.setItem("firebase:sentinel","cache"),$.removeItem("firebase:sentinel"),new eM($)}}catch(g){}return new eL},eV=eF("localStorage"),eB=eF("sessionStorage"),eU=new e_.Yd("@firebase/database"),ej=function(){let g=1;return function(){return g++}}(),eq=function(g){let $=(0,ey.dS)(g),ee=new ey.gQ;ee.update($);let ei=ee.digest();return ey.US.encodeByteArray(ei)},ez=function(...g){let $="";for(let ee=0;ee<g.length;ee++){let ei=g[ee];Array.isArray(ei)||ei&&"object"==typeof ei&&"number"==typeof ei.length?$+=ez.apply(null,ei):"object"==typeof ei?$+=(0,ey.Wl)(ei):$+=ei,$+=" "}return $},eH=null,e$=!0,eW=function(g,$){(0,ey.hu)(!$||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(eU.logLevel=e_.in.VERBOSE,eH=eU.log.bind(eU),$&&eB.set("logging_enabled",!0)):"function"==typeof g?eH=g:(eH=null,eB.remove("logging_enabled"))},eK=function(...g){if(!0===e$&&(e$=!1,null===eH&&!0===eB.get("logging_enabled")&&eW(!0)),eH){let $=ez.apply(null,g);eH($)}},eG=function(g){return function(...$){eK(g,...$)}},eQ=function(...g){let $="FIREBASE INTERNAL ERROR: "+ez(...g);eU.error($)},eY=function(...g){let $=`FIREBASE FATAL ERROR: ${ez(...g)}`;throw eU.error($),Error($)},eJ=function(...g){let $="FIREBASE WARNING: "+ez(...g);eU.warn($)},eX=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&eJ("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eZ=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},e1=function(g){if((0,ey.Yr)()||"complete"===document.readyState)g();else{let $=!1,ee=function(){if(!document.body){setTimeout(ee,Math.floor(10));return}$||($=!0,g())};document.addEventListener?(document.addEventListener("DOMContentLoaded",ee,!1),window.addEventListener("load",ee,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&ee()}),window.attachEvent("onload",ee))}},e0="[MIN_NAME]",e2="[MAX_NAME]",e6=function(g,$){if(g===$)return 0;if(g===e0||$===e2)return -1;if($===e0||g===e2)return 1;{let ee=tp(g),ei=tp($);return null!==ee?null!==ei?ee-ei==0?g.length-$.length:ee-ei:-1:null!==ei?1:g<$?-1:1}},e4=function(g,$){return g===$?0:g<$?-1:1},e3=function(g,$){if($&&g in $)return $[g];throw Error("Missing required key ("+g+") in object: "+(0,ey.Wl)($))},e9=function(g){if("object"!=typeof g||null===g)return(0,ey.Wl)(g);let $=[];for(let ee in g)$.push(ee);$.sort();let ee="{";for(let ei=0;ei<$.length;ei++)0!==ei&&(ee+=","),ee+=(0,ey.Wl)($[ei])+":"+e9(g[$[ei]]);return ee+"}"},e5=function(g,$){let ee=g.length;if(ee<=$)return[g];let ei=[];for(let er=0;er<ee;er+=$)er+$>ee?ei.push(g.substring(er,ee)):ei.push(g.substring(er,er+$));return ei};function e8(g,$){for(let ee in g)g.hasOwnProperty(ee)&&$(ee,g[ee])}let e7=function(g){let $,ee,ei,er,en;(0,ey.hu)(!eZ(g),"Invalid JSON number");let es=11,eo=52,ep=(1<<es-1)-1;0===g?(ee=0,ei=0,$=1/g==-1/0?1:0):($=g<0,(g=Math.abs(g))>=Math.pow(2,1-ep)?(ee=(er=Math.min(Math.floor(Math.log(g)/Math.LN2),ep))+ep,ei=Math.round(g*Math.pow(2,eo-er)-Math.pow(2,eo))):(ee=0,ei=Math.round(g/Math.pow(2,1-ep-eo))));let eu=[];for(en=eo;en;en-=1)eu.push(ei%2?1:0),ei=Math.floor(ei/2);for(en=es;en;en-=1)eu.push(ee%2?1:0),ee=Math.floor(ee/2);eu.push($?1:0),eu.reverse();let eh=eu.join(""),em="";for(en=0;en<64;en+=8){let g=parseInt(eh.substr(en,8),2).toString(16);1===g.length&&(g="0"+g),em+=g}return em.toLowerCase()},te=function(){return!!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tt=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI};function ti(g,$){let ee="Unknown Error";"too_big"===g?ee="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?ee="Client doesn't have permission to access the desired data.":"unavailable"===g&&(ee="The service is unavailable");let ei=Error(g+" at "+$._path.toString()+": "+ee);return ei.code=g.toUpperCase(),ei}let tr=RegExp("^-?(0*)\\d{1,10}$"),ts=-2147483648,tl=2147483647,tp=function(g){if(tr.test(g)){let $=Number(g);if($>=ts&&$<=tl)return $}return null},tu=function(g){try{g()}catch(g){setTimeout(()=>{let $=g.stack||"";throw eJ("Exception was thrown by user callback.",$),g},Math.floor(0))}},th=function(){let g="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return g.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tm=function(g,$){let ee=setTimeout(g,$);return"number"==typeof ee&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(ee):"object"==typeof ee&&ee.unref&&ee.unref(),ee};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(g,$,ee,ei,er=!1,en="",es=!1,eo=!1){this.secure=$,this.namespace=ee,this.webSocketOnly=ei,this.nodeAdmin=er,this.persistenceKey=en,this.includeNamespaceInQueryParams=es,this.isUsingEmulator=eo,this._host=g.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eV.get("host:"+g)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(g){g!==this.internalHost&&(this.internalHost=g,this.isCacheableHost()&&eV.set("host:"+this._host,this.internalHost))}toString(){let g=this.toURLString();return this.persistenceKey&&(g+="<"+this.persistenceKey+">"),g}toURLString(){let g=this.secure?"https://":"http://",$=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${g}${this.host}/${$}`}}function tg(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams}function tv(g,$,ee){let ei;if((0,ey.hu)("string"==typeof $,"typeof type must == string"),(0,ey.hu)("object"==typeof ee,"typeof params must == object"),$===eO)ei=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else if($===eP)ei=(g.secure?"https://":"http://")+g.internalHost+"/.lp?";else throw Error("Unknown connection type: "+$);tg(g)&&(ee.ns=g.namespace);let er=[];return e8(ee,(g,$)=>{er.push(g+"="+$)}),ei+er.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.counters_={}}incrementCounter(g,$=1){(0,ey.r3)(this.counters_,g)||(this.counters_[g]=0),this.counters_[g]+=$}get(){return(0,ey.p$)(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_={},tw={};function tS(g){let $=g.toString();return t_[$]||(t_[$]=new ty),t_[$]}function tT(g,$){let ee=g.toString();return tw[ee]||(tw[ee]=$()),tw[ee]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC="";function tE(g){tC=g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tI=16384,tN=45e3,tD=null;function tk(g){tD=g}"undefined"!=typeof MozWebSocket?tD=MozWebSocket:"undefined"!=typeof WebSocket&&(tD=WebSocket);class tR{constructor(g,$,ee,ei,er,en,es){this.connId=g,this.applicationId=ee,this.appCheckToken=ei,this.authToken=er,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eG(this.connId),this.stats_=tS($),this.connURL=tR.connectionURL_($,en,es,ei,ee),this.nodeAdmin=$.nodeAdmin}static connectionURL_(g,$,ee,ei,er){let en={};return en[eC]=eT,!(0,ey.Yr)()&&"undefined"!=typeof location&&location.hostname&&eD.test(location.hostname)&&(en[eI]=eN),$&&(en[eE]=$),ee&&(en[ek]=ee),ei&&(en[eA]=ei),er&&(en[eR]=er),tv(g,eO,en)}open(g,$){this.onDisconnect=$,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eV.set("previous_websocket_failure",!0);try{let g;if((0,ey.Yr)()){let $=this.nodeAdmin?"AdminNode":"Node";g={headers:{"User-Agent":`Firebase/${eT}/${tC}/${process.platform}/${$}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);let ee=process.env,ei=0===this.connURL.indexOf("wss://")?ee.HTTPS_PROXY||ee.https_proxy:ee.HTTP_PROXY||ee.http_proxy;ei&&(g.proxy={origin:ei})}this.mySock=new tD(this.connURL,[],g)}catch($){this.log_("Error instantiating WebSocket.");let g=$.message||$.data;g&&this.log_(g),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");let $=g.message||g.data;$&&this.log_($),this.onClosed_()}}start(){}static forceDisallow(){tR.forceDisallow_=!0}static isAvailable(){let g=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let $=/Android ([0-9]{0,}\.[0-9]{0,})/,ee=navigator.userAgent.match($);ee&&ee.length>1&&4.4>parseFloat(ee[1])&&(g=!0)}return!g&&null!==tD&&!tR.forceDisallow_}static previouslyFailed(){return eV.isInMemoryStorage||!0===eV.get("previous_websocket_failure")}markConnectionHealthy(){eV.remove("previous_websocket_failure")}appendFrame_(g){if(this.frames.push(g),this.frames.length===this.totalFrames){let g=this.frames.join("");this.frames=null;let $=(0,ey.cI)(g);this.onMessage($)}}handleNewFrameCount_(g){this.totalFrames=g,this.frames=[]}extractFrameCount_(g){if((0,ey.hu)(null===this.frames,"We already have a frame buffer"),g.length<=6){let $=Number(g);if(!isNaN($))return this.handleNewFrameCount_($),null}return this.handleNewFrameCount_(1),g}handleIncomingFrame(g){if(null===this.mySock)return;let $=g.data;if(this.bytesReceived+=$.length,this.stats_.incrementCounter("bytes_received",$.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_($);else{let g=this.extractFrameCount_($);null!==g&&this.appendFrame_(g)}}send(g){this.resetKeepAlive();let $=(0,ey.Wl)(g);this.bytesSent+=$.length,this.stats_.incrementCounter("bytes_sent",$.length);let ee=e5($,tI);ee.length>1&&this.sendString_(String(ee.length));for(let g=0;g<ee.length;g++)this.sendString_(ee[g])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tN))}sendString_(g){try{this.mySock.send(g)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tR.responsesRequiredToBeHealthy=2,tR.healthyTimeout=3e4;let tA="@firebase/database",tO="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(g,$){this.appName_=g,this.appCheckProvider=$,this.appCheck=null==$?void 0:$.getImmediate({optional:!0}),this.appCheck||null==$||$.get().then(g=>this.appCheck=g)}getToken(g){return this.appCheck?this.appCheck.getToken(g):new Promise(($,ee)=>{setTimeout(()=>{this.appCheck?this.getToken(g).then($,ee):$(null)},0)})}addTokenChangeListener(g){var $;null===($=this.appCheckProvider)||void 0===$||$.get().then($=>$.addTokenListener(g))}notifyForInvalidToken(){eJ(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(g,$,ee){this.appName_=g,this.firebaseOptions_=$,this.authProvider_=ee,this.auth_=null,this.auth_=ee.getImmediate({optional:!0}),this.auth_||ee.onInit(g=>this.auth_=g)}getToken(g){return this.auth_?this.auth_.getToken(g).catch(g=>g&&"auth/token-not-initialized"===g.code?(eK("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)):new Promise(($,ee)=>{setTimeout(()=>{this.auth_?this.getToken(g).then($,ee):$(null)},0)})}addTokenChangeListener(g){this.auth_?this.auth_.addAuthTokenListener(g):this.authProvider_.get().then($=>$.addAuthTokenListener(g))}removeTokenChangeListener(g){this.authProvider_.get().then($=>$.removeAuthTokenListener(g))}notifyForInvalidToken(){let g='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?g+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?g+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':g+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',eJ(g)}}class tL{constructor(g){this.accessToken=g}getToken(g){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(g){g(this.accessToken)}removeTokenChangeListener(g){}notifyForInvalidToken(){}}tL.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(g){this.onMessage_=g,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(g,$){this.closeAfterResponse=g,this.onClose=$,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(g,$){for(this.pendingResponses[g]=$;this.pendingResponses[this.currentResponseNum];){let g=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let $=0;$<g.length;++$)g[$]&&tu(()=>{this.onMessage_(g[$])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV="start",tB="close",tU="pLPCommand",tj="pRTLPCB",tq="id",tz="pw",tH="ser",t$="cb",tW="seg",tK="ts",tG="d",tQ="dframe",tY=1870,tJ=30,tX=tY-tJ,tZ=25e3,t1=3e4;class t0{constructor(g,$,ee,ei,er,en,es){this.connId=g,this.repoInfo=$,this.applicationId=ee,this.appCheckToken=ei,this.authToken=er,this.transportSessionId=en,this.lastSessionId=es,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eG(g),this.stats_=tS($),this.urlFn=g=>(this.appCheckToken&&(g[eA]=this.appCheckToken),tv($,eP,g))}open(g,$){this.curSegmentNum=0,this.onDisconnect_=$,this.myPacketOrderer=new tF(g),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(t1)),e1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new t2((...g)=>{let[$,ee,ei,er,en]=g;if(this.incrementIncomingBytes_(g),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,$===tV)this.id=ee,this.password=ei;else if($===tB)ee?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ee,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+$)}},(...g)=>{let[$,ee]=g;this.incrementIncomingBytes_(g),this.myPacketOrderer.handleResponse($,ee)},()=>{this.onClosed_()},this.urlFn);let g={};g[tV]="t",g[tH]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(g[t$]=this.scriptTagHolder.uniqueCallbackIdentifier),g[eC]=eT,this.transportSessionId&&(g[eE]=this.transportSessionId),this.lastSessionId&&(g[ek]=this.lastSessionId),this.applicationId&&(g[eR]=this.applicationId),this.appCheckToken&&(g[eA]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&eD.test(location.hostname)&&(g[eI]=eN);let $=this.urlFn(g);this.log_("Connecting via long-poll to "+$),this.scriptTagHolder.addTag($,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t0.forceAllow_=!0}static forceDisallow(){t0.forceDisallow_=!0}static isAvailable(){return!(0,ey.Yr)()&&(!!t0.forceAllow_||!t0.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!te()&&!tt())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(g){let $=(0,ey.Wl)(g);this.bytesSent+=$.length,this.stats_.incrementCounter("bytes_sent",$.length);let ee=(0,ey.h$)($),ei=e5(ee,tX);for(let g=0;g<ei.length;g++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,ei.length,ei[g]),this.curSegmentNum++}addDisconnectPingFrame(g,$){if((0,ey.Yr)())return;this.myDisconnFrame=document.createElement("iframe");let ee={};ee[tQ]="t",ee[tq]=g,ee[tz]=$,this.myDisconnFrame.src=this.urlFn(ee),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(g){let $=(0,ey.Wl)(g).length;this.bytesReceived+=$,this.stats_.incrementCounter("bytes_received",$)}}class t2{constructor(g,$,ee,ei){if(this.onDisconnect=ee,this.urlFn=ei,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ey.Yr)())this.commandCB=g,this.onMessageCB=$;else{this.uniqueCallbackIdentifier=ej(),window[tU+this.uniqueCallbackIdentifier]=g,window[tj+this.uniqueCallbackIdentifier]=$,this.myIFrame=t2.createIFrame_();let ee="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){let g=document.domain;ee='<script>document.domain="'+g+'";</script>'}let ei="<html><body>"+ee+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ei),this.myIFrame.doc.close()}catch(g){eK("frame writing exception"),g.stack&&eK(g.stack),eK(g)}}}static createIFrame_(){let g=document.createElement("iframe");if(g.style.display="none",document.body){document.body.appendChild(g);try{let $=g.contentWindow.document;$||eK("No IE domain setting required")}catch(ee){let $=document.domain;g.src="javascript:void((function(){document.open();document.domain='"+$+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return g.contentDocument?g.doc=g.contentDocument:g.contentWindow?g.doc=g.contentWindow.document:g.document&&(g.doc=g.document),g}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let g=this.onDisconnect;g&&(this.onDisconnect=null,g())}startLongPoll(g,$){for(this.myID=g,this.myPW=$,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let g={};g[tq]=this.myID,g[tz]=this.myPW,g[tH]=this.currentSerial;let $=this.urlFn(g),ee="",ei=0;for(;this.pendingSegs.length>0;){let g=this.pendingSegs[0];if(g.d.length+tJ+ee.length<=tY){let g=this.pendingSegs.shift();ee=ee+"&"+tW+ei+"="+g.seg+"&"+tK+ei+"="+g.ts+"&"+tG+ei+"="+g.d,ei++}else break}return $+=ee,this.addLongPollTag_($,this.currentSerial),!0}}enqueueSegment(g,$,ee){this.pendingSegs.push({seg:g,ts:$,d:ee}),this.alive&&this.newRequest_()}addLongPollTag_(g,$){this.outstandingRequests.add($);let ee=()=>{this.outstandingRequests.delete($),this.newRequest_()},ei=setTimeout(ee,Math.floor(tZ)),er=()=>{clearTimeout(ei),ee()};this.addTag(g,er)}addTag(g,$){(0,ey.Yr)()?this.doNodeLongPoll(g,$):setTimeout(()=>{try{if(!this.sendNewPolls)return;let ee=this.myIFrame.doc.createElement("script");ee.type="text/javascript",ee.async=!0,ee.src=g,ee.onload=ee.onreadystatechange=function(){let g=ee.readyState;g&&"loaded"!==g&&"complete"!==g||(ee.onload=ee.onreadystatechange=null,ee.parentNode&&ee.parentNode.removeChild(ee),$())},ee.onerror=()=>{eK("Long-poll script failed to load: "+g),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(ee)}catch(g){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(g){this.initTransports_(g)}static get ALL_TRANSPORTS(){return[t0,tR]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(g){let $=tR&&tR.isAvailable(),ee=$&&!tR.previouslyFailed();if(g.webSocketOnly&&($||eJ("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),ee=!0),ee)this.transports_=[tR];else{let g=this.transports_=[];for(let $ of t6.ALL_TRANSPORTS)$&&$.isAvailable()&&g.push($);t6.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t6.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t4=6e4,t3=5e3,t9=10240,t5=102400,t8="t",t7="d",ie="s",ii="r",ir="e",is="o",il="a",ip="n",iu="p",ih="h";class im{constructor(g,$,ee,ei,er,en,es,eo,ep,eu){this.id=g,this.repoInfo_=$,this.applicationId_=ee,this.appCheckToken_=ei,this.authToken_=er,this.onMessage_=en,this.onReady_=es,this.onDisconnect_=eo,this.onKill_=ep,this.lastSessionId=eu,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eG("c:"+this.id+":"),this.transportManager_=new t6($),this.log_("Connection created"),this.start_()}start_(){let g=this.transportManager_.initialTransport();this.conn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;let $=this.connReceiver_(this.conn_),ee=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open($,ee)},Math.floor(0));let ei=g.healthyTimeout||0;ei>0&&(this.healthyTimeout_=tm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>t5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>t9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(ei)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(g){return $=>{g===this.conn_?this.onConnectionLost_($):g===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(g){return $=>{2!==this.state_&&(g===this.rx_?this.onPrimaryMessageReceived_($):g===this.secondaryConn_?this.onSecondaryMessageReceived_($):this.log_("message on old connection"))}}sendRequest(g){let $={t:"d",d:g};this.sendData_($)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(g){if(t8 in g){let $=g[t8];$===il?this.upgradeIfSecondaryHealthy_():$===ii?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):$===is&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(g){let $=e3("t",g),ee=e3("d",g);if("c"===$)this.onSecondaryControl_(ee);else if("d"===$)this.pendingDataMessages.push(ee);else throw Error("Unknown protocol layer: "+$)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iu,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:il,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ip,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(g){let $=e3("t",g),ee=e3("d",g);"c"===$?this.onControl_(ee):"d"===$&&this.onDataMessage_(ee)}onDataMessage_(g){this.onPrimaryResponse_(),this.onMessage_(g)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(g){let $=e3(t8,g);if(t7 in g){let ee=g[t7];if($===ih){let g=Object.assign({},ee);this.repoInfo_.isUsingEmulator&&(g.h=this.repoInfo_.host),this.onHandshake_(g)}else if($===ip){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else $===ie?this.onConnectionShutdown_(ee):$===ii?this.onReset_(ee):$===ir?eQ("Server Error: "+ee):$===is?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eQ("Unknown control packet command: "+$)}}onHandshake_(g){let $=g.ts,ee=g.v,ei=g.h;this.sessionId=g.s,this.repoInfo_.host=ei,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,$),eT!==ee&&eJ("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let g=this.transportManager_.upgradeTransport();g&&this.startUpgrade_(g)}startUpgrade_(g){this.secondaryConn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;let $=this.connReceiver_(this.secondaryConn_),ee=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open($,ee),tm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(t4))}onReset_(g){this.log_("Reset packet received.  New host: "+g),this.repoInfo_.host=g,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(g,$){this.log_("Realtime connection established."),this.conn_=g,this.state_=1,this.onReady_&&(this.onReady_($,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iu,d:{}}}))}onSecondaryConnectionLost_(){let g=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===g||this.rx_===g)&&this.close()}onConnectionLost_(g){this.conn_=null,g||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eV.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(g){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(g),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(g){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(g)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{put(g,$,ee,ei){}merge(g,$,ee,ei){}refreshAuthToken(g){}refreshAppCheckToken(g){}onDisconnectPut(g,$,ee){}onDisconnectMerge(g,$,ee){}onDisconnectCancel(g,$){}reportStats(g){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(g){this.allowedEvents_=g,this.listeners_={},(0,ey.hu)(Array.isArray(g)&&g.length>0,"Requires a non-empty array")}trigger(g,...$){if(Array.isArray(this.listeners_[g])){let ee=[...this.listeners_[g]];for(let g=0;g<ee.length;g++)ee[g].callback.apply(ee[g].context,$)}}on(g,$,ee){this.validateEventType_(g),this.listeners_[g]=this.listeners_[g]||[],this.listeners_[g].push({callback:$,context:ee});let ei=this.getInitialEvent(g);ei&&$.apply(ee,ei)}off(g,$,ee){this.validateEventType_(g);let ei=this.listeners_[g]||[];for(let g=0;g<ei.length;g++)if(ei[g].callback===$&&(!ee||ee===ei[g].context)){ei.splice(g,1);return}}validateEventType_(g){(0,ey.hu)(this.allowedEvents_.find($=>$===g),"Unknown event: "+g)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends iv{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,ey.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iy}getInitialEvent(g){return(0,ey.hu)("online"===g,"Unknown event type: "+g),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_=32,iw=768;class iS{constructor(g,$){if(void 0===$){this.pieces_=g.split("/");let $=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[$]=this.pieces_[g],$++);this.pieces_.length=$,this.pieceNum_=0}else this.pieces_=g,this.pieceNum_=$}toString(){let g="";for(let $=this.pieceNum_;$<this.pieces_.length;$++)""!==this.pieces_[$]&&(g+="/"+this.pieces_[$]);return g||"/"}}function iT(){return new iS("")}function iC(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function iE(g){return g.pieces_.length-g.pieceNum_}function iI(g){let $=g.pieceNum_;return $<g.pieces_.length&&$++,new iS(g.pieces_,$)}function iN(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function iD(g){let $="";for(let ee=g.pieceNum_;ee<g.pieces_.length;ee++)""!==g.pieces_[ee]&&($+="/"+encodeURIComponent(String(g.pieces_[ee])));return $||"/"}function ik(g,$=0){return g.pieces_.slice(g.pieceNum_+$)}function iR(g){if(g.pieceNum_>=g.pieces_.length)return null;let $=[];for(let ee=g.pieceNum_;ee<g.pieces_.length-1;ee++)$.push(g.pieces_[ee]);return new iS($,0)}function iA(g,$){let ee=[];for(let $=g.pieceNum_;$<g.pieces_.length;$++)ee.push(g.pieces_[$]);if($ instanceof iS)for(let g=$.pieceNum_;g<$.pieces_.length;g++)ee.push($.pieces_[g]);else{let g=$.split("/");for(let $=0;$<g.length;$++)g[$].length>0&&ee.push(g[$])}return new iS(ee,0)}function iO(g){return g.pieceNum_>=g.pieces_.length}function ix(g,$){let ee=iC(g),ei=iC($);if(null===ee)return $;if(ee===ei)return ix(iI(g),iI($));throw Error("INTERNAL ERROR: innerPath ("+$+") is not within outerPath ("+g+")")}function iP(g,$){let ee=ik(g,0),ei=ik($,0);for(let g=0;g<ee.length&&g<ei.length;g++){let $=e6(ee[g],ei[g]);if(0!==$)return $}return ee.length===ei.length?0:ee.length<ei.length?-1:1}function iM(g,$){if(iE(g)!==iE($))return!1;for(let ee=g.pieceNum_,ei=$.pieceNum_;ee<=g.pieces_.length;ee++,ei++)if(g.pieces_[ee]!==$.pieces_[ei])return!1;return!0}function iL(g,$){let ee=g.pieceNum_,ei=$.pieceNum_;if(iE(g)>iE($))return!1;for(;ee<g.pieces_.length;){if(g.pieces_[ee]!==$.pieces_[ei])return!1;++ee,++ei}return!0}class iF{constructor(g,$){this.errorPrefix_=$,this.parts_=ik(g,0),this.byteLength_=Math.max(1,this.parts_.length);for(let g=0;g<this.parts_.length;g++)this.byteLength_+=(0,ey.ug)(this.parts_[g]);iU(this)}}function iV(g,$){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push($),g.byteLength_+=(0,ey.ug)($),iU(g)}function iB(g){let $=g.parts_.pop();g.byteLength_-=(0,ey.ug)($),g.parts_.length>0&&(g.byteLength_-=1)}function iU(g){if(g.byteLength_>iw)throw Error(g.errorPrefix_+"has a key path longer than "+iw+" bytes ("+g.byteLength_+").");if(g.parts_.length>i_)throw Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+i_+") or object contains a cycle "+ij(g))}function ij(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq extends iv{constructor(){let g,$;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?($="visibilitychange",g="hidden"):void 0!==document.mozHidden?($="mozvisibilitychange",g="mozHidden"):void 0!==document.msHidden?($="msvisibilitychange",g="msHidden"):void 0!==document.webkitHidden&&($="webkitvisibilitychange",g="webkitHidden")),this.visible_=!0,$&&document.addEventListener($,()=>{let $=!document[g];$!==this.visible_&&(this.visible_=$,this.trigger("visible",$))},!1)}static getInstance(){return new iq}getInitialEvent(g){return(0,ey.hu)("visible"===g,"Unknown event type: "+g),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iz=1e3,iH=3e5,i$=3e4,iW=1.3,iK=3e4,iG="server_kill",iQ=3;class iY extends ig{constructor(g,$,ee,ei,er,en,es,eo){if(super(),this.repoInfo_=g,this.applicationId_=$,this.onDataUpdate_=ee,this.onConnectStatus_=ei,this.onServerInfoUpdate_=er,this.authTokenProvider_=en,this.appCheckTokenProvider_=es,this.authOverride_=eo,this.id=iY.nextPersistentConnectionId_++,this.log_=eG("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=iz,this.maxReconnectDelay_=iH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,eo&&!(0,ey.Yr)())throw Error("Auth override specified in options, but not supported on non Node.js platforms");iq.getInstance().on("visible",this.onVisible_,this),-1===g.host.indexOf("fblocal")&&iy.getInstance().on("online",this.onOnline_,this)}sendRequest(g,$,ee){let ei=++this.requestNumber_,er={r:ei,a:g,b:$};this.log_((0,ey.Wl)(er)),(0,ey.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(er),ee&&(this.requestCBHash_[ei]=ee)}get(g){this.initConnection_();let $=new ey.BH,ee={p:g._path.toString(),q:g._queryObject},ei={action:"g",request:ee,onComplete:g=>{let ee=g.d;"ok"===g.s?$.resolve(ee):$.reject(ee)}};this.outstandingGets_.push(ei),this.outstandingGetCount_++;let er=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(er),$.promise}listen(g,$,ee,ei){this.initConnection_();let er=g._queryIdentifier,en=g._path.toString();this.log_("Listen called for "+en+" "+er),this.listens.has(en)||this.listens.set(en,new Map),(0,ey.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ey.hu)(!this.listens.get(en).has(er),"listen() called twice for same path/queryId.");let es={onComplete:ei,hashFn:$,query:g,tag:ee};this.listens.get(en).set(er,es),this.connected_&&this.sendListen_(es)}sendGet_(g){let $=this.outstandingGets_[g];this.sendRequest("g",$.request,ee=>{delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),$.onComplete&&$.onComplete(ee)})}sendListen_(g){let $=g.query,ee=$._path.toString(),ei=$._queryIdentifier;this.log_("Listen on "+ee+" for "+ei);let er={p:ee},en="q";g.tag&&(er.q=$._queryObject,er.t=g.tag),er.h=g.hashFn(),this.sendRequest(en,er,er=>{let en=er.d,es=er.s;iY.warnOnListenWarnings_(en,$);let eo=this.listens.get(ee)&&this.listens.get(ee).get(ei);eo===g&&(this.log_("listen response",er),"ok"!==es&&this.removeListen_(ee,ei),g.onComplete&&g.onComplete(es,en))})}static warnOnListenWarnings_(g,$){if(g&&"object"==typeof g&&(0,ey.r3)(g,"w")){let ee=(0,ey.DV)(g,"w");if(Array.isArray(ee)&&~ee.indexOf("no_index")){let g='".indexOn": "'+$._queryParams.getIndex().toString()+'"',ee=$._path.toString();eJ(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${g} at ${ee} to your security rules for better performance.`)}}}refreshAuthToken(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(g)}reduceReconnectDelayIfAdminCredential_(g){let $=g&&40===g.length;($||(0,ey.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=i$)}refreshAppCheckToken(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let g=this.authToken_,$=(0,ey.w9)(g)?"auth":"gauth",ee={cred:g};null===this.authOverride_?ee.noauth=!0:"object"==typeof this.authOverride_&&(ee.authvar=this.authOverride_),this.sendRequest($,ee,$=>{let ee=$.s,ei=$.d||"error";this.authToken_===g&&("ok"===ee?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ee,ei))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},g=>{let $=g.s,ee=g.d||"error";"ok"===$?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_($,ee)})}unlisten(g,$){let ee=g._path.toString(),ei=g._queryIdentifier;this.log_("Unlisten called for "+ee+" "+ei),(0,ey.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");let er=this.removeListen_(ee,ei);er&&this.connected_&&this.sendUnlisten_(ee,ei,g._queryObject,$)}sendUnlisten_(g,$,ee,ei){this.log_("Unlisten on "+g+" for "+$);let er={p:g},en="n";ei&&(er.q=ee,er.t=ei),this.sendRequest(en,er)}onDisconnectPut(g,$,ee){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,$,ee):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:$,onComplete:ee})}onDisconnectMerge(g,$,ee){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,$,ee):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:$,onComplete:ee})}onDisconnectCancel(g,$){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,$):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:$})}sendOnDisconnect_(g,$,ee,ei){let er={p:$,d:ee};this.log_("onDisconnect "+g,er),this.sendRequest(g,er,g=>{ei&&setTimeout(()=>{ei(g.s,g.d)},Math.floor(0))})}put(g,$,ee,ei){this.putInternal("p",g,$,ee,ei)}merge(g,$,ee,ei){this.putInternal("m",g,$,ee,ei)}putInternal(g,$,ee,ei,er){this.initConnection_();let en={p:$,d:ee};void 0!==er&&(en.h=er),this.outstandingPuts_.push({action:g,request:en,onComplete:ei}),this.outstandingPutCount_++;let es=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(es):this.log_("Buffering put: "+$)}sendPut_(g){let $=this.outstandingPuts_[g].action,ee=this.outstandingPuts_[g].request,ei=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest($,ee,ee=>{this.log_($+" response",ee),delete this.outstandingPuts_[g],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),ei&&ei(ee.s,ee.d)})}reportStats(g){if(this.connected_){let $={c:g};this.log_("reportStats",$),this.sendRequest("s",$,g=>{let $=g.s;if("ok"!==$){let $=g.d;this.log_("reportStats","Error sending stats: "+$)}})}}onDataMessage_(g){if("r"in g){this.log_("from server: "+(0,ey.Wl)(g));let $=g.r,ee=this.requestCBHash_[$];ee&&(delete this.requestCBHash_[$],ee(g.b))}else if("error"in g)throw"A server-side error has occurred: "+g.error;else"a"in g&&this.onDataPush_(g.a,g.b)}onDataPush_(g,$){this.log_("handleServerMessage",g,$),"d"===g?this.onDataUpdate_($.p,$.d,!1,$.t):"m"===g?this.onDataUpdate_($.p,$.d,!0,$.t):"c"===g?this.onListenRevoked_($.p,$.q):"ac"===g?this.onAuthRevoked_($.s,$.d):"apc"===g?this.onAppCheckRevoked_($.s,$.d):"sd"===g?this.onSecurityDebugPacket_($):eQ("Unrecognized action received from server: "+(0,ey.Wl)(g)+"\nAre you using the latest client?")}onReady_(g,$){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(g),this.lastSessionId=$,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(g){(0,ey.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(g))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(g){!g||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=iz,this.realtime_||this.scheduleConnect_(0)),this.visible_=g}onOnline_(g){g?(this.log_("Browser went online."),this.reconnectDelay_=iz,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){let g=new Date().getTime()-this.lastConnectionEstablishedTime_;g>iK&&(this.reconnectDelay_=iz),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();let g=new Date().getTime()-this.lastConnectionAttemptTime_,$=Math.max(0,this.reconnectDelay_-g);$=Math.random()*$,this.log_("Trying to reconnect in "+$+"ms"),this.scheduleConnect_($),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*iW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let g=this.onDataMessage_.bind(this),$=this.onReady_.bind(this),ee=this.onRealtimeDisconnect_.bind(this),ei=this.id+":"+iY.nextConnectionId_++,er=this.lastSessionId,en=!1,es=null,eo=function(){es?es.close():(en=!0,ee())},ep=function(g){(0,ey.hu)(es,"sendRequest call when we're not connected not allowed."),es.sendRequest(g)};this.realtime_={close:eo,sendRequest:ep};let eu=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[eo,ep]=await Promise.all([this.authTokenProvider_.getToken(eu),this.appCheckTokenProvider_.getToken(eu)]);en?eK("getToken() completed but was canceled"):(eK("getToken() completed. Creating connection."),this.authToken_=eo&&eo.accessToken,this.appCheckToken_=ep&&ep.token,es=new im(ei,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,g,$,ee,g=>{eJ(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(iG)},er))}catch(g){this.log_("Failed to get token: "+g),en||(this.repoInfo_.nodeAdmin&&eJ(g),eo())}}}interrupt(g){eK("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(g){eK("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,ey.xb)(this.interruptReasons_)&&(this.reconnectDelay_=iz,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(g){let $=g-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:$})}cancelSentTransactions_(){for(let g=0;g<this.outstandingPuts_.length;g++){let $=this.outstandingPuts_[g];$&&"h"in $.request&&$.queued&&($.onComplete&&$.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(g,$){let ee;ee=$?$.map(g=>e9(g)).join("$"):"default";let ei=this.removeListen_(g,ee);ei&&ei.onComplete&&ei.onComplete("permission_denied")}removeListen_(g,$){let ee;let ei=new iS(g).toString();if(this.listens.has(ei)){let g=this.listens.get(ei);ee=g.get($),g.delete($),0===g.size&&this.listens.delete(ei)}else ee=void 0;return ee}onAuthRevoked_(g,$){eK("Auth token revoked: "+g+"/"+$),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iQ&&(this.reconnectDelay_=i$,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(g,$){eK("App check token revoked: "+g+"/"+$),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iQ&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let g of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let $ of g.values())this.sendListen_($);for(let g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){let g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(let g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)}sendConnectStats_(){let g={},$="js";(0,ey.Yr)()&&($=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+$+"."+tC.replace(/\./g,"-")]=1,(0,ey.uI)()?g["framework.cordova"]=1:(0,ey.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)}shouldReconnect_(){let g=iy.getInstance().currentlyOnline();return(0,ey.xb)(this.interruptReasons_)&&g}}iY.nextPersistentConnectionId_=0,iY.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(g,$){this.name=g,this.node=$}static Wrap(g,$){return new iJ(g,$)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{getCompare(){return this.compare.bind(this)}indexedValueChanged(g,$){let ee=new iJ(e0,g),ei=new iJ(e0,$);return 0!==this.compare(ee,ei)}minPost(){return iJ.MIN}}class iZ extends iX{static get __EMPTY_NODE(){return ei}static set __EMPTY_NODE(g){ei=g}compare(g,$){return e6(g.name,$.name)}isDefinedOn(g){throw(0,ey.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(g,$){return!1}minPost(){return iJ.MIN}maxPost(){return new iJ(e2,ei)}makePost(g,$){return(0,ey.hu)("string"==typeof g,"KeyIndex indexValue must always be a string."),new iJ(g,ei)}toString(){return".key"}}let i1=new iZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(g,$,ee,ei,er=null){this.isReverse_=ei,this.resultGenerator_=er,this.nodeStack_=[];let en=1;for(;!g.isEmpty();)if(en=$?ee(g.key,$):1,ei&&(en*=-1),en<0)g=this.isReverse_?g.left:g.right;else if(0===en){this.nodeStack_.push(g);break}else this.nodeStack_.push(g),g=this.isReverse_?g.right:g.left}getNext(){let g;if(0===this.nodeStack_.length)return null;let $=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_($.key,$.value):{key:$.key,value:$.value},this.isReverse_)for($=$.left;!$.isEmpty();)this.nodeStack_.push($),$=$.right;else for($=$.right;!$.isEmpty();)this.nodeStack_.push($),$=$.left;return g}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let g=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(g.key,g.value):{key:g.key,value:g.value}}}class i2{constructor(g,$,ee,ei,er){this.key=g,this.value=$,this.color=null!=ee?ee:i2.RED,this.left=null!=ei?ei:i4.EMPTY_NODE,this.right=null!=er?er:i4.EMPTY_NODE}copy(g,$,ee,ei,er){return new i2(null!=g?g:this.key,null!=$?$:this.value,null!=ee?ee:this.color,null!=ei?ei:this.left,null!=er?er:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)}reverseTraversal(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(g,$,ee){let ei=this,er=ee(g,ei.key);return(ei=er<0?ei.copy(null,null,null,ei.left.insert(g,$,ee),null):0===er?ei.copy(null,$,null,null,null):ei.copy(null,null,null,null,ei.right.insert(g,$,ee))).fixUp_()}removeMin_(){if(this.left.isEmpty())return i4.EMPTY_NODE;let g=this;return g.left.isRed_()||g.left.left.isRed_()||(g=g.moveRedLeft_()),(g=g.copy(null,null,null,g.left.removeMin_(),null)).fixUp_()}remove(g,$){let ee,ei;if(ee=this,0>$(g,ee.key))ee.left.isEmpty()||ee.left.isRed_()||ee.left.left.isRed_()||(ee=ee.moveRedLeft_()),ee=ee.copy(null,null,null,ee.left.remove(g,$),null);else{if(ee.left.isRed_()&&(ee=ee.rotateRight_()),ee.right.isEmpty()||ee.right.isRed_()||ee.right.left.isRed_()||(ee=ee.moveRedRight_()),0===$(g,ee.key)){if(ee.right.isEmpty())return i4.EMPTY_NODE;ei=ee.right.min_(),ee=ee.copy(ei.key,ei.value,null,null,ee.right.removeMin_())}ee=ee.copy(null,null,null,null,ee.right.remove(g,$))}return ee.fixUp_()}isRed_(){return this.color}fixUp_(){let g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g}moveRedLeft_(){let g=this.colorFlip_();return g.right.left.isRed_()&&(g=(g=(g=g.copy(null,null,null,null,g.right.rotateRight_())).rotateLeft_()).colorFlip_()),g}moveRedRight_(){let g=this.colorFlip_();return g.left.left.isRed_()&&(g=(g=g.rotateRight_()).colorFlip_()),g}rotateLeft_(){let g=this.copy(null,null,i2.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)}rotateRight_(){let g=this.copy(null,null,i2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)}colorFlip_(){let g=this.left.copy(null,null,!this.left.color,null,null),$=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,$)}checkMaxDepth_(){let g=this.check_();return Math.pow(2,g)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let g=this.left.check_();if(g===this.right.check_())return g+(this.isRed_()?0:1);throw Error("Black depths differ")}}i2.RED=!0,i2.BLACK=!1;class i6{copy(g,$,ee,ei,er){return this}insert(g,$,ee){return new i2(g,$,null)}remove(g,$){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(g){return!1}reverseTraversal(g){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class i4{constructor(g,$=i4.EMPTY_NODE){this.comparator_=g,this.root_=$}insert(g,$){return new i4(this.comparator_,this.root_.insert(g,$,this.comparator_).copy(null,null,i2.BLACK,null,null))}remove(g){return new i4(this.comparator_,this.root_.remove(g,this.comparator_).copy(null,null,i2.BLACK,null,null))}get(g){let $;let ee=this.root_;for(;!ee.isEmpty();){if(0===($=this.comparator_(g,ee.key)))return ee.value;$<0?ee=ee.left:$>0&&(ee=ee.right)}return null}getPredecessorKey(g){let $,ee=this.root_,ei=null;for(;!ee.isEmpty();){if(0===($=this.comparator_(g,ee.key))){if(ee.left.isEmpty()){if(ei)return ei.key;return null}for(ee=ee.left;!ee.right.isEmpty();)ee=ee.right;return ee.key}$<0?ee=ee.left:$>0&&(ei=ee,ee=ee.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(g){return this.root_.inorderTraversal(g)}reverseTraversal(g){return this.root_.reverseTraversal(g)}getIterator(g){return new i0(this.root_,null,this.comparator_,!1,g)}getIteratorFrom(g,$){return new i0(this.root_,g,this.comparator_,!1,$)}getReverseIteratorFrom(g,$){return new i0(this.root_,g,this.comparator_,!0,$)}getReverseIterator(g){return new i0(this.root_,null,this.comparator_,!0,g)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(g,$){return e6(g.name,$.name)}function i9(g,$){return e6(g,$)}function i5(g){er=g}i4.EMPTY_NODE=new i6;let i8=function(g){return"number"==typeof g?"number:"+e7(g):"string:"+g},i7=function(g){if(g.isLeafNode()){let $=g.val();(0,ey.hu)("string"==typeof $||"number"==typeof $||"object"==typeof $&&(0,ey.r3)($,".sv"),"Priority must be a string or number.")}else(0,ey.hu)(g===er||g.isEmpty(),"priority of unexpected type.");(0,ey.hu)(g===er||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class rt{constructor(g,$=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=g,this.priorityNode_=$,this.lazyHash_=null,(0,ey.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),i7(this.priorityNode_)}static set __childrenNodeConstructor(g){en=g}static get __childrenNodeConstructor(){return en}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(g){return new rt(this.value_,g)}getImmediateChild(g){return".priority"===g?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(g){return iO(g)?this:".priority"===iC(g)?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(g,$){return null}updateImmediateChild(g,$){return".priority"===g?this.updatePriority($):$.isEmpty()&&".priority"!==g?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,$).updatePriority(this.priorityNode_)}updateChild(g,$){let ee=iC(g);return null===ee?$:$.isEmpty()&&".priority"!==ee?this:((0,ey.hu)(".priority"!==ee||1===iE(g),".priority must be the last token in a path"),this.updateImmediateChild(ee,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(iI(g),$)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(g,$){return!1}val(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let g="";this.priorityNode_.isEmpty()||(g+="priority:"+i8(this.priorityNode_.val())+":");let $=typeof this.value_;g+=$+":","number"===$?g+=e7(this.value_):g+=this.value_,this.lazyHash_=eq(g)}return this.lazyHash_}getValue(){return this.value_}compareTo(g){return g===rt.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof rt.__childrenNodeConstructor?-1:((0,ey.hu)(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))}compareToLeafNode_(g){let $=typeof g.value_,ee=typeof this.value_,ei=rt.VALUE_TYPE_ORDER.indexOf($),er=rt.VALUE_TYPE_ORDER.indexOf(ee);return((0,ey.hu)(ei>=0,"Unknown leaf type: "+$),(0,ey.hu)(er>=0,"Unknown leaf type: "+ee),ei!==er)?er-ei:"object"===ee?0:this.value_<g.value_?-1:this.value_===g.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals(g){if(g===this)return!0;if(!g.isLeafNode())return!1;{let $=g;return this.value_===$.value_&&this.priorityNode_.equals($.priorityNode_)}}}function ri(g){es=g}function rr(g){eo=g}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];class rn extends iX{compare(g,$){let ee=g.node.getPriority(),ei=$.node.getPriority(),er=ee.compareTo(ei);return 0===er?e6(g.name,$.name):er}isDefinedOn(g){return!g.getPriority().isEmpty()}indexedValueChanged(g,$){return!g.getPriority().equals($.getPriority())}minPost(){return iJ.MIN}maxPost(){return new iJ(e2,new rt("[PRIORITY-POST]",eo))}makePost(g,$){let ee=es(g);return new iJ($,new rt("[PRIORITY-POST]",ee))}toString(){return".priority"}}let rs=new rn,ro=Math.log(2);class rl{constructor(g){let $=g=>parseInt(Math.log(g)/ro,10),ee=g=>parseInt(Array(g+1).join("1"),2);this.count=$(g+1),this.current_=this.count-1;let ei=ee(this.count);this.bits_=g+1&ei}nextBitIsOne(){let g=!(this.bits_&1<<this.current_);return this.current_--,g}}let rp=function(g,$,ee,ei){g.sort($);let er=function($,ei){let en,es;let eo=ei-$;if(0===eo)return null;if(1===eo)return en=g[$],es=ee?ee(en):en,new i2(es,en.node,i2.BLACK,null,null);{let ep=parseInt(eo/2,10)+$,eu=er($,ep),eh=er(ep+1,ei);return en=g[ep],es=ee?ee(en):en,new i2(es,en.node,i2.BLACK,eu,eh)}},en=function($){let ei=null,en=null,es=g.length,eo=function($,ei){let en=es-$,eo=es;es-=$;let eu=er(en+1,eo),eh=g[en],em=ee?ee(eh):eh;ep(new i2(em,eh.node,ei,null,eu))},ep=function(g){ei?ei.left=g:en=g,ei=g};for(let g=0;g<$.count;++g){let ee=$.nextBitIsOne(),ei=Math.pow(2,$.count-(g+1));ee?eo(ei,i2.BLACK):(eo(ei,i2.BLACK),eo(ei,i2.RED))}return en},es=new rl(g.length),eo=en(es);return new i4(ei||$,eo)},ru={};class rh{constructor(g,$){this.indexes_=g,this.indexSet_=$}static get Default(){return(0,ey.hu)(ru&&rs,"ChildrenNode.ts has not been loaded"),ep=ep||new rh({".priority":ru},{".priority":rs})}get(g){let $=(0,ey.DV)(this.indexes_,g);if(!$)throw Error("No index defined for "+g);return $ instanceof i4?$:null}hasIndex(g){return(0,ey.r3)(this.indexSet_,g.toString())}addIndex(g,$){let ee;(0,ey.hu)(g!==i1,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let ei=[],er=!1,en=$.getIterator(iJ.Wrap),es=en.getNext();for(;es;)er=er||g.isDefinedOn(es.node),ei.push(es),es=en.getNext();ee=er?rp(ei,g.getCompare()):ru;let eo=g.toString(),ep=Object.assign({},this.indexSet_);ep[eo]=g;let eu=Object.assign({},this.indexes_);return eu[eo]=ee,new rh(eu,ep)}addToIndexes(g,$){let ee=(0,ey.UI)(this.indexes_,(ee,ei)=>{let er=(0,ey.DV)(this.indexSet_,ei);if((0,ey.hu)(er,"Missing index implementation for "+ei),ee===ru){if(!er.isDefinedOn(g.node))return ru;{let ee=[],ei=$.getIterator(iJ.Wrap),en=ei.getNext();for(;en;)en.name!==g.name&&ee.push(en),en=ei.getNext();return ee.push(g),rp(ee,er.getCompare())}}{let ei=$.get(g.name),er=ee;return ei&&(er=er.remove(new iJ(g.name,ei))),er.insert(g,g.node)}});return new rh(ee,this.indexSet_)}removeFromIndexes(g,$){let ee=(0,ey.UI)(this.indexes_,ee=>{if(ee===ru)return ee;{let ei=$.get(g.name);return ei?ee.remove(new iJ(g.name,ei)):ee}});return new rh(ee,this.indexSet_)}}class rm{constructor(g,$,ee){this.children_=g,this.priorityNode_=$,this.indexMap_=ee,this.lazyHash_=null,this.priorityNode_&&i7(this.priorityNode_),this.children_.isEmpty()&&(0,ey.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eu||(eu=new rm(new i4(i9),null,rh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eu}updatePriority(g){return this.children_.isEmpty()?this:new rm(this.children_,g,this.indexMap_)}getImmediateChild(g){if(".priority"===g)return this.getPriority();{let $=this.children_.get(g);return null===$?eu:$}}getChild(g){let $=iC(g);return null===$?this:this.getImmediateChild($).getChild(iI(g))}hasChild(g){return null!==this.children_.get(g)}updateImmediateChild(g,$){if((0,ey.hu)($,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority($);{let ee,ei;let er=new iJ(g,$);$.isEmpty()?(ee=this.children_.remove(g),ei=this.indexMap_.removeFromIndexes(er,this.children_)):(ee=this.children_.insert(g,$),ei=this.indexMap_.addToIndexes(er,this.children_));let en=ee.isEmpty()?eu:this.priorityNode_;return new rm(ee,en,ei)}}updateChild(g,$){let ee=iC(g);if(null===ee)return $;{(0,ey.hu)(".priority"!==iC(g)||1===iE(g),".priority must be the last token in a path");let ei=this.getImmediateChild(ee).updateChild(iI(g),$);return this.updateImmediateChild(ee,ei)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(g){if(this.isEmpty())return null;let $={},ee=0,ei=0,er=!0;if(this.forEachChild(rs,(en,es)=>{$[en]=es.val(g),ee++,er&&rm.INTEGER_REGEXP_.test(en)?ei=Math.max(ei,Number(en)):er=!1}),g||!er||!(ei<2*ee))return g&&!this.getPriority().isEmpty()&&($[".priority"]=this.getPriority().val()),$;{let g=[];for(let ee in $)g[ee]=$[ee];return g}}hash(){if(null===this.lazyHash_){let g="";this.getPriority().isEmpty()||(g+="priority:"+i8(this.getPriority().val())+":"),this.forEachChild(rs,($,ee)=>{let ei=ee.hash();""!==ei&&(g+=":"+$+":"+ei)}),this.lazyHash_=""===g?"":eq(g)}return this.lazyHash_}getPredecessorChildName(g,$,ee){let ei=this.resolveIndex_(ee);if(!ei)return this.children_.getPredecessorKey(g);{let ee=ei.getPredecessorKey(new iJ(g,$));return ee?ee.name:null}}getFirstChildName(g){let $=this.resolveIndex_(g);if(!$)return this.children_.minKey();{let g=$.minKey();return g&&g.name}}getFirstChild(g){let $=this.getFirstChildName(g);return $?new iJ($,this.children_.get($)):null}getLastChildName(g){let $=this.resolveIndex_(g);if(!$)return this.children_.maxKey();{let g=$.maxKey();return g&&g.name}}getLastChild(g){let $=this.getLastChildName(g);return $?new iJ($,this.children_.get($)):null}forEachChild(g,$){let ee=this.resolveIndex_(g);return ee?ee.inorderTraversal(g=>$(g.name,g.node)):this.children_.inorderTraversal($)}getIterator(g){return this.getIteratorFrom(g.minPost(),g)}getIteratorFrom(g,$){let ee=this.resolveIndex_($);if(ee)return ee.getIteratorFrom(g,g=>g);{let ee=this.children_.getIteratorFrom(g.name,iJ.Wrap),ei=ee.peek();for(;null!=ei&&0>$.compare(ei,g);)ee.getNext(),ei=ee.peek();return ee}}getReverseIterator(g){return this.getReverseIteratorFrom(g.maxPost(),g)}getReverseIteratorFrom(g,$){let ee=this.resolveIndex_($);if(ee)return ee.getReverseIteratorFrom(g,g=>g);{let ee=this.children_.getReverseIteratorFrom(g.name,iJ.Wrap),ei=ee.peek();for(;null!=ei&&$.compare(ei,g)>0;)ee.getNext(),ei=ee.peek();return ee}}compareTo(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===rg?-1:0}withIndex(g){if(g===i1||this.indexMap_.hasIndex(g))return this;{let $=this.indexMap_.addIndex(g,this.children_);return new rm(this.children_,this.priorityNode_,$)}}isIndexed(g){return g===i1||this.indexMap_.hasIndex(g)}equals(g){if(g===this)return!0;if(g.isLeafNode())return!1;{let $=g;if(!this.getPriority().equals($.getPriority())||this.children_.count()!==$.children_.count())return!1;{let g=this.getIterator(rs),ee=$.getIterator(rs),ei=g.getNext(),er=ee.getNext();for(;ei&&er;){if(ei.name!==er.name||!ei.node.equals(er.node))return!1;ei=g.getNext(),er=ee.getNext()}return null===ei&&null===er}}}resolveIndex_(g){return g===i1?null:this.indexMap_.get(g.toString())}}rm.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rf extends rm{constructor(){super(new i4(i9),rm.EMPTY_NODE,rh.Default)}compareTo(g){return g===this?0:1}equals(g){return g===this}getPriority(){return this}getImmediateChild(g){return rm.EMPTY_NODE}isEmpty(){return!1}}let rg=new rf;Object.defineProperties(iJ,{MIN:{value:new iJ(e0,rm.EMPTY_NODE)},MAX:{value:new iJ(e2,rg)}}),iZ.__EMPTY_NODE=rm.EMPTY_NODE,rt.__childrenNodeConstructor=rm,i5(rg),rr(rg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv=!0;function ry(g,$=null){if(null===g)return rm.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&($=g[".priority"]),(0,ey.hu)(null===$||"string"==typeof $||"number"==typeof $||"object"==typeof $&&".sv"in $,"Invalid priority type found: "+typeof $),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g){let ee=g;return new rt(ee,ry($))}if(g instanceof Array||!rv){let ee=rm.EMPTY_NODE;return e8(g,($,ei)=>{if((0,ey.r3)(g,$)&&"."!==$.substring(0,1)){let g=ry(ei);(g.isLeafNode()||!g.isEmpty())&&(ee=ee.updateImmediateChild($,g))}}),ee.updatePriority(ry($))}{let ee=[],ei=!1,er=g;if(e8(er,(g,$)=>{if("."!==g.substring(0,1)){let er=ry($);er.isEmpty()||(ei=ei||!er.getPriority().isEmpty(),ee.push(new iJ(g,er)))}}),0===ee.length)return rm.EMPTY_NODE;let en=rp(ee,i3,g=>g.name,i9);if(!ei)return new rm(en,ry($),rh.Default);{let g=rp(ee,rs.getCompare());return new rm(en,ry($),new rh({".priority":g},{".priority":rs}))}}}ri(ry);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends iX{constructor(g){super(),this.indexPath_=g,(0,ey.hu)(!iO(g)&&".priority"!==iC(g),"Can't create PathIndex with empty path or .priority key")}extractChild(g){return g.getChild(this.indexPath_)}isDefinedOn(g){return!g.getChild(this.indexPath_).isEmpty()}compare(g,$){let ee=this.extractChild(g.node),ei=this.extractChild($.node),er=ee.compareTo(ei);return 0===er?e6(g.name,$.name):er}makePost(g,$){let ee=ry(g),ei=rm.EMPTY_NODE.updateChild(this.indexPath_,ee);return new iJ($,ei)}maxPost(){let g=rm.EMPTY_NODE.updateChild(this.indexPath_,rg);return new iJ(e2,g)}toString(){return ik(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends iX{compare(g,$){let ee=g.node.compareTo($.node);return 0===ee?e6(g.name,$.name):ee}isDefinedOn(g){return!0}indexedValueChanged(g,$){return!g.equals($)}minPost(){return iJ.MIN}maxPost(){return iJ.MAX}makePost(g,$){let ee=ry(g);return new iJ($,ee)}toString(){return".value"}}let rS=new rw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(g){return{type:"value",snapshotNode:g}}function rC(g,$){return{type:"child_added",snapshotNode:$,childName:g}}function rE(g,$){return{type:"child_removed",snapshotNode:$,childName:g}}function rI(g,$,ee){return{type:"child_changed",snapshotNode:$,childName:g,oldSnap:ee}}function rN(g,$){return{type:"child_moved",snapshotNode:$,childName:g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(g){this.index_=g}updateChild(g,$,ee,ei,er,en){(0,ey.hu)(g.isIndexed(this.index_),"A node must be indexed if only a child is updated");let es=g.getImmediateChild($);return es.getChild(ei).equals(ee.getChild(ei))&&es.isEmpty()===ee.isEmpty()?g:(null!=en&&(ee.isEmpty()?g.hasChild($)?en.trackChildChange(rE($,es)):(0,ey.hu)(g.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):es.isEmpty()?en.trackChildChange(rC($,ee)):en.trackChildChange(rI($,ee,es))),g.isLeafNode()&&ee.isEmpty())?g:g.updateImmediateChild($,ee).withIndex(this.index_)}updateFullNode(g,$,ee){return null==ee||(g.isLeafNode()||g.forEachChild(rs,(g,ei)=>{$.hasChild(g)||ee.trackChildChange(rE(g,ei))}),$.isLeafNode()||$.forEachChild(rs,($,ei)=>{if(g.hasChild($)){let er=g.getImmediateChild($);er.equals(ei)||ee.trackChildChange(rI($,ei,er))}else ee.trackChildChange(rC($,ei))})),$.withIndex(this.index_)}updatePriority(g,$){return g.isEmpty()?rm.EMPTY_NODE:g.updatePriority($)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(g){this.indexedFilter_=new rD(g.getIndex()),this.index_=g.getIndex(),this.startPost_=rk.getStartPost_(g),this.endPost_=rk.getEndPost_(g),this.startIsInclusive_=!g.startAfterSet_,this.endIsInclusive_=!g.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(g){let $=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),g):0>this.index_.compare(this.getStartPost(),g),ee=this.endIsInclusive_?0>=this.index_.compare(g,this.getEndPost()):0>this.index_.compare(g,this.getEndPost());return $&&ee}updateChild(g,$,ee,ei,er,en){return this.matches(new iJ($,ee))||(ee=rm.EMPTY_NODE),this.indexedFilter_.updateChild(g,$,ee,ei,er,en)}updateFullNode(g,$,ee){$.isLeafNode()&&($=rm.EMPTY_NODE);let ei=$.withIndex(this.index_);ei=ei.updatePriority(rm.EMPTY_NODE);let er=this;return $.forEachChild(rs,(g,$)=>{er.matches(new iJ(g,$))||(ei=ei.updateImmediateChild(g,rm.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(g,ei,ee)}updatePriority(g,$){return g}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(g){if(!g.hasStart())return g.getIndex().minPost();{let $=g.getIndexStartName();return g.getIndex().makePost(g.getIndexStartValue(),$)}}static getEndPost_(g){if(!g.hasEnd())return g.getIndex().maxPost();{let $=g.getIndexEndName();return g.getIndex().makePost(g.getIndexEndValue(),$)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(g){this.withinDirectionalStart=g=>this.reverse_?this.withinEndPost(g):this.withinStartPost(g),this.withinDirectionalEnd=g=>this.reverse_?this.withinStartPost(g):this.withinEndPost(g),this.withinStartPost=g=>{let $=this.index_.compare(this.rangedFilter_.getStartPost(),g);return this.startIsInclusive_?$<=0:$<0},this.withinEndPost=g=>{let $=this.index_.compare(g,this.rangedFilter_.getEndPost());return this.endIsInclusive_?$<=0:$<0},this.rangedFilter_=new rk(g),this.index_=g.getIndex(),this.limit_=g.getLimit(),this.reverse_=!g.isViewFromLeft(),this.startIsInclusive_=!g.startAfterSet_,this.endIsInclusive_=!g.endBeforeSet_}updateChild(g,$,ee,ei,er,en){return(this.rangedFilter_.matches(new iJ($,ee))||(ee=rm.EMPTY_NODE),g.getImmediateChild($).equals(ee))?g:g.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(g,$,ee,ei,er,en):this.fullLimitUpdateChild_(g,$,ee,er,en)}updateFullNode(g,$,ee){let ei;if($.isLeafNode()||$.isEmpty())ei=rm.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<$.numChildren()&&$.isIndexed(this.index_)){let g;ei=rm.EMPTY_NODE.withIndex(this.index_),g=this.reverse_?$.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):$.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ee=0;for(;g.hasNext()&&ee<this.limit_;){let $=g.getNext();if(this.withinDirectionalStart($)){if(this.withinDirectionalEnd($))ei=ei.updateImmediateChild($.name,$.node),ee++;else break}}}else{let g;ei=(ei=$.withIndex(this.index_)).updatePriority(rm.EMPTY_NODE),g=this.reverse_?ei.getReverseIterator(this.index_):ei.getIterator(this.index_);let ee=0;for(;g.hasNext();){let $=g.getNext(),er=ee<this.limit_&&this.withinDirectionalStart($)&&this.withinDirectionalEnd($);er?ee++:ei=ei.updateImmediateChild($.name,rm.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(g,ei,ee)}updatePriority(g,$){return g}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(g,$,ee,ei,er){let en;if(this.reverse_){let g=this.index_.getCompare();en=($,ee)=>g(ee,$)}else en=this.index_.getCompare();let es=g;(0,ey.hu)(es.numChildren()===this.limit_,"");let eo=new iJ($,ee),ep=this.reverse_?es.getFirstChild(this.index_):es.getLastChild(this.index_),eu=this.rangedFilter_.matches(eo);if(es.hasChild($)){let g=es.getImmediateChild($),eh=ei.getChildAfterChild(this.index_,ep,this.reverse_);for(;null!=eh&&(eh.name===$||es.hasChild(eh.name));)eh=ei.getChildAfterChild(this.index_,eh,this.reverse_);let em=null==eh?1:en(eh,eo),ef=eu&&!ee.isEmpty()&&em>=0;if(ef)return null!=er&&er.trackChildChange(rI($,ee,g)),es.updateImmediateChild($,ee);{null!=er&&er.trackChildChange(rE($,g));let ee=es.updateImmediateChild($,rm.EMPTY_NODE),ei=null!=eh&&this.rangedFilter_.matches(eh);return ei?(null!=er&&er.trackChildChange(rC(eh.name,eh.node)),ee.updateImmediateChild(eh.name,eh.node)):ee}}return ee.isEmpty()?g:eu&&en(ep,eo)>=0?(null!=er&&(er.trackChildChange(rE(ep.name,ep.node)),er.trackChildChange(rC($,ee))),es.updateImmediateChild($,ee).updateImmediateChild(ep.name,rm.EMPTY_NODE)):g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rs}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ey.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return((0,ey.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:e0}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ey.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return((0,ey.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:e2}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ey.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rs}copy(){let g=new rA;return g.limitSet_=this.limitSet_,g.limit_=this.limit_,g.startSet_=this.startSet_,g.startAfterSet_=this.startAfterSet_,g.indexStartValue_=this.indexStartValue_,g.startNameSet_=this.startNameSet_,g.indexStartName_=this.indexStartName_,g.endSet_=this.endSet_,g.endBeforeSet_=this.endBeforeSet_,g.indexEndValue_=this.indexEndValue_,g.endNameSet_=this.endNameSet_,g.indexEndName_=this.indexEndName_,g.index_=this.index_,g.viewFrom_=this.viewFrom_,g}}function rO(g){return g.loadsAllData()?new rD(g.getIndex()):g.hasLimit()?new rR(g):new rk(g)}function rx(g,$,ee){let ei=g.copy();return ei.startSet_=!0,void 0===$&&($=null),ei.indexStartValue_=$,null!=ee?(ei.startNameSet_=!0,ei.indexStartName_=ee):(ei.startNameSet_=!1,ei.indexStartName_=""),ei}function rP(g,$,ee){let ei=g.copy();return ei.endSet_=!0,void 0===$&&($=null),ei.indexEndValue_=$,void 0!==ee?(ei.endNameSet_=!0,ei.indexEndName_=ee):(ei.endNameSet_=!1,ei.indexEndName_=""),ei}function rM(g){let $;let ee={};if(g.isDefault())return ee;if(g.index_===rs?$="$priority":g.index_===rS?$="$value":g.index_===i1?$="$key":((0,ey.hu)(g.index_ instanceof r_,"Unrecognized index type!"),$=g.index_.toString()),ee.orderBy=(0,ey.Wl)($),g.startSet_){let $=g.startAfterSet_?"startAfter":"startAt";ee[$]=(0,ey.Wl)(g.indexStartValue_),g.startNameSet_&&(ee[$]+=","+(0,ey.Wl)(g.indexStartName_))}if(g.endSet_){let $=g.endBeforeSet_?"endBefore":"endAt";ee[$]=(0,ey.Wl)(g.indexEndValue_),g.endNameSet_&&(ee[$]+=","+(0,ey.Wl)(g.indexEndName_))}return g.limitSet_&&(g.isViewFromLeft()?ee.limitToFirst=g.limit_:ee.limitToLast=g.limit_),ee}function rL(g){let $={};if(g.startSet_&&($.sp=g.indexStartValue_,g.startNameSet_&&($.sn=g.indexStartName_),$.sin=!g.startAfterSet_),g.endSet_&&($.ep=g.indexEndValue_,g.endNameSet_&&($.en=g.indexEndName_),$.ein=!g.endBeforeSet_),g.limitSet_){$.l=g.limit_;let ee=g.viewFrom_;""===ee&&(ee=g.isViewFromLeft()?"l":"r"),$.vf=ee}return g.index_!==rs&&($.i=g.index_.toString()),$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF extends ig{constructor(g,$,ee,ei){super(),this.repoInfo_=g,this.onDataUpdate_=$,this.authTokenProvider_=ee,this.appCheckTokenProvider_=ei,this.log_=eG("p:rest:"),this.listens_={}}reportStats(g){throw Error("Method not implemented.")}static getListenId_(g,$){return void 0!==$?"tag$"+$:((0,ey.hu)(g._queryParams.isDefault(),"should have a tag if it's not a default query."),g._path.toString())}listen(g,$,ee,ei){let er=g._path.toString();this.log_("Listen called for "+er+" "+g._queryIdentifier);let en=rF.getListenId_(g,ee),es={};this.listens_[en]=es;let eo=rM(g._queryParams);this.restRequest_(er+".json",eo,(g,$)=>{let eo=$;if(404===g&&(eo=null,g=null),null===g&&this.onDataUpdate_(er,eo,!1,ee),(0,ey.DV)(this.listens_,en)===es){let $;ei($=g?401===g?"permission_denied":"rest_error:"+g:"ok",null)}})}unlisten(g,$){let ee=rF.getListenId_(g,$);delete this.listens_[ee]}get(g){let $=rM(g._queryParams),ee=g._path.toString(),ei=new ey.BH;return this.restRequest_(ee+".json",$,(g,$)=>{let er=$;404===g&&(er=null,g=null),null===g?(this.onDataUpdate_(ee,er,!1,null),ei.resolve(er)):ei.reject(Error(er))}),ei.promise}refreshAuthToken(g){}restRequest_(g,$={},ee){return $.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([ei,er])=>{ei&&ei.accessToken&&($.auth=ei.accessToken),er&&er.token&&($.ac=er.token);let en=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+g+"?ns="+this.repoInfo_.namespace+(0,ey.xO)($);this.log_("Sending REST request for "+en);let es=new XMLHttpRequest;es.onreadystatechange=()=>{if(ee&&4===es.readyState){this.log_("REST Response for "+en+" received. status:",es.status,"response:",es.responseText);let g=null;if(es.status>=200&&es.status<300){try{g=(0,ey.cI)(es.responseText)}catch(g){eJ("Failed to parse JSON response for "+en+": "+es.responseText)}ee(null,g)}else 401!==es.status&&404!==es.status&&eJ("Got unsuccessful REST response for "+en+" Status: "+es.status),ee(es.status);ee=null}},es.open("GET",en,!0),es.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.rootNode_=rm.EMPTY_NODE}getNode(g){return this.rootNode_.getChild(g)}updateSnapshot(g,$){this.rootNode_=this.rootNode_.updateChild(g,$)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(){return{value:null,children:new Map}}function rU(g,$,ee){if(iO($))g.value=ee,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild($,ee);else{let ei=iC($);g.children.has(ei)||g.children.set(ei,rB());let er=g.children.get(ei);rU(er,$=iI($),ee)}}function rj(g,$){if(iO($))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;{let ee=g.value;return g.value=null,ee.forEachChild(rs,($,ee)=>{rU(g,new iS($),ee)}),rj(g,$)}}if(!(g.children.size>0))return!0;{let ee=iC($);if($=iI($),g.children.has(ee)){let ei=rj(g.children.get(ee),$);ei&&g.children.delete(ee)}return 0===g.children.size}}function rq(g,$,ee){null!==g.value?ee($,g.value):rz(g,(g,ei)=>{let er=new iS($.toString()+"/"+g);rq(ei,er,ee)})}function rz(g,$){g.children.forEach((g,ee)=>{$(ee,g)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(g){this.collection_=g,this.last_=null}get(){let g=this.collection_.get(),$=Object.assign({},g);return this.last_&&e8(this.last_,(g,ee)=>{$[g]=$[g]-ee}),this.last_=g,$}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r$=1e4,rW=3e4,rK=3e5;class rG{constructor(g,$){this.server_=$,this.statsToReport_={},this.statsListener_=new rH(g);let ee=r$+(rW-r$)*Math.random();tm(this.reportStats_.bind(this),Math.floor(ee))}reportStats_(){let g=this.statsListener_.get(),$={},ee=!1;e8(g,(g,ei)=>{ei>0&&(0,ey.r3)(this.statsToReport_,g)&&($[g]=ei,ee=!0)}),ee&&this.server_.reportStats($),tm(this.reportStats_.bind(this),Math.floor(2*Math.random()*rK))}}function rQ(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rY(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rJ(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}!function(g){g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(eg||(eg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(g,$,ee){this.path=g,this.affectedTree=$,this.revert=ee,this.type=eg.ACK_USER_WRITE,this.source=rQ()}operationForChild(g){if(!iO(this.path))return(0,ey.hu)(iC(this.path)===g,"operationForChild called for unrelated child."),new rX(iI(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return(0,ey.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let $=this.affectedTree.subtree(new iS(g));return new rX(iT(),$,this.revert)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(g,$){this.source=g,this.path=$,this.type=eg.LISTEN_COMPLETE}operationForChild(g){return iO(this.path)?new rZ(this.source,iT()):new rZ(this.source,iI(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(g,$,ee){this.source=g,this.path=$,this.snap=ee,this.type=eg.OVERWRITE}operationForChild(g){return iO(this.path)?new r1(this.source,iT(),this.snap.getImmediateChild(g)):new r1(this.source,iI(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(g,$,ee){this.source=g,this.path=$,this.children=ee,this.type=eg.MERGE}operationForChild(g){if(!iO(this.path))return(0,ey.hu)(iC(this.path)===g,"Can't get a merge for a child not on the path of the operation"),new r0(this.source,iI(this.path),this.children);{let $=this.children.subtree(new iS(g));return $.isEmpty()?null:$.value?new r1(this.source,iT(),$.value):new r0(this.source,iT(),$)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(g,$,ee){this.node_=g,this.fullyInitialized_=$,this.filtered_=ee}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(g){if(iO(g))return this.isFullyInitialized()&&!this.filtered_;let $=iC(g);return this.isCompleteForChild($)}isCompleteForChild(g){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(g)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(g){this.query_=g,this.index_=this.query_._queryParams.getIndex()}}function r4(g,$,ee,ei){let er=[],en=[];return $.forEach($=>{"child_changed"===$.type&&g.index_.indexedValueChanged($.oldSnap,$.snapshotNode)&&en.push(rN($.childName,$.snapshotNode))}),r3(g,er,"child_removed",$,ei,ee),r3(g,er,"child_added",$,ei,ee),r3(g,er,"child_moved",en,ei,ee),r3(g,er,"child_changed",$,ei,ee),r3(g,er,"value",$,ei,ee),er}function r3(g,$,ee,ei,er,en){let es=ei.filter(g=>g.type===ee);es.sort(($,ee)=>r5(g,$,ee)),es.forEach(ee=>{let ei=r9(g,ee,en);er.forEach(er=>{er.respondsTo(ee.type)&&$.push(er.createEvent(ei,g.query_))})})}function r9(g,$,ee){return"value"===$.type||"child_removed"===$.type||($.prevName=ee.getPredecessorChildName($.childName,$.snapshotNode,g.index_)),$}function r5(g,$,ee){if(null==$.childName||null==ee.childName)throw(0,ey.g5)("Should only compare child_ events.");let ei=new iJ($.childName,$.snapshotNode),er=new iJ(ee.childName,ee.snapshotNode);return g.index_.compare(ei,er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(g,$){return{eventCache:g,serverCache:$}}function r7(g,$,ee,ei){return r8(new r2($,ee,ei),g.serverCache)}function ne(g,$,ee,ei){return r8(g.eventCache,new r2($,ee,ei))}function nt(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function ni(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}let nn=()=>(eh||(eh=new i4(e4)),eh);class no{constructor(g,$=nn()){this.value=g,this.children=$}static fromObject(g){let $=new no(null);return e8(g,(g,ee)=>{$=$.set(new iS(g),ee)}),$}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(g,$){if(null!=this.value&&$(this.value))return{path:iT(),value:this.value};if(iO(g))return null;{let ee=iC(g),ei=this.children.get(ee);if(null===ei)return null;{let er=ei.findRootMostMatchingPathAndValue(iI(g),$);if(null==er)return null;{let g=iA(new iS(ee),er.path);return{path:g,value:er.value}}}}}findRootMostValueAndPath(g){return this.findRootMostMatchingPathAndValue(g,()=>!0)}subtree(g){if(iO(g))return this;{let $=iC(g),ee=this.children.get($);return null!==ee?ee.subtree(iI(g)):new no(null)}}set(g,$){if(iO(g))return new no($,this.children);{let ee=iC(g),ei=this.children.get(ee)||new no(null),er=ei.set(iI(g),$),en=this.children.insert(ee,er);return new no(this.value,en)}}remove(g){if(iO(g))return this.children.isEmpty()?new no(null):new no(null,this.children);{let $=iC(g),ee=this.children.get($);if(!ee)return this;{let ei;let er=ee.remove(iI(g));return(ei=er.isEmpty()?this.children.remove($):this.children.insert($,er),null===this.value&&ei.isEmpty())?new no(null):new no(this.value,ei)}}}get(g){if(iO(g))return this.value;{let $=iC(g),ee=this.children.get($);return ee?ee.get(iI(g)):null}}setTree(g,$){if(iO(g))return $;{let ee;let ei=iC(g),er=this.children.get(ei)||new no(null),en=er.setTree(iI(g),$);return ee=en.isEmpty()?this.children.remove(ei):this.children.insert(ei,en),new no(this.value,ee)}}fold(g){return this.fold_(iT(),g)}fold_(g,$){let ee={};return this.children.inorderTraversal((ei,er)=>{ee[ei]=er.fold_(iA(g,ei),$)}),$(g,this.value,ee)}findOnPath(g,$){return this.findOnPath_(g,iT(),$)}findOnPath_(g,$,ee){let ei=!!this.value&&ee($,this.value);if(ei)return ei;if(iO(g))return null;{let ei=iC(g),er=this.children.get(ei);return er?er.findOnPath_(iI(g),iA($,ei),ee):null}}foreachOnPath(g,$){return this.foreachOnPath_(g,iT(),$)}foreachOnPath_(g,$,ee){if(iO(g))return this;{this.value&&ee($,this.value);let ei=iC(g),er=this.children.get(ei);return er?er.foreachOnPath_(iI(g),iA($,ei),ee):new no(null)}}foreach(g){this.foreach_(iT(),g)}foreach_(g,$){this.children.inorderTraversal((ee,ei)=>{ei.foreach_(iA(g,ee),$)}),this.value&&$(g,this.value)}foreachChild(g){this.children.inorderTraversal(($,ee)=>{ee.value&&g($,ee.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(g){this.writeTree_=g}static empty(){return new np(new no(null))}}function nu(g,$,ee){if(iO($))return new np(new no(ee));{let ei=g.writeTree_.findRootMostValueAndPath($);if(null!=ei){let er=ei.path,en=ei.value,es=ix(er,$);return en=en.updateChild(es,ee),new np(g.writeTree_.set(er,en))}{let ei=new no(ee),er=g.writeTree_.setTree($,ei);return new np(er)}}}function nh(g,$,ee){let ei=g;return e8(ee,(g,ee)=>{ei=nu(ei,iA($,g),ee)}),ei}function nm(g,$){if(iO($))return np.empty();{let ee=g.writeTree_.setTree($,new no(null));return new np(ee)}}function nf(g,$){return null!=ng(g,$)}function ng(g,$){let ee=g.writeTree_.findRootMostValueAndPath($);return null!=ee?g.writeTree_.get(ee.path).getChild(ix(ee.path,$)):null}function nv(g){let $=[],ee=g.writeTree_.value;return null!=ee?ee.isLeafNode()||ee.forEachChild(rs,(g,ee)=>{$.push(new iJ(g,ee))}):g.writeTree_.children.inorderTraversal((g,ee)=>{null!=ee.value&&$.push(new iJ(g,ee.value))}),$}function ny(g,$){if(iO($))return g;{let ee=ng(g,$);return new np(null!=ee?new no(ee):g.writeTree_.subtree($))}}function n_(g){return g.writeTree_.isEmpty()}function nw(g,$){return nS(iT(),g.writeTree_,$)}function nS(g,$,ee){if(null!=$.value)return ee.updateChild(g,$.value);{let ei=null;return $.children.inorderTraversal(($,er)=>{".priority"===$?((0,ey.hu)(null!==er.value,"Priority writes must always be leaf nodes"),ei=er.value):ee=nS(iA(g,$),er,ee)}),ee.getChild(g).isEmpty()||null===ei||(ee=ee.updateChild(iA(g,".priority"),ei)),ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(g,$){return nW($,g)}function nC(g,$,ee,ei,er){(0,ey.hu)(ei>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===er&&(er=!0),g.allWrites.push({path:$,snap:ee,writeId:ei,visible:er}),er&&(g.visibleWrites=nu(g.visibleWrites,$,ee)),g.lastWriteId=ei}function nE(g,$,ee,ei){assert(ei>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:$,children:ee,writeId:ei,visible:!0}),g.visibleWrites=nh(g.visibleWrites,$,ee),g.lastWriteId=ei}function nI(g,$){for(let ee=0;ee<g.allWrites.length;ee++){let ei=g.allWrites[ee];if(ei.writeId===$)return ei}return null}function nN(g,$){let ee=g.allWrites.findIndex(g=>g.writeId===$);(0,ey.hu)(ee>=0,"removeWrite called with nonexistent writeId.");let ei=g.allWrites[ee];g.allWrites.splice(ee,1);let er=ei.visible,en=!1,es=g.allWrites.length-1;for(;er&&es>=0;){let $=g.allWrites[es];$.visible&&(es>=ee&&nD($,ei.path)?er=!1:iL(ei.path,$.path)&&(en=!0)),es--}if(!er)return!1;if(en)return nk(g),!0;if(ei.snap)g.visibleWrites=nm(g.visibleWrites,ei.path);else{let $=ei.children;e8($,$=>{g.visibleWrites=nm(g.visibleWrites,iA(ei.path,$))})}return!0}function nD(g,$){if(g.snap)return iL(g.path,$);for(let ee in g.children)if(g.children.hasOwnProperty(ee)&&iL(iA(g.path,ee),$))return!0;return!1}function nk(g){g.visibleWrites=nA(g.allWrites,nR,iT()),g.allWrites.length>0?g.lastWriteId=g.allWrites[g.allWrites.length-1].writeId:g.lastWriteId=-1}function nR(g){return g.visible}function nA(g,$,ee){let ei=np.empty();for(let er=0;er<g.length;++er){let en=g[er];if($(en)){let g;let $=en.path;if(en.snap)iL(ee,$)?ei=nu(ei,g=ix(ee,$),en.snap):iL($,ee)&&(g=ix($,ee),ei=nu(ei,iT(),en.snap.getChild(g)));else if(en.children){if(iL(ee,$))ei=nh(ei,g=ix(ee,$),en.children);else if(iL($,ee)){if(iO(g=ix($,ee)))ei=nh(ei,iT(),en.children);else{let $=(0,ey.DV)(en.children,iC(g));if($){let ee=$.getChild(iI(g));ei=nu(ei,iT(),ee)}}}}else throw(0,ey.g5)("WriteRecord should have .snap or .children")}}return ei}function nO(g,$,ee,ei,er){if(ei||er){let en=ny(g.visibleWrites,$);if(!er&&n_(en))return ee;if(!er&&null==ee&&!nf(en,iT()))return null;{let en=function(g){return(g.visible||er)&&(!ei||!~ei.indexOf(g.writeId))&&(iL(g.path,$)||iL($,g.path))},es=nA(g.allWrites,en,$),eo=ee||rm.EMPTY_NODE;return nw(es,eo)}}{let ei=ng(g.visibleWrites,$);if(null!=ei)return ei;{let ei=ny(g.visibleWrites,$);if(n_(ei))return ee;if(null==ee&&!nf(ei,iT()))return null;{let g=ee||rm.EMPTY_NODE;return nw(ei,g)}}}}function nx(g,$,ee){let ei=rm.EMPTY_NODE,er=ng(g.visibleWrites,$);if(er)return er.isLeafNode()||er.forEachChild(rs,(g,$)=>{ei=ei.updateImmediateChild(g,$)}),ei;if(ee){let er=ny(g.visibleWrites,$);return ee.forEachChild(rs,(g,$)=>{let ee=nw(ny(er,new iS(g)),$);ei=ei.updateImmediateChild(g,ee)}),nv(er).forEach(g=>{ei=ei.updateImmediateChild(g.name,g.node)}),ei}{let ee=ny(g.visibleWrites,$);return nv(ee).forEach(g=>{ei=ei.updateImmediateChild(g.name,g.node)}),ei}}function nP(g,$,ee,ei,er){(0,ey.hu)(ei||er,"Either existingEventSnap or existingServerSnap must exist");let en=iA($,ee);if(nf(g.visibleWrites,en))return null;{let $=ny(g.visibleWrites,en);return n_($)?er.getChild(ee):nw($,er.getChild(ee))}}function nM(g,$,ee,ei){let er=iA($,ee),en=ng(g.visibleWrites,er);if(null!=en)return en;if(!ei.isCompleteForChild(ee))return null;{let $=ny(g.visibleWrites,er);return nw($,ei.getNode().getImmediateChild(ee))}}function nL(g,$){return ng(g.visibleWrites,$)}function nF(g,$,ee,ei,er,en,es){let eo;let ep=ny(g.visibleWrites,$),eu=ng(ep,iT());if(null!=eu)eo=eu;else{if(null==ee)return[];eo=nw(ep,ee)}if((eo=eo.withIndex(es)).isEmpty()||eo.isLeafNode())return[];{let g=[],$=es.getCompare(),ee=en?eo.getReverseIteratorFrom(ei,es):eo.getIteratorFrom(ei,es),ep=ee.getNext();for(;ep&&g.length<er;)0!==$(ep,ei)&&g.push(ep),ep=ee.getNext();return g}}function nV(){return{visibleWrites:np.empty(),allWrites:[],lastWriteId:-1}}function nB(g,$,ee,ei){return nO(g.writeTree,g.treePath,$,ee,ei)}function nU(g,$){return nx(g.writeTree,g.treePath,$)}function nj(g,$,ee,ei){return nP(g.writeTree,g.treePath,$,ee,ei)}function nq(g,$){return nL(g.writeTree,iA(g.treePath,$))}function nz(g,$,ee,ei,er,en){return nF(g.writeTree,g.treePath,$,ee,ei,er,en)}function nH(g,$,ee){return nM(g.writeTree,g.treePath,$,ee)}function n$(g,$){return nW(iA(g.treePath,$),g.writeTree)}function nW(g,$){return{treePath:g,writeTree:$}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.changeMap=new Map}trackChildChange(g){let $=g.type,ee=g.childName;(0,ey.hu)("child_added"===$||"child_changed"===$||"child_removed"===$,"Only child changes supported for tracking"),(0,ey.hu)(".priority"!==ee,"Only non-priority child changes can be tracked.");let ei=this.changeMap.get(ee);if(ei){let er=ei.type;if("child_added"===$&&"child_removed"===er)this.changeMap.set(ee,rI(ee,g.snapshotNode,ei.snapshotNode));else if("child_removed"===$&&"child_added"===er)this.changeMap.delete(ee);else if("child_removed"===$&&"child_changed"===er)this.changeMap.set(ee,rE(ee,ei.oldSnap));else if("child_changed"===$&&"child_added"===er)this.changeMap.set(ee,rC(ee,g.snapshotNode));else if("child_changed"===$&&"child_changed"===er)this.changeMap.set(ee,rI(ee,g.snapshotNode,ei.oldSnap));else throw(0,ey.g5)("Illegal combination of changes: "+g+" occurred after "+ei)}else this.changeMap.set(ee,g)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{getCompleteChild(g){return null}getChildAfterChild(g,$,ee){return null}}let nQ=new nG;class nY{constructor(g,$,ee=null){this.writes_=g,this.viewCache_=$,this.optCompleteServerCache_=ee}getCompleteChild(g){let $=this.viewCache_.eventCache;if($.isCompleteForChild(g))return $.getNode().getImmediateChild(g);{let $=null!=this.optCompleteServerCache_?new r2(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nH(this.writes_,g,$)}}getChildAfterChild(g,$,ee){let ei=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ni(this.viewCache_),er=nz(this.writes_,ei,$,1,ee,g);return 0===er.length?null:er[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(g){return{filter:g}}function nX(g,$){(0,ey.hu)($.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,ey.hu)($.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}function nZ(g,$,ee,ei,er){let en,es;let eo=new nK;if(ee.type===eg.OVERWRITE){let ep=ee;ep.source.fromUser?en=n3(g,$,ep.path,ep.snap,ei,er,eo):((0,ey.hu)(ep.source.fromServer,"Unknown source."),es=ep.source.tagged||$.serverCache.isFiltered()&&!iO(ep.path),en=n4(g,$,ep.path,ep.snap,ei,er,es,eo))}else if(ee.type===eg.MERGE){let ep=ee;ep.source.fromUser?en=n5(g,$,ep.path,ep.children,ei,er,eo):((0,ey.hu)(ep.source.fromServer,"Unknown source."),es=ep.source.tagged||$.serverCache.isFiltered(),en=n7(g,$,ep.path,ep.children,ei,er,es,eo))}else if(ee.type===eg.ACK_USER_WRITE){let es=ee;en=es.revert?an(g,$,es.path,ei,er,eo):ai(g,$,es.path,es.affectedTree,ei,er,eo)}else if(ee.type===eg.LISTEN_COMPLETE)en=ar(g,$,ee.path,ei,eo);else throw(0,ey.g5)("Unknown operation type: "+ee.type);let ep=eo.getChanges();return n0($,en,ep),{viewCache:en,changes:ep}}function n0(g,$,ee){let ei=$.eventCache;if(ei.isFullyInitialized()){let er=ei.getNode().isLeafNode()||ei.getNode().isEmpty(),en=nt(g);!(ee.length>0)&&g.eventCache.isFullyInitialized()&&(!er||ei.getNode().equals(en))&&ei.getNode().getPriority().equals(en.getPriority())||ee.push(rT(nt($)))}}function n6(g,$,ee,ei,er,en){let es=$.eventCache;if(null!=nq(ei,ee))return $;{let eo,ep;if(iO(ee)){if((0,ey.hu)($.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),$.serverCache.isFiltered()){let ee=ni($),er=ee instanceof rm?ee:rm.EMPTY_NODE,es=nU(ei,er);eo=g.filter.updateFullNode($.eventCache.getNode(),es,en)}else{let ee=nB(ei,ni($));eo=g.filter.updateFullNode($.eventCache.getNode(),ee,en)}}else{let eu=iC(ee);if(".priority"===eu){(0,ey.hu)(1===iE(ee),"Can't have a priority with additional path components");let er=es.getNode();ep=$.serverCache.getNode();let en=nj(ei,ee,er,ep);eo=null!=en?g.filter.updatePriority(er,en):es.getNode()}else{let eh;let em=iI(ee);if(es.isCompleteForChild(eu)){ep=$.serverCache.getNode();let g=nj(ei,ee,es.getNode(),ep);eh=null!=g?es.getNode().getImmediateChild(eu).updateChild(em,g):es.getNode().getImmediateChild(eu)}else eh=nH(ei,eu,$.serverCache);eo=null!=eh?g.filter.updateChild(es.getNode(),eu,eh,em,er,en):es.getNode()}}return r7($,eo,es.isFullyInitialized()||iO(ee),g.filter.filtersNodes())}}function n4(g,$,ee,ei,er,en,es,eo){let ep;let eu=$.serverCache,eh=es?g.filter:g.filter.getIndexedFilter();if(iO(ee))ep=eh.updateFullNode(eu.getNode(),ei,null);else if(eh.filtersNodes()&&!eu.isFiltered()){let g=eu.getNode().updateChild(ee,ei);ep=eh.updateFullNode(eu.getNode(),g,null)}else{let g=iC(ee);if(!eu.isCompleteForPath(ee)&&iE(ee)>1)return $;let er=iI(ee),en=eu.getNode().getImmediateChild(g),es=en.updateChild(er,ei);ep=".priority"===g?eh.updatePriority(eu.getNode(),es):eh.updateChild(eu.getNode(),g,es,er,nQ,null)}let em=ne($,ep,eu.isFullyInitialized()||iO(ee),eh.filtersNodes()),ef=new nY(er,em,en);return n6(g,em,ee,er,ef,eo)}function n3(g,$,ee,ei,er,en,es){let eo,ep;let eu=$.eventCache,eh=new nY(er,$,en);if(iO(ee))ep=g.filter.updateFullNode($.eventCache.getNode(),ei,es),eo=r7($,ep,!0,g.filter.filtersNodes());else{let er=iC(ee);if(".priority"===er)ep=g.filter.updatePriority($.eventCache.getNode(),ei),eo=r7($,ep,eu.isFullyInitialized(),eu.isFiltered());else{let en;let ep=iI(ee),em=eu.getNode().getImmediateChild(er);if(iO(ep))en=ei;else{let g=eh.getCompleteChild(er);en=null!=g?".priority"===iN(ep)&&g.getChild(iR(ep)).isEmpty()?g:g.updateChild(ep,ei):rm.EMPTY_NODE}if(em.equals(en))eo=$;else{let ee=g.filter.updateChild(eu.getNode(),er,en,ep,eh,es);eo=r7($,ee,eu.isFullyInitialized(),g.filter.filtersNodes())}}}return eo}function n9(g,$){return g.eventCache.isCompleteForChild($)}function n5(g,$,ee,ei,er,en,es){let eo=$;return ei.foreach((ei,ep)=>{let eu=iA(ee,ei);n9($,iC(eu))&&(eo=n3(g,eo,eu,ep,er,en,es))}),ei.foreach((ei,ep)=>{let eu=iA(ee,ei);n9($,iC(eu))||(eo=n3(g,eo,eu,ep,er,en,es))}),eo}function n8(g,$,ee){return ee.foreach((g,ee)=>{$=$.updateChild(g,ee)}),$}function n7(g,$,ee,ei,er,en,es,eo){let ep;if($.serverCache.getNode().isEmpty()&&!$.serverCache.isFullyInitialized())return $;let eu=$;ep=iO(ee)?ei:new no(null).setTree(ee,ei);let eh=$.serverCache.getNode();return ep.children.inorderTraversal((ee,ei)=>{if(eh.hasChild(ee)){let ep=$.serverCache.getNode().getImmediateChild(ee),eh=n8(g,ep,ei);eu=n4(g,eu,new iS(ee),eh,er,en,es,eo)}}),ep.children.inorderTraversal((ee,ei)=>{let ep=!$.serverCache.isCompleteForChild(ee)&&null===ei.value;if(!eh.hasChild(ee)&&!ep){let ep=$.serverCache.getNode().getImmediateChild(ee),eh=n8(g,ep,ei);eu=n4(g,eu,new iS(ee),eh,er,en,es,eo)}}),eu}function ai(g,$,ee,ei,er,en,es){if(null!=nq(er,ee))return $;let eo=$.serverCache.isFiltered(),ep=$.serverCache;if(null!=ei.value){if(iO(ee)&&ep.isFullyInitialized()||ep.isCompleteForPath(ee))return n4(g,$,ee,ep.getNode().getChild(ee),er,en,eo,es);if(!iO(ee))return $;{let ei=new no(null);return ep.getNode().forEachChild(i1,(g,$)=>{ei=ei.set(new iS(g),$)}),n7(g,$,ee,ei,er,en,eo,es)}}{let eu=new no(null);return ei.foreach((g,$)=>{let ei=iA(ee,g);ep.isCompleteForPath(ei)&&(eu=eu.set(g,ep.getNode().getChild(ei)))}),n7(g,$,ee,eu,er,en,eo,es)}}function ar(g,$,ee,ei,er){let en=$.serverCache,es=ne($,en.getNode(),en.isFullyInitialized()||iO(ee),en.isFiltered());return n6(g,es,ee,ei,nQ,er)}function an(g,$,ee,ei,er,en){let es;if(null!=nq(ei,ee))return $;{let eo;let ep=new nY(ei,$,er),eu=$.eventCache.getNode();if(iO(ee)||".priority"===iC(ee)){let ee;if($.serverCache.isFullyInitialized())ee=nB(ei,ni($));else{let g=$.serverCache.getNode();(0,ey.hu)(g instanceof rm,"serverChildren would be complete if leaf node"),ee=nU(ei,g)}eo=g.filter.updateFullNode(eu,ee,en)}else{let er=iC(ee),eh=nH(ei,er,$.serverCache);null==eh&&$.serverCache.isCompleteForChild(er)&&(eh=eu.getImmediateChild(er)),(eo=null!=eh?g.filter.updateChild(eu,er,eh,iI(ee),ep,en):$.eventCache.getNode().hasChild(er)?g.filter.updateChild(eu,er,rm.EMPTY_NODE,iI(ee),ep,en):eu).isEmpty()&&$.serverCache.isFullyInitialized()&&(es=nB(ei,ni($))).isLeafNode()&&(eo=g.filter.updateFullNode(eo,es,en))}return es=$.serverCache.isFullyInitialized()||null!=nq(ei,iT()),r7($,eo,es,g.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(g,$){this.query_=g,this.eventRegistrations_=[];let ee=this.query_._queryParams,ei=new rD(ee.getIndex()),er=rO(ee);this.processor_=nJ(er);let en=$.serverCache,es=$.eventCache,eo=ei.updateFullNode(rm.EMPTY_NODE,en.getNode(),null),ep=er.updateFullNode(rm.EMPTY_NODE,es.getNode(),null),eu=new r2(eo,en.isFullyInitialized(),ei.filtersNodes()),eh=new r2(ep,es.isFullyInitialized(),er.filtersNodes());this.viewCache_=r8(eh,eu),this.eventGenerator_=new r6(this.query_)}get query(){return this.query_}}function ao(g){return g.viewCache_.serverCache.getNode()}function al(g){return nt(g.viewCache_)}function ap(g,$){let ee=ni(g.viewCache_);return ee&&(g.query._queryParams.loadsAllData()||!iO($)&&!ee.getImmediateChild(iC($)).isEmpty())?ee.getChild($):null}function au(g){return 0===g.eventRegistrations_.length}function ah(g,$){g.eventRegistrations_.push($)}function am(g,$,ee){let ei=[];if(ee){(0,ey.hu)(null==$,"A cancel should cancel all event registrations.");let er=g.query._path;g.eventRegistrations_.forEach(g=>{let $=g.createCancelEvent(ee,er);$&&ei.push($)})}if($){let ee=[];for(let ei=0;ei<g.eventRegistrations_.length;++ei){let er=g.eventRegistrations_[ei];if(er.matches($)){if($.hasAnyCallback()){ee=ee.concat(g.eventRegistrations_.slice(ei+1));break}}else ee.push(er)}g.eventRegistrations_=ee}else g.eventRegistrations_=[];return ei}function af(g,$,ee,ei){$.type===eg.MERGE&&null!==$.source.queryId&&((0,ey.hu)(ni(g.viewCache_),"We should always have a full cache before handling merges"),(0,ey.hu)(nt(g.viewCache_),"Missing event cache, even though we have a server cache"));let er=g.viewCache_,en=nZ(g.processor_,er,$,ee,ei);return nX(g.processor_,en.viewCache),(0,ey.hu)(en.viewCache.serverCache.isFullyInitialized()||!er.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=en.viewCache,av(g,en.changes,en.viewCache.eventCache.getNode(),null)}function ag(g,$){let ee=g.viewCache_.eventCache,ei=[];if(!ee.getNode().isLeafNode()){let g=ee.getNode();g.forEachChild(rs,(g,$)=>{ei.push(rC(g,$))})}return ee.isFullyInitialized()&&ei.push(rT(ee.getNode())),av(g,ei,ee.getNode(),$)}function av(g,$,ee,ei){let er=ei?[ei]:g.eventRegistrations_;return r4(g.eventGenerator_,$,ee,er)}class ay{constructor(){this.views=new Map}}function a_(g){(0,ey.hu)(!em,"__referenceConstructor has already been defined"),em=g}function aw(){return(0,ey.hu)(em,"Reference.ts has not been loaded"),em}function aS(g){return 0===g.views.size}function aT(g,$,ee,ei){let er=$.source.queryId;if(null!==er){let en=g.views.get(er);return(0,ey.hu)(null!=en,"SyncTree gave us an op for an invalid query."),af(en,$,ee,ei)}{let er=[];for(let en of g.views.values())er=er.concat(af(en,$,ee,ei));return er}}function aC(g,$,ee,ei,er){let en=$._queryIdentifier,es=g.views.get(en);if(!es){let g=nB(ee,er?ei:null),en=!1;g?en=!0:(g=ei instanceof rm?nU(ee,ei):rm.EMPTY_NODE,en=!1);let es=r8(new r2(g,en,!1),new r2(ei,er,!1));return new as($,es)}return es}function aE(g,$,ee,ei,er,en){let es=aC(g,$,ei,er,en);return g.views.has($._queryIdentifier)||g.views.set($._queryIdentifier,es),ah(es,ee),ag(es,ee)}function aI(g,$,ee,ei){let er=$._queryIdentifier,en=[],es=[],eo=aA(g);if("default"===er)for(let[$,er]of g.views.entries())es=es.concat(am(er,ee,ei)),au(er)&&(g.views.delete($),er.query._queryParams.loadsAllData()||en.push(er.query));else{let $=g.views.get(er);$&&(es=es.concat(am($,ee,ei)),au($)&&(g.views.delete(er),$.query._queryParams.loadsAllData()||en.push($.query)))}return eo&&!aA(g)&&en.push(new(aw())($._repo,$._path)),{removed:en,events:es}}function aN(g){let $=[];for(let ee of g.views.values())ee.query._queryParams.loadsAllData()||$.push(ee);return $}function aD(g,$){let ee=null;for(let ei of g.views.values())ee=ee||ap(ei,$);return ee}function ak(g,$){let ee=$._queryParams;if(ee.loadsAllData())return aO(g);{let ee=$._queryIdentifier;return g.views.get(ee)}}function aR(g,$){return null!=ak(g,$)}function aA(g){return null!=aO(g)}function aO(g){for(let $ of g.views.values())if($.query._queryParams.loadsAllData())return $;return null}function ax(g){(0,ey.hu)(!ef,"__referenceConstructor has already been defined"),ef=g}function aP(){return(0,ey.hu)(ef,"Reference.ts has not been loaded"),ef}let aM=1;class aL{constructor(g){this.listenProvider_=g,this.syncPointTree_=new no(null),this.pendingWriteTree_=nV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aF(g,$,ee,ei,er){return(nC(g.pendingWriteTree_,$,ee,ei,er),er)?aG(g,new r1(rQ(),$,ee)):[]}function aV(g,$,ee=!1){let ei=nI(g.pendingWriteTree_,$),er=nN(g.pendingWriteTree_,$);if(!er)return[];{let $=new no(null);return null!=ei.snap?$=$.set(iT(),!0):e8(ei.children,g=>{$=$.set(new iS(g),!0)}),aG(g,new rX(ei.path,$,ee))}}function aB(g,$,ee){return aG(g,new r1(rY(),$,ee))}function aU(g,$,ee){let ei=no.fromObject(ee);return aG(g,new r0(rY(),$,ei))}function aj(g,$){return aG(g,new rZ(rY(),$))}function aq(g,$,ee){let ei=a1(g,ee);if(!ei)return[];{let ee=a0(ei),er=ee.path,en=ee.queryId,es=ix(er,$),eo=new rZ(rJ(en),es);return a2(g,er,eo)}}function az(g,$,ee,ei,er=!1){let en=$._path,es=g.syncPointTree_.get(en),eo=[];if(es&&("default"===$._queryIdentifier||aR(es,$))){let ep=aI(es,$,ee,ei);aS(es)&&(g.syncPointTree_=g.syncPointTree_.remove(en));let eu=ep.removed;if(eo=ep.events,!er){let ee=-1!==eu.findIndex(g=>g._queryParams.loadsAllData()),er=g.syncPointTree_.findOnPath(en,(g,$)=>aA($));if(ee&&!er){let $=g.syncPointTree_.subtree(en);if(!$.isEmpty()){let ee=a6($);for(let $=0;$<ee.length;++$){let ei=ee[$],er=ei.query,en=aJ(g,ei);g.listenProvider_.startListening(a4(er),aX(g,er),en.hashFn,en.onComplete)}}}if(!er&&eu.length>0&&!ei){if(ee){let ee=null;g.listenProvider_.stopListening(a4($),ee)}else eu.forEach($=>{let ee=g.queryToTagMap.get(aZ($));g.listenProvider_.stopListening(a4($),ee)})}}a3(g,eu)}return eo}function aH(g,$,ee,ei){let er=a1(g,ei);if(null==er)return[];{let ei=a0(er),en=ei.path,es=ei.queryId,eo=ix(en,$),ep=new r1(rJ(es),eo,ee);return a2(g,en,ep)}}function a$(g,$,ee,ei){let er=a1(g,ei);if(!er)return[];{let ei=a0(er),en=ei.path,es=ei.queryId,eo=ix(en,$),ep=no.fromObject(ee),eu=new r0(rJ(es),eo,ep);return a2(g,en,eu)}}function aW(g,$,ee,ei=!1){let er;let en=$._path,es=null,eo=!1;g.syncPointTree_.foreachOnPath(en,(g,$)=>{let ee=ix(g,en);es=es||aD($,ee),eo=eo||aA($)});let ep=g.syncPointTree_.get(en);if(ep?(eo=eo||aA(ep),es=es||aD(ep,iT())):(ep=new ay,g.syncPointTree_=g.syncPointTree_.set(en,ep)),null!=es)er=!0;else{er=!1,es=rm.EMPTY_NODE;let $=g.syncPointTree_.subtree(en);$.foreachChild((g,$)=>{let ee=aD($,iT());ee&&(es=es.updateImmediateChild(g,ee))})}let eu=aR(ep,$);if(!eu&&!$._queryParams.loadsAllData()){let ee=aZ($);(0,ey.hu)(!g.queryToTagMap.has(ee),"View does not exist, but we have a tag");let ei=a9();g.queryToTagMap.set(ee,ei),g.tagToQueryMap.set(ei,ee)}let eh=nT(g.pendingWriteTree_,en),em=aE(ep,$,ee,eh,es,er);if(!eu&&!eo&&!ei){let ee=ak(ep,$);em=em.concat(a5(g,$,ee))}return em}function aK(g,$,ee){let ei=!0,er=g.pendingWriteTree_,en=g.syncPointTree_.findOnPath($,(g,ee)=>{let ei=ix(g,$),er=aD(ee,ei);if(er)return er});return nO(er,$,en,ee,ei)}function aG(g,$){return aQ($,g.syncPointTree_,null,nT(g.pendingWriteTree_,iT()))}function aQ(g,$,ee,ei){if(iO(g.path))return aY(g,$,ee,ei);{let er=$.get(iT());null==ee&&null!=er&&(ee=aD(er,iT()));let en=[],es=iC(g.path),eo=g.operationForChild(es),ep=$.children.get(es);if(ep&&eo){let g=ee?ee.getImmediateChild(es):null,$=n$(ei,es);en=en.concat(aQ(eo,ep,g,$))}return er&&(en=en.concat(aT(er,g,ei,ee))),en}}function aY(g,$,ee,ei){let er=$.get(iT());null==ee&&null!=er&&(ee=aD(er,iT()));let en=[];return $.children.inorderTraversal(($,er)=>{let es=ee?ee.getImmediateChild($):null,eo=n$(ei,$),ep=g.operationForChild($);ep&&(en=en.concat(aY(ep,er,es,eo)))}),er&&(en=en.concat(aT(er,g,ei,ee))),en}function aJ(g,$){let ee=$.query,ei=aX(g,ee);return{hashFn:()=>{let g=ao($)||rm.EMPTY_NODE;return g.hash()},onComplete:$=>{if("ok"===$)return ei?aq(g,ee._path,ei):aj(g,ee._path);{let ei=ti($,ee);return az(g,ee,null,ei)}}}}function aX(g,$){let ee=aZ($);return g.queryToTagMap.get(ee)}function aZ(g){return g._path.toString()+"$"+g._queryIdentifier}function a1(g,$){return g.tagToQueryMap.get($)}function a0(g){let $=g.indexOf("$");return(0,ey.hu)(-1!==$&&$<g.length-1,"Bad queryKey."),{queryId:g.substr($+1),path:new iS(g.substr(0,$))}}function a2(g,$,ee){let ei=g.syncPointTree_.get($);(0,ey.hu)(ei,"Missing sync point for query tag that we're tracking");let er=nT(g.pendingWriteTree_,$);return aT(ei,ee,er,null)}function a6(g){return g.fold((g,$,ee)=>{if($&&aA($)){let g=aO($);return[g]}{let g=[];return $&&(g=aN($)),e8(ee,($,ee)=>{g=g.concat(ee)}),g}})}function a4(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new(aP())(g._repo,g._path):g}function a3(g,$){for(let ee=0;ee<$.length;++ee){let ei=$[ee];if(!ei._queryParams.loadsAllData()){let $=aZ(ei),ee=g.queryToTagMap.get($);g.queryToTagMap.delete($),g.tagToQueryMap.delete(ee)}}}function a9(){return aM++}function a5(g,$,ee){let ei=$._path,er=aX(g,$),en=aJ(g,ee),es=g.listenProvider_.startListening(a4($),er,en.hashFn,en.onComplete),eo=g.syncPointTree_.subtree(ei);if(er)(0,ey.hu)(!aA(eo.value),"If we're adding a query, it shouldn't be shadowed");else{let $=eo.fold((g,$,ee)=>{if(!iO(g)&&$&&aA($))return[aO($).query];{let g=[];return $&&(g=g.concat(aN($).map(g=>g.query))),e8(ee,($,ee)=>{g=g.concat(ee)}),g}});for(let ee=0;ee<$.length;++ee){let ei=$[ee];g.listenProvider_.stopListening(a4(ei),aX(g,ei))}}return es}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(g){this.node_=g}getImmediateChild(g){let $=this.node_.getImmediateChild(g);return new a8($)}node(){return this.node_}}class a7{constructor(g,$){this.syncTree_=g,this.path_=$}getImmediateChild(g){let $=iA(this.path_,g);return new a7(this.syncTree_,$)}node(){return aK(this.syncTree_,this.path_)}}let se=function(g){return(g=g||{}).timestamp=g.timestamp||new Date().getTime(),g},st=function(g,$,ee){return g&&"object"==typeof g?((0,ey.hu)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"])?si(g[".sv"],$,ee):"object"==typeof g[".sv"]?sr(g[".sv"],$):void(0,ey.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2)):g},si=function(g,$,ee){if("timestamp"===g)return ee.timestamp;(0,ey.hu)(!1,"Unexpected server value: "+g)},sr=function(g,$,ee){g.hasOwnProperty("increment")||(0,ey.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));let ei=g.increment;"number"!=typeof ei&&(0,ey.hu)(!1,"Unexpected increment value: "+ei);let er=$.node();if((0,ey.hu)(null!=er,"Expected ChildrenNode.EMPTY_NODE for nulls"),!er.isLeafNode())return ei;let en=er,es=en.getValue();return"number"!=typeof es?ei:es+ei},sn=function(g,$,ee,ei){return so($,new a7(ee,g),ei)},ss=function(g,$,ee){return so(g,new a8($),ee)};function so(g,$,ee){let ei;let er=g.getPriority().val(),en=st(er,$.getImmediateChild(".priority"),ee);if(g.isLeafNode()){let ei=g,er=st(ei.getValue(),$,ee);return er!==ei.getValue()||en!==ei.getPriority().val()?new rt(er,ry(en)):g}{let er=g;return ei=er,en!==er.getPriority().val()&&(ei=ei.updatePriority(new rt(en))),er.forEachChild(rs,(g,er)=>{let en=so(er,$.getImmediateChild(g),ee);en!==er&&(ei=ei.updateImmediateChild(g,en))}),ei}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(g="",$=null,ee={children:{},childCount:0}){this.name=g,this.parent=$,this.node=ee}}function su(g,$){let ee=$ instanceof iS?$:new iS($),ei=g,er=iC(ee);for(;null!==er;){let g=(0,ey.DV)(ei.node.children,er)||{children:{},childCount:0};ei=new sl(er,ei,g),er=iC(ee=iI(ee))}return ei}function sh(g){return g.node.value}function sm(g,$){g.node.value=$,sS(g)}function sf(g){return g.node.childCount>0}function sg(g){return void 0===sh(g)&&!sf(g)}function sv(g,$){e8(g.node.children,(ee,ei)=>{$(new sl(ee,g,ei))})}function sy(g,$,ee,ei){ee&&!ei&&$(g),sv(g,g=>{sy(g,$,!0,ei)}),ee&&ei&&$(g)}function s_(g,$,ee){let ei=ee?g:g.parent;for(;null!==ei;){if($(ei))return!0;ei=ei.parent}return!1}function sw(g){return new iS(null===g.parent?g.name:sw(g.parent)+"/"+g.name)}function sS(g){null!==g.parent&&sT(g.parent,g.name,g)}function sT(g,$,ee){let ei=sg(ee),er=(0,ey.r3)(g.node.children,$);ei&&er?(delete g.node.children[$],g.node.childCount--,sS(g)):ei||er||(g.node.children[$]=ee.node,g.node.childCount++,sS(g))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sC=/[\[\].#$\/\u0000-\u001F\u007F]/,sE=/[\[\].#$\u0000-\u001F\u007F]/,sI=10485760,sN=function(g){return"string"==typeof g&&0!==g.length&&!sC.test(g)},sD=function(g){return"string"==typeof g&&0!==g.length&&!sE.test(g)},sk=function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),sD(g)},sR=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!eZ(g)||g&&"object"==typeof g&&contains(g,".sv")},sA=function(g,$,ee,ei){ei&&void 0===$||sO(errorPrefix(g,"value"),$,ee)},sO=function(g,$,ee){let ei=ee instanceof iS?new iF(ee,g):ee;if(void 0===$)throw Error(g+"contains undefined "+ij(ei));if("function"==typeof $)throw Error(g+"contains a function "+ij(ei)+" with contents = "+$.toString());if(eZ($))throw Error(g+"contains "+$.toString()+" "+ij(ei));if("string"==typeof $&&$.length>sI/3&&(0,ey.ug)($)>sI)throw Error(g+"contains a string greater than "+sI+" utf8 bytes "+ij(ei)+" ('"+$.substring(0,50)+"...')");if($&&"object"==typeof $){let ee=!1,er=!1;if(e8($,($,en)=>{if(".value"===$)ee=!0;else if(".priority"!==$&&".sv"!==$&&(er=!0,!sN($)))throw Error(g+" contains an invalid key ("+$+") "+ij(ei)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');iV(ei,$),sO(g,en,ei),iB(ei)}),ee&&er)throw Error(g+' contains ".value" child '+ij(ei)+" in addition to actual children.")}},sx=function(g,$){let ee,ei;for(ee=0;ee<$.length;ee++){ei=$[ee];let er=ik(ei);for(let $=0;$<er.length;$++)if(".priority"===er[$]&&$===er.length-1);else if(!sN(er[$]))throw Error(g+"contains an invalid key ("+er[$]+") in path "+ei.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}$.sort(iP);let er=null;for(ee=0;ee<$.length;ee++){if(ei=$[ee],null!==er&&iL(er,ei))throw Error(g+"contains a path "+er.toString()+" that is ancestor of another path "+ei.toString());er=ei}},sP=function(g,$,ee,ei){if((!ei||void 0!==ee)&&!sD(ee))throw Error((0,ey.gK)(g,$)+'was an invalid path = "'+ee+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sM=function(g,$,ee,ei){ee&&(ee=ee.replace(/^\/*\.info(\/|$)/,"/")),sP(g,$,ee,ei)},sL=function(g,$){let ee=$.path.toString();if("string"!=typeof $.repoInfo.host||0===$.repoInfo.host.length||!sN($.repoInfo.namespace)&&"localhost"!==$.repoInfo.host.split(":")[0]||0!==ee.length&&!sk(ee))throw Error((0,ey.gK)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sV(g,$){let ee=null;for(let ei=0;ei<$.length;ei++){let er=$[ei],en=er.getPath();null===ee||iM(en,ee.path)||(g.eventLists_.push(ee),ee=null),null===ee&&(ee={events:[],path:en}),ee.events.push(er)}ee&&g.eventLists_.push(ee)}function sB(g,$,ee){sV(g,ee),sj(g,g=>iM(g,$))}function sU(g,$,ee){sV(g,ee),sj(g,g=>iL(g,$)||iL($,g))}function sj(g,$){g.recursionDepth_++;let ee=!0;for(let ei=0;ei<g.eventLists_.length;ei++){let er=g.eventLists_[ei];if(er){let en=er.path;$(en)?(sq(g.eventLists_[ei]),g.eventLists_[ei]=null):ee=!1}}ee&&(g.eventLists_=[]),g.recursionDepth_--}function sq(g){for(let $=0;$<g.events.length;$++){let ee=g.events[$];if(null!==ee){g.events[$]=null;let ei=ee.getEventRunner();eH&&eK("event: "+ee.toString()),tu(ei)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sz="repo_interrupt",sH=25;class s${constructor(g,$,ee,ei){this.repoInfo_=g,this.forceRestClient_=$,this.authTokenProvider_=ee,this.appCheckProvider_=ei,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rB(),this.transactionQueueTree_=new sl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sW(g,$,ee){if(g.stats_=tS(g.repoInfo_),g.forceRestClient_||th())g.server_=new rF(g.repoInfo_,($,ee,ei,er)=>{sQ(g,$,ee,ei,er)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(()=>sY(g,!0),0);else{if(null!=ee){if("object"!=typeof ee)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ey.Wl)(ee)}catch(g){throw Error("Invalid authOverride provided: "+g)}}g.persistentConnection_=new iY(g.repoInfo_,$,($,ee,ei,er)=>{sQ(g,$,ee,ei,er)},$=>{sY(g,$)},$=>{sJ(g,$)},g.authTokenProvider_,g.appCheckProvider_,ee),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener($=>{g.server_.refreshAuthToken($)}),g.appCheckProvider_.addTokenChangeListener($=>{g.server_.refreshAppCheckToken($.token)}),g.statsReporter_=tT(g.repoInfo_,()=>new rG(g.stats_,g.server_)),g.infoData_=new rV,g.infoSyncTree_=new aL({startListening:($,ee,ei,er)=>{let en=[],es=g.infoData_.getNode($._path);return es.isEmpty()||(en=aB(g.infoSyncTree_,$._path,es),setTimeout(()=>{er("ok")},0)),en},stopListening:()=>{}}),sX(g,"connected",!1),g.serverSyncTree_=new aL({startListening:($,ee,ei,er)=>(g.server_.listen($,ei,ee,(ee,ei)=>{let en=er(ee,ei);sU(g.eventQueue_,$._path,en)}),[]),stopListening:($,ee)=>{g.server_.unlisten($,ee)}})}function sK(g){let $=g.infoData_.getNode(new iS(".info/serverTimeOffset")),ee=$.val()||0;return new Date().getTime()+ee}function sG(g){return se({timestamp:sK(g)})}function sQ(g,$,ee,ei,er){g.dataUpdateCount++;let en=new iS($);ee=g.interceptServerDataCallback_?g.interceptServerDataCallback_($,ee):ee;let es=[];if(er){if(ei){let $=(0,ey.UI)(ee,g=>ry(g));es=a$(g.serverSyncTree_,en,$,er)}else{let $=ry(ee);es=aH(g.serverSyncTree_,en,$,er)}}else if(ei){let $=(0,ey.UI)(ee,g=>ry(g));es=aU(g.serverSyncTree_,en,$)}else{let $=ry(ee);es=aB(g.serverSyncTree_,en,$)}let eo=en;es.length>0&&(eo=s7(g,en)),sU(g.eventQueue_,eo,es)}function sY(g,$){sX(g,"connected",$),!1===$&&s1(g)}function sJ(g,$){e8($,($,ee)=>{sX(g,$,ee)})}function sX(g,$,ee){let ei=new iS("/.info/"+$),er=ry(ee);g.infoData_.updateSnapshot(ei,er);let en=aB(g.infoSyncTree_,ei,er);sU(g.eventQueue_,ei,en)}function sZ(g){return g.nextWriteId_++}function s1(g){s4(g,"onDisconnectEvents");let $=sG(g),ee=rB();rq(g.onDisconnect_,iT(),(ei,er)=>{let en=sn(ei,er,g.serverSyncTree_,$);rU(ee,ei,en)});let ei=[];rq(ee,iT(),($,ee)=>{ei=ei.concat(aB(g.serverSyncTree_,$,ee));let er=oo(g,$);s7(g,er)}),g.onDisconnect_=rB(),sU(g.eventQueue_,iT(),ei)}function s0(g,$,ee){let ei;ei=".info"===iC($._path)?aW(g.infoSyncTree_,$,ee):aW(g.serverSyncTree_,$,ee),sB(g.eventQueue_,$._path,ei)}function s2(g,$,ee){let ei;ei=".info"===iC($._path)?az(g.infoSyncTree_,$,ee):az(g.serverSyncTree_,$,ee),sB(g.eventQueue_,$._path,ei)}function s6(g){g.persistentConnection_&&g.persistentConnection_.interrupt(sz)}function s4(g,...$){let ee="";g.persistentConnection_&&(ee=g.persistentConnection_.id+":"),eK(ee,...$)}function s3(g,$,ee,ei){$&&tu(()=>{if("ok"===ee)$(null);else{let g=(ee||"error").toUpperCase(),er=g;ei&&(er+=": "+ei);let en=Error(er);en.code=g,$(en)}})}function s9(g,$,ee){return aK(g.serverSyncTree_,$,ee)||rm.EMPTY_NODE}function s5(g,$=g.transactionQueueTree_){if($||on(g,$),sh($)){let ee=oi(g,$);(0,ey.hu)(ee.length>0,"Sending zero length transaction queue");let ei=ee.every(g=>0===g.status);ei&&s8(g,sw($),ee)}else sf($)&&sv($,$=>{s5(g,$)})}function s8(g,$,ee){let ei=ee.map(g=>g.currentWriteId),er=s9(g,$,ei),en=er,es=er.hash();for(let g=0;g<ee.length;g++){let ei=ee[g];(0,ey.hu)(0===ei.status,"tryToSendTransactionQueue_: items in queue should all be run."),ei.status=1,ei.retryCount++;let er=ix($,ei.path);en=en.updateChild(er,ei.currentOutputSnapshotRaw)}let eo=en.val(!0),ep=$;g.server_.put(ep.toString(),eo,ei=>{s4(g,"transaction put response",{path:ep.toString(),status:ei});let er=[];if("ok"===ei){let ei=[];for(let $=0;$<ee.length;$++)ee[$].status=2,er=er.concat(aV(g.serverSyncTree_,ee[$].currentWriteId)),ee[$].onComplete&&ei.push(()=>ee[$].onComplete(null,!0,ee[$].currentOutputSnapshotResolved)),ee[$].unwatcher();on(g,su(g.transactionQueueTree_,$)),s5(g,g.transactionQueueTree_),sU(g.eventQueue_,$,er);for(let g=0;g<ei.length;g++)tu(ei[g])}else{if("datastale"===ei)for(let g=0;g<ee.length;g++)3===ee[g].status?ee[g].status=4:ee[g].status=0;else{eJ("transaction at "+ep.toString()+" failed: "+ei);for(let g=0;g<ee.length;g++)ee[g].status=4,ee[g].abortReason=ei}s7(g,$)}},es)}function s7(g,$){let ee=ot(g,$),ei=sw(ee),er=oi(g,ee);return oe(g,er,ei),ei}function oe(g,$,ee){if(0===$.length)return;let ei=[],er=[],en=$.filter(g=>0===g.status),es=en.map(g=>g.currentWriteId);for(let en=0;en<$.length;en++){let eo=$[en],ep=ix(ee,eo.path),eu=!1,eh;if((0,ey.hu)(null!==ep,"rerunTransactionsUnderNode_: relativePath should not be null."),4===eo.status)eu=!0,eh=eo.abortReason,er=er.concat(aV(g.serverSyncTree_,eo.currentWriteId,!0));else if(0===eo.status){if(eo.retryCount>=sH)eu=!0,eh="maxretry",er=er.concat(aV(g.serverSyncTree_,eo.currentWriteId,!0));else{let ee=s9(g,eo.path,es);eo.currentInputSnapshot=ee;let ei=$[en].update(ee.val());if(void 0!==ei){sO("transaction failed: Data returned ",ei,eo.path);let $=ry(ei),en="object"==typeof ei&&null!=ei&&(0,ey.r3)(ei,".priority");en||($=$.updatePriority(ee.getPriority()));let ep=eo.currentWriteId,eu=sG(g),eh=ss($,ee,eu);eo.currentOutputSnapshotRaw=$,eo.currentOutputSnapshotResolved=eh,eo.currentWriteId=sZ(g),es.splice(es.indexOf(ep),1),er=(er=er.concat(aF(g.serverSyncTree_,eo.path,eh,eo.currentWriteId,eo.applyLocally))).concat(aV(g.serverSyncTree_,ep,!0))}else eu=!0,eh="nodata",er=er.concat(aV(g.serverSyncTree_,eo.currentWriteId,!0))}}sU(g.eventQueue_,ee,er),er=[],eu&&($[en].status=2,function(g){setTimeout(g,Math.floor(0))}($[en].unwatcher),$[en].onComplete&&("nodata"===eh?ei.push(()=>$[en].onComplete(null,!1,$[en].currentInputSnapshot)):ei.push(()=>$[en].onComplete(Error(eh),!1,null))))}on(g,g.transactionQueueTree_);for(let g=0;g<ei.length;g++)tu(ei[g]);s5(g,g.transactionQueueTree_)}function ot(g,$){let ee;let ei=g.transactionQueueTree_;for(ee=iC($);null!==ee&&void 0===sh(ei);)ei=su(ei,ee),ee=iC($=iI($));return ei}function oi(g,$){let ee=[];return or(g,$,ee),ee.sort((g,$)=>g.order-$.order),ee}function or(g,$,ee){let ei=sh($);if(ei)for(let g=0;g<ei.length;g++)ee.push(ei[g]);sv($,$=>{or(g,$,ee)})}function on(g,$){let ee=sh($);if(ee){let g=0;for(let $=0;$<ee.length;$++)2!==ee[$].status&&(ee[g]=ee[$],g++);ee.length=g,sm($,ee.length>0?ee:void 0)}sv($,$=>{on(g,$)})}function oo(g,$){let ee=sw(ot(g,$)),ei=su(g.transactionQueueTree_,$);return s_(ei,$=>{ol(g,$)}),ol(g,ei),sy(ei,$=>{ol(g,$)}),ee}function ol(g,$){let ee=sh($);if(ee){let ei=[],er=[],en=-1;for(let $=0;$<ee.length;$++)3===ee[$].status||(1===ee[$].status?((0,ey.hu)(en===$-1,"All SENT items should be at beginning of queue."),en=$,ee[$].status=3,ee[$].abortReason="set"):((0,ey.hu)(0===ee[$].status,"Unexpected transaction status in abort"),ee[$].unwatcher(),er=er.concat(aV(g.serverSyncTree_,ee[$].currentWriteId,!0)),ee[$].onComplete&&ei.push(ee[$].onComplete.bind(null,Error("set"),!1,null))));-1===en?sm($,void 0):ee.length=en+1,sU(g.eventQueue_,sw($),er);for(let g=0;g<ei.length;g++)tu(ei[g])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(g){let $="",ee=g.split("/");for(let g=0;g<ee.length;g++)if(ee[g].length>0){let ei=ee[g];try{ei=decodeURIComponent(ei.replace(/\+/g," "))}catch(g){}$+="/"+ei}return $}function oh(g){let $={};for(let ee of("?"===g.charAt(0)&&(g=g.substring(1)),g.split("&"))){if(0===ee.length)continue;let ei=ee.split("=");2===ei.length?$[decodeURIComponent(ei[0])]=decodeURIComponent(ei[1]):eJ(`Invalid query segment '${ee}' in query '${g}'`)}return $}let om=function(g,$){let ee=of(g),ei=ee.namespace;"firebase.com"===ee.domain&&eY(ee.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),ei&&"undefined"!==ei||"localhost"===ee.domain||eY("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),ee.secure||eX();let er="ws"===ee.scheme||"wss"===ee.scheme;return{repoInfo:new tf(ee.host,ee.secure,ei,er,$,"",ei!==ee.subdomain),path:new iS(ee.pathString)}},of=function(g){let $="",ee="",ei="",er="",en="",es=!0,eo="https",ep=443;if("string"==typeof g){let eu=g.indexOf("//");eu>=0&&(eo=g.substring(0,eu-1),g=g.substring(eu+2));let eh=g.indexOf("/");-1===eh&&(eh=g.length);let em=g.indexOf("?");-1===em&&(em=g.length),$=g.substring(0,Math.min(eh,em)),eh<em&&(er=ou(g.substring(eh,em)));let ef=oh(g.substring(Math.min(g.length,em)));(eu=$.indexOf(":"))>=0?(es="https"===eo||"wss"===eo,ep=parseInt($.substring(eu+1),10)):eu=$.length;let eg=$.slice(0,eu);if("localhost"===eg.toLowerCase())ee="localhost";else if(eg.split(".").length<=2)ee=eg;else{let g=$.indexOf(".");ei=$.substring(0,g).toLowerCase(),ee=$.substring(g+1),en=ei}"ns"in ef&&(en=ef.ns)}return{host:$,port:ep,domain:ee,subdomain:ei,secure:es,scheme:eo,pathString:er,namespace:en}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(g,$,ee,ei){this.eventType=g,this.eventRegistration=$,this.snapshot=ee,this.prevName=ei}getPath(){let g=this.snapshot.ref;return"value"===this.eventType?g._path:g.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ey.Wl)(this.snapshot.exportVal())}}class ov{constructor(g,$,ee){this.eventRegistration=g,this.error=$,this.path=ee}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(g,$){this.snapshotCallback=g,this.cancelCallback=$}onValue(g,$){this.snapshotCallback.call(null,g,$)}onCancel(g){return(0,ey.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,g)}get hasCancelCallback(){return!!this.cancelCallback}matches(g){return this.snapshotCallback===g.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===g.snapshotCallback.userCallback&&this.snapshotCallback.context===g.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(g,$,ee,ei){this._repo=g,this._path=$,this._queryParams=ee,this._orderByCalled=ei}get key(){return iO(this._path)?null:iN(this._path)}get ref(){return new oT(this._repo,this._path)}get _queryIdentifier(){let g=rL(this._queryParams),$=e9(g);return"{}"===$?"default":$}get _queryObject(){return rL(this._queryParams)}isEqual(g){if(!((g=(0,ey.m9)(g))instanceof o_))return!1;let $=this._repo===g._repo,ee=iM(this._path,g._path),ei=this._queryIdentifier===g._queryIdentifier;return $&&ee&&ei}toJSON(){return this.toString()}toString(){return this._repo.toString()+iD(this._path)}}function ow(g){let $=null,ee=null;if(g.hasStart()&&($=g.getIndexStartValue()),g.hasEnd()&&(ee=g.getIndexEndValue()),g.getIndex()===i1){let ei="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",er="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){let ee=g.getIndexStartName();if(ee!==e0)throw Error(ei);if("string"!=typeof $)throw Error(er)}if(g.hasEnd()){let $=g.getIndexEndName();if($!==e2)throw Error(ei);if("string"!=typeof ee)throw Error(er)}}else if(g.getIndex()===rs){if(null!=$&&!sR($)||null!=ee&&!sR(ee))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(assert(g.getIndex() instanceof r_||g.getIndex()===rS,"unknown index type."),null!=$&&"object"==typeof $||null!=ee&&"object"==typeof ee)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oS(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oT extends o_{constructor(g,$){super(g,$,new rA,!1)}get parent(){let g=iR(this._path);return null===g?null:new oT(this._repo,g)}get root(){let g=this;for(;null!==g.parent;)g=g.parent;return g}}class oC{constructor(g,$,ee){this._node=g,this.ref=$,this._index=ee}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(g){let $=new iS(g),ee=oI(this.ref,g);return new oC(this._node.getChild($),ee,rs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(g){if(this._node.isLeafNode())return!1;let $=this._node;return!!$.forEachChild(this._index,($,ee)=>g(new oC(ee,oI(this.ref,$),rs)))}hasChild(g){let $=new iS(g);return!this._node.getChild($).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oE(g,$){return(g=(0,ey.m9)(g))._checkNotDeleted("ref"),void 0!==$?oI(g._root,$):g._root}function oI(g,$){return null===iC((g=(0,ey.m9)(g))._path)?sM("child","path",$,!1):sP("child","path",$,!1),new oT(g._repo,iA(g._path,$))}class oN{constructor(g){this.callbackContext=g}respondsTo(g){return"value"===g}createEvent(g,$){let ee=$._queryParams.getIndex();return new og("value",this,new oC(g.snapshotNode,new oT($._repo,$._path),ee))}getEventRunner(g){return"cancel"===g.getEventType()?()=>this.callbackContext.onCancel(g.error):()=>this.callbackContext.onValue(g.snapshot,null)}createCancelEvent(g,$){return this.callbackContext.hasCancelCallback?new ov(this,g,$):null}matches(g){return g instanceof oN&&(!g.callbackContext||!this.callbackContext||g.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class oD{constructor(g,$){this.eventType=g,this.callbackContext=$}respondsTo(g){let $="children_added"===g?"child_added":g;return $="children_removed"===$?"child_removed":$,this.eventType===$}createCancelEvent(g,$){return this.callbackContext.hasCancelCallback?new ov(this,g,$):null}createEvent(g,$){(0,ey.hu)(null!=g.childName,"Child events should have a childName.");let ee=oI(new oT($._repo,$._path),g.childName),ei=$._queryParams.getIndex();return new og(g.type,this,new oC(g.snapshotNode,ee,ei),g.prevName)}getEventRunner(g){return"cancel"===g.getEventType()?()=>this.callbackContext.onCancel(g.error):()=>this.callbackContext.onValue(g.snapshot,g.prevName)}matches(g){return g instanceof oD&&this.eventType===g.eventType&&(!this.callbackContext||!g.callbackContext||this.callbackContext.matches(g.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ok(g,$,ee,ei,er){let en;if("object"==typeof ei&&(en=void 0,er=ei),"function"==typeof ei&&(en=ei),er&&er.onlyOnce){let $=ee,ei=(ee,ei)=>{s2(g._repo,g,eo),$(ee,ei)};ei.userCallback=ee.userCallback,ei.context=ee.context,ee=ei}let es=new oy(ee,en||void 0),eo="value"===$?new oN(es):new oD($,es);return s0(g._repo,g,eo),()=>s2(g._repo,g,eo)}function oR(g,$,ee,ei){return ok(g,"value",$,ee,ei)}a_(oT),ax(oT);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oA="FIREBASE_DATABASE_EMULATOR_HOST",oO={},ox=!1;function oP(g,$,ee,ei){g.repoInfo_=new tf(`${$}:${ee}`,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams,!0),ei&&(g.authTokenProvider_=ei)}function oM(g,$,ee,ei,er){let en,es,eo=ei||g.options.databaseURL;void 0===eo&&(g.options.projectId||eY("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),eK("Using default host for project ",g.options.projectId),eo=`${g.options.projectId}-default-rtdb.firebaseio.com`);let ep=om(eo,er),eu=ep.repoInfo;"undefined"!=typeof process&&process.env&&(en=process.env[oA]),en?(es=!0,eu=(ep=om(eo=`http://${en}?ns=${eu.namespace}`,er)).repoInfo):es=!ep.repoInfo.secure;let eh=er&&es?new tL(tL.OWNER):new tM(g.name,g.options,$);sL("Invalid Firebase Database URL",ep),iO(ep.path)||eY("Database URL must point to the root of a Firebase Database (not including a child path).");let em=oF(eu,g,eh,new tP(g.name,ee));return new oV(em,g)}function oL(g,$){let ee=oO[$];ee&&ee[g.key]===g||eY(`Database ${$}(${g.repoInfo_}) has already been deleted.`),s6(g),delete ee[g.key]}function oF(g,$,ee,ei){let er=oO[$.name];er||(er={},oO[$.name]=er);let en=er[g.toURLString()];return en&&eY("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),en=new s$(g,ox,ee,ei),er[g.toURLString()]=en,en}class oV{constructor(g,$){this._repoInternal=g,this.app=$,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oT(this._repo,iT())),this._rootInternal}_delete(){return null!==this._rootInternal&&(oL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(g){null===this._rootInternal&&eY("Cannot call "+g+" on a deleted database.")}}function oB(g=(0,ew.Mq)(),$){let ee=(0,ew.qX)(g,"database").getImmediate({identifier:$});if(!ee._instanceStarted){let g=(0,ey.P0)("database");g&&oU(ee,...g)}return ee}function oU(g,$,ee,ei={}){let er;(g=(0,ey.m9)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&eY("Cannot call useEmulator() after instance has already been initialized.");let en=g._repoInternal;if(en.repoInfo_.nodeAdmin)ei.mockUserToken&&eY('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),er=new tL(tL.OWNER);else if(ei.mockUserToken){let $="string"==typeof ei.mockUserToken?ei.mockUserToken:(0,ey.Sg)(ei.mockUserToken,g.app.options.projectId);er=new tL($)}oP(en,$,ee,er)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(g){tE(ew.Jn),(0,ew.Xd)(new eS.wA("database",(g,{instanceIdentifier:$})=>{let ee=g.getProvider("app").getImmediate(),ei=g.getProvider("auth-internal"),er=g.getProvider("app-check-internal");return oM(ee,ei,er,$)},"PUBLIC").setMultipleInstances(!0)),(0,ew.KN)(tA,tO,g),(0,ew.KN)(tA,tO,"esm2017")}iY.prototype.simpleListen=function(g,$){this.sendRequest("q",{p:g},$)},iY.prototype.echo=function(g,$){this.sendRequest("echo",{d:g},$)},/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tk(ev.Client),oj("node")},61522:(g,$,ee)=>{"use strict";ee.d($,{JU:()=>wE,ad:()=>wA,pl:()=>bA});var ei,er,en,es,eo,ep=ee(55087),eu=ee(77345),eh=ee(9292),em=ee(73837),ef=ee(51780),eg=ee(6113),ev="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ey={},e_=e_||{},ew=ev||self;function eS(g){var $=typeof g;return"array"==($="object"!=$?$:g?Array.isArray(g)?"array":$:"null")||"object"==$&&"number"==typeof g.length}function eT(g){var $=typeof g;return"object"==$&&null!=g||"function"==$}function eC(g){return Object.prototype.hasOwnProperty.call(g,eE)&&g[eE]||(g[eE]=++eI)}var eE="closure_uid_"+(1e9*Math.random()>>>0),eI=0;function eN(g,$,ee){return g.call.apply(g.bind,arguments)}function eD(g,$,ee){if(!g)throw Error();if(2<arguments.length){var ei=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,ei),g.apply($,ee)}}return function(){return g.apply($,arguments)}}function ek(g,$,ee){return(ek=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eN:eD).apply(null,arguments)}function eR(g,$){var ee=Array.prototype.slice.call(arguments,1);return function(){var $=ee.slice();return $.push.apply($,arguments),g.apply(this,$)}}function eA(g,$){function ee(){}ee.prototype=$.prototype,g.$=$.prototype,g.prototype=new ee,g.prototype.constructor=g,g.ac=function(g,ee,ei){for(var er=Array(arguments.length-2),en=2;en<arguments.length;en++)er[en-2]=arguments[en];return $.prototype[ee].apply(g,er)}}function eO(){this.s=this.s,this.o=this.o}var eP=0;eO.prototype.s=!1,eO.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==eP)||eC(this)},eO.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let eM=Array.prototype.indexOf?function(g,$){return Array.prototype.indexOf.call(g,$,void 0)}:function(g,$){if("string"==typeof g)return"string"!=typeof $||1!=$.length?-1:g.indexOf($,0);for(let ee=0;ee<g.length;ee++)if(ee in g&&g[ee]===$)return ee;return -1};function eL(g){let $=g.length;if(0<$){let ee=Array($);for(let ei=0;ei<$;ei++)ee[ei]=g[ei];return ee}return[]}function eF(g,$){for(let $=1;$<arguments.length;$++){let ee=arguments[$];if(eS(ee)){let $=g.length||0,ei=ee.length||0;g.length=$+ei;for(let er=0;er<ei;er++)g[$+er]=ee[er]}else g.push(ee)}}function eV(g,$){this.type=g,this.g=this.target=$,this.defaultPrevented=!1}eV.prototype.h=function(){this.defaultPrevented=!0};var eB=function(){if(!ew.addEventListener||!Object.defineProperty)return!1;var g=!1,$=Object.defineProperty({},"passive",{get:function(){g=!0}});try{ew.addEventListener("test",()=>{},$),ew.removeEventListener("test",()=>{},$)}catch(g){}return g}();function eU(g){return/^[\s\xa0]*$/.test(g)}function ej(){var g=ew.navigator;return g&&(g=g.userAgent)?g:""}function eq(g){return -1!=ej().indexOf(g)}function ez(g){return ez[" "](g),g}function eH(g,$){var ee=np;return Object.prototype.hasOwnProperty.call(ee,g)?ee[g]:ee[g]=$(g)}ez[" "]=function(){};var e$=eq("Opera"),eW=eq("Trident")||eq("MSIE"),eK=eq("Edge"),eG=eK||eW,eQ=eq("Gecko")&&!(-1!=ej().toLowerCase().indexOf("webkit")&&!eq("Edge"))&&!(eq("Trident")||eq("MSIE"))&&!eq("Edge"),eY=-1!=ej().toLowerCase().indexOf("webkit")&&!eq("Edge");function eJ(){var g=ew.document;return g?g.documentMode:void 0}e:{var eX="",eZ=function(){var g=ej();return eQ?/rv:([^\);]+)(\)|;)/.exec(g):eK?/Edge\/([\d\.]+)/.exec(g):eW?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(g):eY?/WebKit\/(\S+)/.exec(g):e$?/(?:Version)[ \/]?(\S+)/.exec(g):void 0}();if(eZ&&(eX=eZ?eZ[1]:""),eW){var e1=eJ();if(null!=e1&&e1>parseFloat(eX)){ei=String(e1);break e}}ei=eX}var e0=er=ew.document&&eW&&(eJ()||parseInt(ei,10))||void 0;function e2(g,$){if(eV.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var ee=this.type=g.type,ei=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=$,$=g.relatedTarget){if(eQ){e:{try{ez($.nodeName);var er=!0;break e}catch(g){}er=!1}er||($=null)}}else"mouseover"==ee?$=g.fromElement:"mouseout"==ee&&($=g.toElement);this.relatedTarget=$,ei?(this.clientX=void 0!==ei.clientX?ei.clientX:ei.pageX,this.clientY=void 0!==ei.clientY?ei.clientY:ei.pageY,this.screenX=ei.screenX||0,this.screenY=ei.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:e6[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&e2.$.h.call(this)}}eA(e2,eV);var e6={2:"touch",3:"pen",4:"mouse"};e2.prototype.h=function(){e2.$.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var e4="closure_listenable_"+(1e6*Math.random()|0),e3=0;function e9(g,$,ee,ei,er){this.listener=g,this.proxy=null,this.src=$,this.type=ee,this.capture=!!ei,this.la=er,this.key=++e3,this.fa=this.ia=!1}function e5(g){g.fa=!0,g.listener=null,g.proxy=null,g.src=null,g.la=null}function e8(g,$,ee){for(let ei in g)$.call(ee,g[ei],ei,g)}function e7(g,$){for(let ee in g)$.call(void 0,g[ee],ee,g)}function te(g){let $={};for(let ee in g)$[ee]=g[ee];return $}let tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ti(g,$){let ee,ei;for(let $=1;$<arguments.length;$++){for(ee in ei=arguments[$])g[ee]=ei[ee];for(let $=0;$<tt.length;$++)ee=tt[$],Object.prototype.hasOwnProperty.call(ei,ee)&&(g[ee]=ei[ee])}}function tr(g){this.src=g,this.g={},this.h=0}function ts(g,$){var ee=$.type;if(ee in g.g){var ei,er=g.g[ee],en=eM(er,$);(ei=0<=en)&&Array.prototype.splice.call(er,en,1),ei&&(e5($),0==g.g[ee].length&&(delete g.g[ee],g.h--))}}function tl(g,$,ee,ei){for(var er=0;er<g.length;++er){var en=g[er];if(!en.fa&&en.listener==$&&!!ee==en.capture&&en.la==ei)return er}return -1}tr.prototype.add=function(g,$,ee,ei,er){var en=g.toString();(g=this.g[en])||(g=this.g[en]=[],this.h++);var es=tl(g,$,ei,er);return -1<es?($=g[es],ee||($.ia=!1)):(($=new e9($,this.src,en,!!ei,er)).ia=ee,g.push($)),$};var tp="closure_lm_"+(1e6*Math.random()|0),tu={};function th(g,$,ee,ei,er){if(ei&&ei.once)return tg(g,$,ee,ei,er);if(Array.isArray($)){for(var en=0;en<$.length;en++)th(g,$[en],ee,ei,er);return null}return ee=tC(ee),g&&g[e4]?g.O($,ee,eT(ei)?!!ei.capture:!!ei,er):tm(g,$,ee,!1,ei,er)}function tm(g,$,ee,ei,er,en){if(!$)throw Error("Invalid event type");var es=eT(er)?!!er.capture:!!er,eo=tS(g);if(eo||(g[tp]=eo=new tr(g)),(ee=eo.add($,ee,ei,es,en)).proxy)return ee;if(ei=tf(),ee.proxy=ei,ei.src=g,ei.listener=ee,g.addEventListener)eB||(er=es),void 0===er&&(er=!1),g.addEventListener($.toString(),ei,er);else if(g.attachEvent)g.attachEvent(t_($.toString()),ei);else if(g.addListener&&g.removeListener)g.addListener(ei);else throw Error("addEventListener and attachEvent are unavailable.");return ee}function tf(){function g(ee){return $.call(g.src,g.listener,ee)}let $=tw;return g}function tg(g,$,ee,ei,er){if(Array.isArray($)){for(var en=0;en<$.length;en++)tg(g,$[en],ee,ei,er);return null}return ee=tC(ee),g&&g[e4]?g.P($,ee,eT(ei)?!!ei.capture:!!ei,er):tm(g,$,ee,!0,ei,er)}function tv(g,$,ee,ei,er){if(Array.isArray($))for(var en=0;en<$.length;en++)tv(g,$[en],ee,ei,er);else(ei=eT(ei)?!!ei.capture:!!ei,ee=tC(ee),g&&g[e4])?(g=g.i,($=String($).toString())in g.g&&-1<(ee=tl(en=g.g[$],ee,ei,er))&&(e5(en[ee]),Array.prototype.splice.call(en,ee,1),0==en.length&&(delete g.g[$],g.h--))):g&&(g=tS(g))&&($=g.g[$.toString()],g=-1,$&&(g=tl($,ee,ei,er)),(ee=-1<g?$[g]:null)&&ty(ee))}function ty(g){if("number"!=typeof g&&g&&!g.fa){var $=g.src;if($&&$[e4])ts($.i,g);else{var ee=g.type,ei=g.proxy;$.removeEventListener?$.removeEventListener(ee,ei,g.capture):$.detachEvent?$.detachEvent(t_(ee),ei):$.addListener&&$.removeListener&&$.removeListener(ei),(ee=tS($))?(ts(ee,g),0==ee.h&&(ee.src=null,$[tp]=null)):e5(g)}}}function t_(g){return g in tu?tu[g]:tu[g]="on"+g}function tw(g,$){if(g.fa)g=!0;else{$=new e2($,this);var ee=g.listener,ei=g.la||g.src;g.ia&&ty(g),g=ee.call(ei,$)}return g}function tS(g){return(g=g[tp])instanceof tr?g:null}var tT="__closure_events_fn_"+(1e9*Math.random()>>>0);function tC(g){return"function"==typeof g?g:(g[tT]||(g[tT]=function($){return g.handleEvent($)}),g[tT])}function tE(){eO.call(this),this.i=new tr(this),this.S=this,this.J=null}function tI(g,$){var ee,ei=g.J;if(ei)for(ee=[];ei;ei=ei.J)ee.push(ei);if(g=g.S,ei=$.type||$,"string"==typeof $)$=new eV($,g);else if($ instanceof eV)$.target=$.target||g;else{var er=$;ti($=new eV(ei,g),er)}if(er=!0,ee)for(var en=ee.length-1;0<=en;en--){var es=$.g=ee[en];er=tN(es,ei,!0,$)&&er}if(er=tN(es=$.g=g,ei,!0,$)&&er,er=tN(es,ei,!1,$)&&er,ee)for(en=0;en<ee.length;en++)er=tN(es=$.g=ee[en],ei,!1,$)&&er}function tN(g,$,ee,ei){if(!($=g.i.g[String($)]))return!0;$=$.concat();for(var er=!0,en=0;en<$.length;++en){var es=$[en];if(es&&!es.fa&&es.capture==ee){var eo=es.listener,ep=es.la||es.src;es.ia&&ts(g.i,es),er=!1!==eo.call(ep,ei)&&er}}return er&&!ei.defaultPrevented}eA(tE,eO),tE.prototype[e4]=!0,tE.prototype.removeEventListener=function(g,$,ee,ei){tv(this,g,$,ee,ei)},tE.prototype.N=function(){if(tE.$.N.call(this),this.i){var g,$=this.i;for(g in $.g){for(var ee=$.g[g],ei=0;ei<ee.length;ei++)e5(ee[ei]);delete $.g[g],$.h--}}this.J=null},tE.prototype.O=function(g,$,ee,ei){return this.i.add(String(g),$,!1,ee,ei)},tE.prototype.P=function(g,$,ee,ei){return this.i.add(String(g),$,!0,ee,ei)};var tD=ew.JSON.stringify;class tk{constructor(g,$){this.i=g,this.j=$,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function tR(){var g=tB;let $=null;return g.g&&($=g.g,g.g=g.g.next,g.g||(g.h=null),$.next=null),$}class tA{constructor(){this.h=this.g=null}add(g,$){let ee=tO.get();ee.set(g,$),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var tO=new tk(()=>new tP,g=>g.reset());class tP{constructor(){this.next=this.g=this.h=null}set(g,$){this.h=g,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}function tM(g){var $=1;g=g.split(":");let ee=[];for(;0<$&&g.length;)ee.push(g.shift()),$--;return g.length&&ee.push(g.join(":")),ee}function tL(g){ew.setTimeout(()=>{throw g},0)}let tF,tV=!1,tB=new tA,tU=()=>{let g=ew.Promise.resolve(void 0);tF=()=>{g.then(tj)}};var tj=()=>{for(var g;g=tR();){try{g.h.call(g.g)}catch(g){tL(g)}var $=tO;$.j(g),100>$.h&&($.h++,g.next=$.g,$.g=g)}tV=!1};function tq(g,$){tE.call(this),this.h=g||1,this.g=$||ew,this.j=ek(this.qb,this),this.l=Date.now()}function tz(g){g.ga=!1,g.T&&(g.g.clearTimeout(g.T),g.T=null)}function tH(g,$,ee){if("function"==typeof g)ee&&(g=ek(g,ee));else if(g&&"function"==typeof g.handleEvent)g=ek(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:ew.setTimeout(g,$||0)}function t$(g){g.g=tH(()=>{g.g=null,g.i&&(g.i=!1,t$(g))},g.j);let $=g.h;g.h=null,g.m.apply(null,$)}eA(tq,tE),(eo=tq.prototype).ga=!1,eo.T=null,eo.qb=function(){if(this.ga){var g=Date.now()-this.l;0<g&&g<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-g):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tI(this,"tick"),this.ga&&(tz(this),this.start()))}},eo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},eo.N=function(){tq.$.N.call(this),tz(this),delete this.g};class tW extends eO{constructor(g,$){super(),this.m=g,this.j=$,this.h=null,this.i=!1,this.g=null}l(g){this.h=arguments,this.g?this.i=!0:t$(this)}N(){super.N(),this.g&&(ew.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tK(g){eO.call(this),this.h=g,this.g={}}eA(tK,eO);var tG=[];function tQ(g,$,ee,ei){Array.isArray(ee)||(ee&&(tG[0]=ee.toString()),ee=tG);for(var er=0;er<ee.length;er++){var en=th($,ee[er],ei||g.handleEvent,!1,g.h||g);if(!en)break;g.g[en.key]=en}}function tY(g){e8(g.g,function(g,$){this.g.hasOwnProperty($)&&ty(g)},g),g.g={}}function tJ(){this.g=!0}function tX(g,$,ee,ei,er,en){g.info(function(){if(g.g){if(en)for(var es="",eo=en.split("&"),ep=0;ep<eo.length;ep++){var eu=eo[ep].split("=");if(1<eu.length){var eh=eu[0];eu=eu[1];var em=eh.split("_");es=2<=em.length&&"type"==em[1]?es+(eh+"=")+eu+"&":es+(eh+"=redacted&")}}else es=null}else es=en;return"XMLHTTP REQ ("+ei+") [attempt "+er+"]: "+$+"\n"+ee+"\n"+es})}function tZ(g,$,ee,ei,er,en,es){g.info(function(){return"XMLHTTP RESP ("+ei+") [ attempt "+er+"]: "+$+"\n"+ee+"\n"+en+" "+es})}function t1(g,$,ee,ei){g.info(function(){return"XMLHTTP TEXT ("+$+"): "+t2(g,ee)+(ei?" "+ei:"")})}function t0(g,$){g.info(function(){return"TIMEOUT: "+$})}function t2(g,$){if(!g.g)return $;if(!$)return null;try{var ee=JSON.parse($);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var ei=ee[g];if(!(2>ei.length)){var er=ei[1];if(Array.isArray(er)&&!(1>er.length)){var en=er[0];if("noop"!=en&&"stop"!=en&&"close"!=en)for(var es=1;es<er.length;es++)er[es]=""}}}}return tD(ee)}catch(g){return $}}tK.prototype.N=function(){tK.$.N.call(this),tY(this)},tK.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tJ.prototype.Ea=function(){this.g=!1},tJ.prototype.info=function(){};var t6={},t4=null;function t3(){return t4=t4||new tE}function t9(g){eV.call(this,t6.Ta,g)}function t5(g){let $=t3();tI($,new t9($))}function t8(g,$){eV.call(this,t6.STAT_EVENT,g),this.stat=$}function t7(g){let $=t3();tI($,new t8($,g))}function ie(g,$){eV.call(this,t6.Ua,g),this.size=$}function ii(g,$){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return ew.setTimeout(function(){g()},$)}t6.Ta="serverreachability",eA(t9,eV),t6.STAT_EVENT="statevent",eA(t8,eV),t6.Ua="timingevent",eA(ie,eV);var ir={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},is={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function il(){}function ip(g){return g.h||(g.h=g.i())}function iu(){}il.prototype.h=null;var ih={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function im(){eV.call(this,"d")}function ig(){eV.call(this,"c")}function iv(){}function iy(g,$,ee,ei){this.l=g,this.j=$,this.m=ee,this.W=ei||1,this.U=new tK(this),this.P=iw,g=eG?125:void 0,this.V=new tq(g),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i_}function i_(){this.i=null,this.g="",this.h=!1}eA(im,eV),eA(ig,eV),eA(iv,il),iv.prototype.g=function(){return new XMLHttpRequest},iv.prototype.i=function(){return{}},en=new iv;var iw=45e3,iS={},iT={};function iC(g,$,ee){g.L=1,g.v=iW(ij($)),g.s=ee,g.S=!0,iE(g,null)}function iE(g,$){g.G=Date.now(),ik(g),g.A=ij(g.v);var ee=g.A,ei=g.W;Array.isArray(ei)||(ei=[String(ei)]),i3(ee.i,"t",ei),g.C=0,ee=g.l.J,g.h=new i_,g.g=r3(g.l,ee?$:null,!g.s),0<g.O&&(g.M=new tW(ek(g.Pa,g,g.g),g.O)),tQ(g.U,g.g,"readystatechange",g.nb),$=g.I?te(g.I):{},g.s?(g.u||(g.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",g.g.ha(g.A,g.u,g.s,$)):(g.u="GET",g.g.ha(g.A,g.u,null,$)),t5(),tX(g.j,g.u,g.A,g.m,g.W,g.s)}function iI(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.l.Ha}function iN(g,$,ee){let ei=!0,er;for(;!g.J&&g.C<ee.length;)if((er=iD(g,ee))==iT){4==$&&(g.o=4,t7(14),ei=!1),t1(g.j,g.m,null,"[Incomplete Response]");break}else if(er==iS){g.o=4,t7(15),t1(g.j,g.m,ee,"[Invalid Chunk]"),ei=!1;break}else t1(g.j,g.m,er,null),iP(g,er);iI(g)&&er!=iT&&er!=iS&&(g.h.g="",g.C=0),4!=$||0!=ee.length||g.h.h||(g.o=1,t7(16),ei=!1),g.i=g.i&&ei,ei?0<ee.length&&!g.ba&&(g.ba=!0,($=g.l).g==g&&$.ca&&!$.M&&($.l.info("Great, no buffering proxy detected. Bytes received: "+ee.length),rJ($),$.M=!0,t7(11))):(t1(g.j,g.m,ee,"[Invalid Chunked Response]"),ix(g),iO(g))}function iD(g,$){var ee=g.C,ei=$.indexOf("\n",ee);return -1==ei?iT:isNaN(ee=Number($.substring(ee,ei)))?iS:(ei+=1)+ee>$.length?iT:($=$.slice(ei,ei+ee),g.C=ei+ee,$)}function ik(g){g.Y=Date.now()+g.P,iR(g,g.P)}function iR(g,$){if(null!=g.B)throw Error("WatchDog timer not null");g.B=ii(ek(g.lb,g),$)}function iA(g){g.B&&(ew.clearTimeout(g.B),g.B=null)}function iO(g){0==g.l.H||g.J||r1(g.l,g)}function ix(g){iA(g);var $=g.M;$&&"function"==typeof $.sa&&$.sa(),g.M=null,tz(g.V),tY(g.U),g.g&&($=g.g,g.g=null,$.abort(),$.sa())}function iP(g,$){try{var ee=g.l;if(0!=ee.H&&(ee.g==g||rn(ee.i,g))){if(!g.K&&rn(ee.i,g)&&3==ee.H){try{var ei=ee.Ja.g.parse($)}catch(g){ei=null}if(Array.isArray(ei)&&3==ei.length){var er=ei;if(0==er[0]){e:if(!ee.u){if(ee.g){if(ee.g.G+3e3<g.G)rZ(ee),rq(ee);else break e}rY(ee),t7(18)}}else ee.Fa=er[1],0<ee.Fa-ee.V&&37500>er[2]&&ee.G&&0==ee.A&&!ee.v&&(ee.v=ii(ek(ee.ib,ee),6e3));if(1>=rr(ee.i)&&ee.oa){try{ee.oa()}catch(g){}ee.oa=void 0}}else r2(ee,11)}else if((g.K||ee.g==g)&&rZ(ee),!eU($))for(er=ee.Ja.g.parse($),$=0;$<er.length;$++){let eu=er[$];if(ee.V=eu[0],eu=eu[1],2==ee.H){if("c"==eu[0]){ee.K=eu[1],ee.pa=eu[2];let $=eu[3];null!=$&&(ee.ra=$,ee.l.info("VER="+ee.ra));let er=eu[4];null!=er&&(ee.Ga=er,ee.l.info("SVER="+ee.Ga));let eh=eu[5];null!=eh&&"number"==typeof eh&&0<eh&&(ei=1.5*eh,ee.L=ei,ee.l.info("backChannelRequestTimeoutMs_="+ei)),ei=ee;let em=g.g;if(em){let g=em.g?em.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var en=ei.i;en.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(en.j=en.l,en.g=new Set,en.h&&(rs(en,en.h),en.h=null))}if(ei.F){let g=em.g?em.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(ei.Da=g,i$(ei.I,ei.F,g))}}ee.H=3,ee.h&&ee.h.Ba(),ee.ca&&(ee.S=Date.now()-g.G,ee.l.info("Handshake RTT: "+ee.S+"ms")),ei=ee;var es=g;if(ei.wa=r4(ei,ei.J?ei.pa:null,ei.Y),es.K){ro(ei.i,es);var eo=es,ep=ei.L;ep&&eo.setTimeout(ep),eo.B&&(iA(eo),ik(eo)),ei.g=es}else rQ(ei);0<ee.j.length&&rH(ee)}else"stop"!=eu[0]&&"close"!=eu[0]||r2(ee,7)}else 3==ee.H&&("stop"==eu[0]||"close"==eu[0]?"stop"==eu[0]?r2(ee,7):rj(ee):"noop"!=eu[0]&&ee.h&&ee.h.Aa(eu),ee.A=0)}}t5(4)}catch(g){}}function iM(g){if(g.Z&&"function"==typeof g.Z)return g.Z();if("undefined"!=typeof Map&&g instanceof Map||"undefined"!=typeof Set&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(eS(g)){for(var $=[],ee=g.length,ei=0;ei<ee;ei++)$.push(g[ei]);return $}for(ei in $=[],ee=0,g)$[ee++]=g[ei];return $}function iL(g){if(g.ta&&"function"==typeof g.ta)return g.ta();if(!g.Z||"function"!=typeof g.Z){if("undefined"!=typeof Map&&g instanceof Map)return Array.from(g.keys());if(!("undefined"!=typeof Set&&g instanceof Set)){if(eS(g)||"string"==typeof g){var $=[];g=g.length;for(var ee=0;ee<g;ee++)$.push(ee);return $}for(let ei in $=[],ee=0,g)$[ee++]=ei;return $}}}function iF(g,$){if(g.forEach&&"function"==typeof g.forEach)g.forEach($,void 0);else if(eS(g)||"string"==typeof g)Array.prototype.forEach.call(g,$,void 0);else for(var ee=iL(g),ei=iM(g),er=ei.length,en=0;en<er;en++)$.call(void 0,ei[en],ee&&ee[en],g)}(eo=iy.prototype).setTimeout=function(g){this.P=g},eo.nb=function(g){g=g.target;let $=this.M;$&&3==rP(g)?$.l():this.Pa(g)},eo.Pa=function(g){try{if(g==this.g)e:{let eh=rP(this.g);var $=this.g.Ia();let em=this.g.da();if(!(3>eh)&&(3!=eh||eG||this.g&&(this.h.h||this.g.ja()||rM(this.g)))){this.J||4!=eh||7==$||(8==$||0>=em?t5(3):t5(2)),iA(this);var ee=this.g.da();this.ca=ee;t:if(iI(this)){var ei=rM(this.g);g="";var er=ei.length,en=4==rP(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ix(this),iO(this);var es="";break t}this.h.i=new ew.TextDecoder}for($=0;$<er;$++)this.h.h=!0,g+=this.h.i.decode(ei[$],{stream:en&&$==er-1});ei.splice(0,er),this.h.g+=g,this.C=0,es=this.h.g}else es=this.g.ja();if(this.i=200==ee,tZ(this.j,this.u,this.A,this.m,this.W,eh,ee),this.i){if(this.aa&&!this.K){t:{if(this.g){var eo,ep=this.g;if((eo=ep.g?ep.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eU(eo)){var eu=eo;break t}}eu=null}if(ee=eu)t1(this.j,this.m,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iP(this,ee);else{this.i=!1,this.o=3,t7(12),ix(this),iO(this);break e}}this.S?(iN(this,eh,es),eG&&this.i&&3==eh&&(tQ(this.U,this.V,"tick",this.mb),this.V.start())):(t1(this.j,this.m,es,null),iP(this,es)),4==eh&&ix(this),this.i&&!this.J&&(4==eh?r1(this.l,this):(this.i=!1,ik(this)))}else rL(this.g),400==ee&&0<es.indexOf("Unknown SID")?(this.o=3,t7(12)):(this.o=0,t7(13)),ix(this),iO(this)}}}catch(g){}finally{}},eo.mb=function(){if(this.g){var g=rP(this.g),$=this.g.ja();this.C<$.length&&(iA(this),iN(this,g,$),this.i&&4!=g&&ik(this))}},eo.cancel=function(){this.J=!0,ix(this)},eo.lb=function(){this.B=null;let g=Date.now();0<=g-this.Y?(t0(this.j,this.A),2!=this.L&&(t5(),t7(17)),ix(this),this.o=2,iO(this)):iR(this,this.Y-g)};var iV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iB(g,$){if(g){g=g.split("&");for(var ee=0;ee<g.length;ee++){var ei=g[ee].indexOf("="),er=null;if(0<=ei){var en=g[ee].substring(0,ei);er=g[ee].substring(ei+1)}else en=g[ee];$(en,er?decodeURIComponent(er.replace(/\+/g," ")):"")}}}function iU(g){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,g instanceof iU){this.h=g.h,iq(this,g.j),this.s=g.s,this.g=g.g,iz(this,g.m),this.l=g.l;var $=g.i,ee=new i0;ee.i=$.i,$.g&&(ee.g=new Map($.g),ee.h=$.h),iH(this,ee),this.o=g.o}else g&&($=String(g).match(iV))?(this.h=!1,iq(this,$[1]||"",!0),this.s=iK($[2]||""),this.g=iK($[3]||"",!0),iz(this,$[4]),this.l=iK($[5]||"",!0),iH(this,$[6]||"",!0),this.o=iK($[7]||"")):(this.h=!1,this.i=new i0(null,this.h))}function ij(g){return new iU(g)}function iq(g,$,ee){g.j=ee?iK($,!0):$,g.j&&(g.j=g.j.replace(/:$/,""))}function iz(g,$){if($){if(isNaN($=Number($))||0>$)throw Error("Bad port number "+$);g.m=$}else g.m=null}function iH(g,$,ee){$ instanceof i0?(g.i=$,i5(g.i,g.h)):(ee||($=iG($,iZ)),g.i=new i0($,g.h))}function i$(g,$,ee){g.i.set($,ee)}function iW(g){return i$(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function iK(g,$){return g?$?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function iG(g,$,ee){return"string"==typeof g?(g=encodeURI(g).replace($,iQ),ee&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function iQ(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}iU.prototype.toString=function(){var g=[],$=this.j;$&&g.push(iG($,iY,!0),":");var ee=this.g;return(ee||"file"==$)&&(g.push("//"),($=this.s)&&g.push(iG($,iY,!0),"@"),g.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.m)&&g.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&g.push("/"),g.push(iG(ee,"/"==ee.charAt(0)?iX:iJ,!0))),(ee=this.i.toString())&&g.push("?",ee),(ee=this.o)&&g.push("#",iG(ee,i1)),g.join("")};var iY=/[#\/\?@]/g,iJ=/[#\?:]/g,iX=/[#\?]/g,iZ=/[#\?@]/g,i1=/#/g;function i0(g,$){this.h=this.g=null,this.i=g||null,this.j=!!$}function i2(g){g.g||(g.g=new Map,g.h=0,g.i&&iB(g.i,function($,ee){g.add(decodeURIComponent($.replace(/\+/g," ")),ee)}))}function i6(g,$){i2(g),$=i9(g,$),g.g.has($)&&(g.i=null,g.h-=g.g.get($).length,g.g.delete($))}function i4(g,$){return i2(g),$=i9(g,$),g.g.has($)}function i3(g,$,ee){i6(g,$),0<ee.length&&(g.i=null,g.g.set(i9(g,$),eL(ee)),g.h+=ee.length)}function i9(g,$){return $=String($),g.j&&($=$.toLowerCase()),$}function i5(g,$){$&&!g.j&&(i2(g),g.i=null,g.g.forEach(function(g,$){var ee=$.toLowerCase();$!=ee&&(i6(this,$),i3(this,ee,g))},g)),g.j=$}(eo=i0.prototype).add=function(g,$){i2(this),this.i=null,g=i9(this,g);var ee=this.g.get(g);return ee||this.g.set(g,ee=[]),ee.push($),this.h+=1,this},eo.forEach=function(g,$){i2(this),this.g.forEach(function(ee,ei){ee.forEach(function(ee){g.call($,ee,ei,this)},this)},this)},eo.ta=function(){i2(this);let g=Array.from(this.g.values()),$=Array.from(this.g.keys()),ee=[];for(let ei=0;ei<$.length;ei++){let er=g[ei];for(let g=0;g<er.length;g++)ee.push($[ei])}return ee},eo.Z=function(g){i2(this);let $=[];if("string"==typeof g)i4(this,g)&&($=$.concat(this.g.get(i9(this,g))));else{g=Array.from(this.g.values());for(let ee=0;ee<g.length;ee++)$=$.concat(g[ee])}return $},eo.set=function(g,$){return i2(this),this.i=null,i4(this,g=i9(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[$]),this.h+=1,this},eo.get=function(g,$){return g&&0<(g=this.Z(g)).length?String(g[0]):$},eo.toString=function(){if(this.i)return this.i;if(!this.g)return"";let g=[],$=Array.from(this.g.keys());for(var ee=0;ee<$.length;ee++){var ei=$[ee];let en=encodeURIComponent(String(ei)),es=this.Z(ei);for(ei=0;ei<es.length;ei++){var er=en;""!==es[ei]&&(er+="="+encodeURIComponent(String(es[ei]))),g.push(er)}}return this.i=g.join("&")};var i8=class{constructor(g,$){this.g=g,this.map=$}};function i7(g){this.l=g||rt,g=ew.PerformanceNavigationTiming?0<(g=ew.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(ew.g&&ew.g.Ka&&ew.g.Ka()&&ew.g.Ka().dc),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rt=10;function ri(g){return!!g.h||!!g.g&&g.g.size>=g.j}function rr(g){return g.h?1:g.g?g.g.size:0}function rn(g,$){return g.h?g.h==$:!!g.g&&g.g.has($)}function rs(g,$){g.g?g.g.add($):g.h=$}function ro(g,$){g.h&&g.h==$?g.h=null:g.g&&g.g.has($)&&g.g.delete($)}function rl(g){if(null!=g.h)return g.i.concat(g.h.F);if(null!=g.g&&0!==g.g.size){let $=g.i;for(let ee of g.g.values())$=$.concat(ee.F);return $}return eL(g.i)}i7.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let g of this.g.values())g.cancel();this.g.clear()}};var rp=class{stringify(g){return ew.JSON.stringify(g,void 0)}parse(g){return ew.JSON.parse(g,void 0)}};function ru(){this.g=new rp}function rh(g,$,ee){let ei=ee||"";try{iF(g,function(g,ee){let er=g;eT(g)&&(er=tD(g)),$.push(ei+ee+"="+encodeURIComponent(er))})}catch(g){throw $.push(ei+"type="+encodeURIComponent("_badmap")),g}}function rm(g,$){let ee=new tJ;if(ew.Image){let ei=new Image;ei.onload=eR(rf,ee,ei,"TestLoadImage: loaded",!0,$),ei.onerror=eR(rf,ee,ei,"TestLoadImage: error",!1,$),ei.onabort=eR(rf,ee,ei,"TestLoadImage: abort",!1,$),ei.ontimeout=eR(rf,ee,ei,"TestLoadImage: timeout",!1,$),ew.setTimeout(function(){ei.ontimeout&&ei.ontimeout()},1e4),ei.src=g}else $(!1)}function rf(g,$,ee,ei,er){try{$.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null,er(ei)}catch(g){}}function rg(g){this.l=g.ec||null,this.j=g.ob||!1}function rv(g,$){tE.call(this),this.F=g,this.u=$,this.m=void 0,this.readyState=ry,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eA(rg,il),rg.prototype.g=function(){return new rv(this.l,this.j)},rg.prototype.i=function(g){return function(){return g}}({}),eA(rv,tE);var ry=0;function r_(g){g.j.read().then(g.Xa.bind(g)).catch(g.ka.bind(g))}function rw(g){g.readyState=4,g.l=null,g.j=null,g.A=null,rS(g)}function rS(g){g.onreadystatechange&&g.onreadystatechange.call(g)}(eo=rv.prototype).open=function(g,$){if(this.readyState!=ry)throw this.abort(),Error("Error reopening a connection");this.C=g,this.B=$,this.readyState=1,rS(this)},eo.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let $={headers:this.v,method:this.C,credentials:this.m,cache:void 0};g&&($.body=g),(this.F||ew).fetch(new Request(this.B,$)).then(this.$a.bind(this),this.ka.bind(this))},eo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rw(this)),this.readyState=ry},eo.$a=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,rS(this)),this.g&&(this.readyState=3,rS(this),this.g))){if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ew.ReadableStream&&"body"in g){if(this.j=g.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r_(this)}else g.text().then(this.Za.bind(this),this.ka.bind(this))}},eo.Xa=function(g){if(this.g){if(this.u&&g.value)this.response.push(g.value);else if(!this.u){var $=g.value?g.value:new Uint8Array(0);($=this.A.decode($,{stream:!g.done}))&&(this.response=this.responseText+=$)}g.done?rw(this):rS(this),3==this.readyState&&r_(this)}},eo.Za=function(g){this.g&&(this.response=this.responseText=g,rw(this))},eo.Ya=function(g){this.g&&(this.response=g,rw(this))},eo.ka=function(){this.g&&rw(this)},eo.setRequestHeader=function(g,$){this.v.append(g,$)},eo.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},eo.getAllResponseHeaders=function(){if(!this.h)return"";let g=[],$=this.h.entries();for(var ee=$.next();!ee.done;)g.push((ee=ee.value)[0]+": "+ee[1]),ee=$.next();return g.join("\r\n")},Object.defineProperty(rv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}});var rT=ew.JSON.parse;function rC(g){tE.call(this),this.headers=new Map,this.u=g||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rE,this.L=this.M=!1}eA(rC,tE);var rE="",rI=/^https?$/i,rN=["POST","PUT"];function rD(g){return eW&&"number"==typeof g.timeout&&void 0!==g.ontimeout}function rk(g,$){g.h=!1,g.g&&(g.l=!0,g.g.abort(),g.l=!1),g.j=$,g.m=5,rR(g),rO(g)}function rR(g){g.F||(g.F=!0,tI(g,"complete"),tI(g,"error"))}function rA(g){if(g.h&&void 0!==e_&&(!g.C[1]||4!=rP(g)||2!=g.da())){if(g.v&&4==rP(g))tH(g.La,0,g);else if(tI(g,"readystatechange"),4==rP(g)){g.h=!1;try{let es=g.da();switch(es){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $,ee,ei=!0;break;default:ei=!1}if(!($=ei)){if(ee=0===es){var er=String(g.I).match(iV)[1]||null;!er&&ew.self&&ew.self.location&&(er=ew.self.location.protocol.slice(0,-1)),ee=!rI.test(er?er.toLowerCase():"")}$=ee}if($)tI(g,"complete"),tI(g,"success");else{g.m=6;try{var en=2<rP(g)?g.g.statusText:""}catch(g){en=""}g.j=en+" ["+g.da()+"]",rR(g)}}finally{rO(g)}}}}function rO(g,$){if(g.g){rx(g);let ee=g.g,ei=g.C[0]?()=>{}:null;g.g=null,g.C=null,$||tI(g,"ready");try{ee.onreadystatechange=ei}catch(g){}}}function rx(g){g.g&&g.L&&(g.g.ontimeout=null),g.A&&(ew.clearTimeout(g.A),g.A=null)}function rP(g){return g.g?g.g.readyState:0}function rM(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.K){case rE:case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch(g){return null}}function rL(g){let $={};g=(g.g&&2<=rP(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ei=0;ei<g.length;ei++){if(eU(g[ei]))continue;var ee=tM(g[ei]);let er=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();let en=$[er]||[];$[er]=en,en.push(ee)}e7($,function(g){return g.join(", ")})}function rF(g){let $="";return e8(g,function(g,ee){$+=ee+":"+g+"\r\n"}),$}function rV(g,$,ee){e:{for(ei in ee){var ei=!1;break e}ei=!0}ei||(ee=rF(ee),"string"==typeof g?null!=ee&&encodeURIComponent(String(ee)):i$(g,$,ee))}function rB(g,$,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[g]||$}function rU(g){this.Ga=0,this.j=[],this.l=new tJ,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rB("failFast",!1,g),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rB("baseRetryDelayMs",5e3,g),this.hb=rB("retryDelaySeedMs",1e4,g),this.eb=rB("forwardChannelMaxRetries",2,g),this.xa=rB("forwardChannelRequestTimeoutMs",2e4,g),this.va=g&&g.xmlHttpFactory||void 0,this.Ha=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.i=new i7(g&&g.concurrentRequestLimit),this.Ja=new ru,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=g&&g.bc||!1,g&&g.Ea&&this.l.Ea(),g&&g.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&g&&g.detectBufferingProxy||!1,this.qa=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.qa=g.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rj(g){if(rz(g),3==g.H){var $=g.W++,ee=ij(g.I);if(i$(ee,"SID",g.K),i$(ee,"RID",$),i$(ee,"TYPE","terminate"),rK(g,ee),($=new iy(g,g.l,$)).L=2,$.v=iW(ij(ee)),ee=!1,ew.navigator&&ew.navigator.sendBeacon)try{ee=ew.navigator.sendBeacon($.v.toString(),"")}catch(g){}!ee&&ew.Image&&((new Image).src=$.v,ee=!0),ee||($.g=r3($.l,null),$.g.ha($.v)),$.G=Date.now(),ik($)}r6(g)}function rq(g){g.g&&(rJ(g),g.g.cancel(),g.g=null)}function rz(g){rq(g),g.u&&(ew.clearTimeout(g.u),g.u=null),rZ(g),g.i.cancel(),g.m&&("number"==typeof g.m&&ew.clearTimeout(g.m),g.m=null)}function rH(g){if(!ri(g.i)&&!g.m){g.m=!0;var $=g.Na;tF||tU(),tV||(tF(),tV=!0),tB.add($,g),g.C=0}}function r$(g,$){return!(rr(g.i)>=g.i.j-(g.m?1:0))&&(g.m?(g.j=$.F.concat(g.j),!0):1!=g.H&&2!=g.H&&!(g.C>=(g.cb?0:g.eb))&&(g.m=ii(ek(g.Na,g,$),r0(g,g.C)),g.C++,!0))}function rW(g,$){var ee;ee=$?$.m:g.W++;let ei=ij(g.I);i$(ei,"SID",g.K),i$(ei,"RID",ee),i$(ei,"AID",g.V),rK(g,ei),g.o&&g.s&&rV(ei,g.o,g.s),ee=new iy(g,g.l,ee,g.C+1),null===g.o&&(ee.I=g.s),$&&(g.j=$.F.concat(g.j)),$=rG(g,ee,1e3),ee.setTimeout(Math.round(.5*g.xa)+Math.round(.5*g.xa*Math.random())),rs(g.i,ee),iC(ee,ei,$)}function rK(g,$){g.na&&e8(g.na,function(g,ee){i$($,ee,g)}),g.h&&iF({},function(g,ee){i$($,ee,g)})}function rG(g,$,ee){ee=Math.min(g.j.length,ee);var ei=g.h?ek(g.h.Va,g.h,g):null;e:{var er=g.j;let $=-1;for(;;){let g=["count="+ee];-1==$?0<ee?($=er[0].g,g.push("ofs="+$)):$=0:g.push("ofs="+$);let en=!0;for(let es=0;es<ee;es++){let ee=er[es].g,eo=er[es].map;if(0>(ee-=$))$=Math.max(0,er[es].g-100),en=!1;else try{rh(eo,g,"req"+ee+"_")}catch(g){ei&&ei(eo)}}if(en){ei=g.join("&");break e}}}return g=g.j.splice(0,ee),$.F=g,ei}function rQ(g){if(!g.g&&!g.u){g.ba=1;var $=g.Ma;tF||tU(),tV||(tF(),tV=!0),tB.add($,g),g.A=0}}function rY(g){return!g.g&&!g.u&&!(3<=g.A)&&(g.ba++,g.u=ii(ek(g.Ma,g),r0(g,g.A)),g.A++,!0)}function rJ(g){null!=g.B&&(ew.clearTimeout(g.B),g.B=null)}function rX(g){g.g=new iy(g,g.l,"rpc",g.ba),null===g.o&&(g.g.I=g.s),g.g.O=0;var $=ij(g.wa);i$($,"RID","rpc"),i$($,"SID",g.K),i$($,"AID",g.V),i$($,"CI",g.G?"0":"1"),!g.G&&g.qa&&i$($,"TO",g.qa),i$($,"TYPE","xmlhttp"),rK(g,$),g.o&&g.s&&rV($,g.o,g.s),g.L&&g.g.setTimeout(g.L);var ee=g.g;g=g.pa,ee.L=1,ee.v=iW(ij($)),ee.s=null,ee.S=!0,iE(ee,g)}function rZ(g){null!=g.v&&(ew.clearTimeout(g.v),g.v=null)}function r1(g,$){var ee=null;if(g.g==$){rZ(g),rJ(g),g.g=null;var ei=2}else{if(!rn(g.i,$))return;ee=$.F,ro(g.i,$),ei=1}if(0!=g.H){if($.i){if(1==ei){ee=$.s?$.s.length:0,$=Date.now()-$.G;var er=g.C;tI(ei=t3(),new ie(ei,ee)),rH(g)}else rQ(g)}else if(3==(er=$.o)||0==er&&0<$.ca||!(1==ei&&r$(g,$)||2==ei&&rY(g)))switch(ee&&0<ee.length&&(($=g.i).i=$.i.concat(ee)),er){case 1:r2(g,5);break;case 4:r2(g,10);break;case 3:r2(g,6);break;default:r2(g,2)}}}function r0(g,$){let ee=g.ab+Math.floor(Math.random()*g.hb);return g.isActive()||(ee*=2),ee*$}function r2(g,$){if(g.l.info("Error code "+$),2==$){var ee=null;g.h&&(ee=null);var ei=ek(g.pb,g);ee||(ee=new iU("//www.google.com/images/cleardot.gif"),ew.location&&"http"==ew.location.protocol||iq(ee,"https"),iW(ee)),rm(ee.toString(),ei)}else t7(2);g.H=0,g.h&&g.h.za($),r6(g),rz(g)}function r6(g){if(g.H=0,g.ma=[],g.h){let $=rl(g.i);(0!=$.length||0!=g.j.length)&&(eF(g.ma,$),eF(g.ma,g.j),g.i.i.length=0,eL(g.j),g.j.length=0),g.h.ya()}}function r4(g,$,ee){var ei=ee instanceof iU?ij(ee):new iU(ee);if(""!=ei.g)$&&(ei.g=$+"."+ei.g),iz(ei,ei.m);else{var er=ew.location;ei=er.protocol,$=$?$+"."+er.hostname:er.hostname,er=+er.port;var en=new iU(null);ei&&iq(en,ei),$&&(en.g=$),er&&iz(en,er),ee&&(en.l=ee),ei=en}return ee=g.F,$=g.Da,ee&&$&&i$(ei,ee,$),i$(ei,"VER",g.ra),rK(g,ei),ei}function r3(g,$,ee){if($&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return($=new rC(ee&&g.Ha&&!g.va?new rg({ob:!0}):g.va)).Oa(g.J),$}function r9(){}function r5(){if(eW&&!(10<=Number(e0)))throw Error("Environmental error: no available transport.")}function r8(g,$){tE.call(this),this.g=new rU($),this.l=g,this.h=$&&$.messageUrlParams||null,g=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.s=g,g=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(g?g["X-WebChannel-Content-Type"]=$.messageContentType:g={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.Ca&&(g?g["X-WebChannel-Client-Profile"]=$.Ca:g={"X-WebChannel-Client-Profile":$.Ca}),this.g.U=g,(g=$&&$.cc)&&!eU(g)&&(this.g.o=g),this.A=$&&$.supportsCrossDomainXhr||!1,this.v=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!eU($)&&(this.g.F=$,null!==(g=this.h)&&$ in g&&$ in(g=this.h)&&delete g[$]),this.j=new nt(this)}function r7(g){im.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var $=g.__sm__;if($){e:{for(let ee in $){g=ee;break e}g=void 0}(this.i=g)&&(g=this.i,$=null!==$&&g in $?$[g]:void 0),this.data=$}else this.data=g}function ne(){ig.call(this),this.status=1}function nt(g){this.g=g}function ni(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nn(g,$,ee){ee||(ee=0);var ei=Array(16);if("string"==typeof $)for(var er=0;16>er;++er)ei[er]=$.charCodeAt(ee++)|$.charCodeAt(ee++)<<8|$.charCodeAt(ee++)<<16|$.charCodeAt(ee++)<<24;else for(er=0;16>er;++er)ei[er]=$[ee++]|$[ee++]<<8|$[ee++]<<16|$[ee++]<<24;$=g.g[0],ee=g.g[1],er=g.g[2];var en=g.g[3],es=$+(en^ee&(er^en))+ei[0]+3614090360&4294967295;es=en+(er^($=ee+(es<<7&4294967295|es>>>25))&(ee^er))+ei[1]+3905402710&4294967295,es=er+(ee^(en=$+(es<<12&4294967295|es>>>20))&($^ee))+ei[2]+606105819&4294967295,es=ee+($^(er=en+(es<<17&4294967295|es>>>15))&(en^$))+ei[3]+3250441966&4294967295,es=$+(en^(ee=er+(es<<22&4294967295|es>>>10))&(er^en))+ei[4]+4118548399&4294967295,es=en+(er^($=ee+(es<<7&4294967295|es>>>25))&(ee^er))+ei[5]+1200080426&4294967295,es=er+(ee^(en=$+(es<<12&4294967295|es>>>20))&($^ee))+ei[6]+2821735955&4294967295,es=ee+($^(er=en+(es<<17&4294967295|es>>>15))&(en^$))+ei[7]+4249261313&4294967295,es=$+(en^(ee=er+(es<<22&4294967295|es>>>10))&(er^en))+ei[8]+1770035416&4294967295,es=en+(er^($=ee+(es<<7&4294967295|es>>>25))&(ee^er))+ei[9]+2336552879&4294967295,es=er+(ee^(en=$+(es<<12&4294967295|es>>>20))&($^ee))+ei[10]+4294925233&4294967295,es=ee+($^(er=en+(es<<17&4294967295|es>>>15))&(en^$))+ei[11]+2304563134&4294967295,es=$+(en^(ee=er+(es<<22&4294967295|es>>>10))&(er^en))+ei[12]+1804603682&4294967295,es=en+(er^($=ee+(es<<7&4294967295|es>>>25))&(ee^er))+ei[13]+4254626195&4294967295,es=er+(ee^(en=$+(es<<12&4294967295|es>>>20))&($^ee))+ei[14]+2792965006&4294967295,es=ee+($^(er=en+(es<<17&4294967295|es>>>15))&(en^$))+ei[15]+1236535329&4294967295,ee=er+(es<<22&4294967295|es>>>10),es=$+(er^en&(ee^er))+ei[1]+4129170786&4294967295,$=ee+(es<<5&4294967295|es>>>27),es=en+(ee^er&($^ee))+ei[6]+3225465664&4294967295,en=$+(es<<9&4294967295|es>>>23),es=er+($^ee&(en^$))+ei[11]+643717713&4294967295,er=en+(es<<14&4294967295|es>>>18),es=ee+(en^$&(er^en))+ei[0]+3921069994&4294967295,ee=er+(es<<20&4294967295|es>>>12),es=$+(er^en&(ee^er))+ei[5]+3593408605&4294967295,$=ee+(es<<5&4294967295|es>>>27),es=en+(ee^er&($^ee))+ei[10]+38016083&4294967295,en=$+(es<<9&4294967295|es>>>23),es=er+($^ee&(en^$))+ei[15]+3634488961&4294967295,er=en+(es<<14&4294967295|es>>>18),es=ee+(en^$&(er^en))+ei[4]+3889429448&4294967295,ee=er+(es<<20&4294967295|es>>>12),es=$+(er^en&(ee^er))+ei[9]+568446438&4294967295,$=ee+(es<<5&4294967295|es>>>27),es=en+(ee^er&($^ee))+ei[14]+3275163606&4294967295,en=$+(es<<9&4294967295|es>>>23),es=er+($^ee&(en^$))+ei[3]+4107603335&4294967295,er=en+(es<<14&4294967295|es>>>18),es=ee+(en^$&(er^en))+ei[8]+1163531501&4294967295,ee=er+(es<<20&4294967295|es>>>12),es=$+(er^en&(ee^er))+ei[13]+2850285829&4294967295,$=ee+(es<<5&4294967295|es>>>27),es=en+(ee^er&($^ee))+ei[2]+4243563512&4294967295,en=$+(es<<9&4294967295|es>>>23),es=er+($^ee&(en^$))+ei[7]+1735328473&4294967295,er=en+(es<<14&4294967295|es>>>18),es=ee+(en^$&(er^en))+ei[12]+2368359562&4294967295,es=$+((ee=er+(es<<20&4294967295|es>>>12))^er^en)+ei[5]+4294588738&4294967295,es=en+(($=ee+(es<<4&4294967295|es>>>28))^ee^er)+ei[8]+2272392833&4294967295,es=er+((en=$+(es<<11&4294967295|es>>>21))^$^ee)+ei[11]+1839030562&4294967295,es=ee+((er=en+(es<<16&4294967295|es>>>16))^en^$)+ei[14]+4259657740&4294967295,es=$+((ee=er+(es<<23&4294967295|es>>>9))^er^en)+ei[1]+2763975236&4294967295,es=en+(($=ee+(es<<4&4294967295|es>>>28))^ee^er)+ei[4]+1272893353&4294967295,es=er+((en=$+(es<<11&4294967295|es>>>21))^$^ee)+ei[7]+4139469664&4294967295,es=ee+((er=en+(es<<16&4294967295|es>>>16))^en^$)+ei[10]+3200236656&4294967295,es=$+((ee=er+(es<<23&4294967295|es>>>9))^er^en)+ei[13]+681279174&4294967295,es=en+(($=ee+(es<<4&4294967295|es>>>28))^ee^er)+ei[0]+3936430074&4294967295,es=er+((en=$+(es<<11&4294967295|es>>>21))^$^ee)+ei[3]+3572445317&4294967295,es=ee+((er=en+(es<<16&4294967295|es>>>16))^en^$)+ei[6]+76029189&4294967295,es=$+((ee=er+(es<<23&4294967295|es>>>9))^er^en)+ei[9]+3654602809&4294967295,es=en+(($=ee+(es<<4&4294967295|es>>>28))^ee^er)+ei[12]+3873151461&4294967295,es=er+((en=$+(es<<11&4294967295|es>>>21))^$^ee)+ei[15]+530742520&4294967295,es=ee+((er=en+(es<<16&4294967295|es>>>16))^en^$)+ei[2]+3299628645&4294967295,ee=er+(es<<23&4294967295|es>>>9),es=$+(er^(ee|~en))+ei[0]+4096336452&4294967295,$=ee+(es<<6&4294967295|es>>>26),es=en+(ee^($|~er))+ei[7]+1126891415&4294967295,en=$+(es<<10&4294967295|es>>>22),es=er+($^(en|~ee))+ei[14]+2878612391&4294967295,er=en+(es<<15&4294967295|es>>>17),es=ee+(en^(er|~$))+ei[5]+4237533241&4294967295,ee=er+(es<<21&4294967295|es>>>11),es=$+(er^(ee|~en))+ei[12]+1700485571&4294967295,$=ee+(es<<6&4294967295|es>>>26),es=en+(ee^($|~er))+ei[3]+2399980690&4294967295,en=$+(es<<10&4294967295|es>>>22),es=er+($^(en|~ee))+ei[10]+4293915773&4294967295,er=en+(es<<15&4294967295|es>>>17),es=ee+(en^(er|~$))+ei[1]+2240044497&4294967295,ee=er+(es<<21&4294967295|es>>>11),es=$+(er^(ee|~en))+ei[8]+1873313359&4294967295,$=ee+(es<<6&4294967295|es>>>26),es=en+(ee^($|~er))+ei[15]+4264355552&4294967295,en=$+(es<<10&4294967295|es>>>22),es=er+($^(en|~ee))+ei[6]+2734768916&4294967295,er=en+(es<<15&4294967295|es>>>17),es=ee+(en^(er|~$))+ei[13]+1309151649&4294967295,ee=er+(es<<21&4294967295|es>>>11),es=$+(er^(ee|~en))+ei[4]+4149444226&4294967295,$=ee+(es<<6&4294967295|es>>>26),es=en+(ee^($|~er))+ei[11]+3174756917&4294967295,en=$+(es<<10&4294967295|es>>>22),es=er+($^(en|~ee))+ei[2]+718787259&4294967295,er=en+(es<<15&4294967295|es>>>17),es=ee+(en^(er|~$))+ei[9]+3951481745&4294967295,g.g[0]=g.g[0]+$&4294967295,g.g[1]=g.g[1]+(er+(es<<21&4294967295|es>>>11))&4294967295,g.g[2]=g.g[2]+er&4294967295,g.g[3]=g.g[3]+en&4294967295}function no(g,$){this.h=$;for(var ee=[],ei=!0,er=g.length-1;0<=er;er--){var en=0|g[er];ei&&en==$||(ee[er]=en,ei=!1)}this.g=ee}(eo=rC.prototype).Oa=function(g){this.M=g},eo.ha=function(g,$,ee,ei){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+g);$=$?$.toUpperCase():"GET",this.I=g,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():en.g(),this.C=this.u?ip(this.u):ip(en),this.g.onreadystatechange=ek(this.La,this);try{this.G=!0,this.g.open($,String(g),!0),this.G=!1}catch(g){rk(this,g);return}if(g=ee||"",ee=new Map(this.headers),ei){if(Object.getPrototypeOf(ei)===Object.prototype)for(var er in ei)ee.set(er,ei[er]);else if("function"==typeof ei.keys&&"function"==typeof ei.get)for(let g of ei.keys())ee.set(g,ei.get(g));else throw Error("Unknown input type for opt_headers: "+String(ei))}for(let[en,es]of(ei=Array.from(ee.keys()).find(g=>"content-type"==g.toLowerCase()),er=ew.FormData&&g instanceof ew.FormData,!(0<=eM(rN,$))||ei||er||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ee))this.g.setRequestHeader(en,es);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rx(this),0<this.B&&((this.L=rD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ek(this.ua,this)):this.A=tH(this.ua,this.B,this)),this.v=!0,this.g.send(g),this.v=!1}catch(g){rk(this,g)}},eo.ua=function(){void 0!==e_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tI(this,"timeout"),this.abort(8))},eo.abort=function(g){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=g||7,tI(this,"complete"),tI(this,"abort"),rO(this))},eo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rO(this,!0)),rC.$.N.call(this)},eo.La=function(){this.s||(this.G||this.v||this.l?rA(this):this.kb())},eo.kb=function(){rA(this)},eo.isActive=function(){return!!this.g},eo.da=function(){try{return 2<rP(this)?this.g.status:-1}catch(g){return -1}},eo.ja=function(){try{return this.g?this.g.responseText:""}catch(g){return""}},eo.Wa=function(g){if(this.g){var $=this.g.responseText;return g&&0==$.indexOf(g)&&($=$.substring(g.length)),rT($)}},eo.Ia=function(){return this.m},eo.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(eo=rU.prototype).ra=8,eo.H=1,eo.Na=function(g){if(this.m){if(this.m=null,1==this.H){if(!g){this.W=Math.floor(1e5*Math.random()),g=this.W++;let er=new iy(this,this.l,g),en=this.s;if(this.U&&(en?ti(en=te(en),this.U):en=this.U),null!==this.o||this.O||(er.I=en,en=null),this.P)e:{for(var $=0,ee=0;ee<this.j.length;ee++){t:{var ei=this.j[ee];if("__data__"in ei.map&&"string"==typeof(ei=ei.map.__data__)){ei=ei.length;break t}ei=void 0}if(void 0===ei)break;if(4096<($+=ei)){$=ee;break e}if(4096===$||ee===this.j.length-1){$=ee+1;break e}}$=1e3}else $=1e3;$=rG(this,er,$),i$(ee=ij(this.I),"RID",g),i$(ee,"CVER",22),this.F&&i$(ee,"X-HTTP-Session-Id",this.F),rK(this,ee),en&&(this.O?$="headers="+encodeURIComponent(String(rF(en)))+"&"+$:this.o&&rV(ee,this.o,en)),rs(this.i,er),this.bb&&i$(ee,"TYPE","init"),this.P?(i$(ee,"$req",$),i$(ee,"SID","null"),er.aa=!0,iC(er,ee,null)):iC(er,ee,$),this.H=2}}else 3==this.H&&(g?rW(this,g):0==this.j.length||ri(this.i)||rW(this))}},eo.Ma=function(){if(this.u=null,rX(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var g=2*this.S;this.l.info("BP detection timer enabled: "+g),this.B=ii(ek(this.jb,this),g)}},eo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,t7(10),rq(this),rX(this))},eo.ib=function(){null!=this.v&&(this.v=null,rq(this),rY(this),t7(19))},eo.pb=function(g){g?(this.l.info("Successfully pinged google.com"),t7(2)):(this.l.info("Failed to ping google.com"),t7(1))},eo.isActive=function(){return!!this.h&&this.h.isActive(this)},(eo=r9.prototype).Ba=function(){},eo.Aa=function(){},eo.za=function(){},eo.ya=function(){},eo.isActive=function(){return!0},eo.Va=function(){},r5.prototype.g=function(g,$){return new r8(g,$)},eA(r8,tE),r8.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var g=this.g,$=this.l,ee=this.h||void 0;t7(0),g.Y=$,g.na=ee||{},g.G=g.aa,g.I=r4(g,null,g.Y),rH(g)},r8.prototype.close=function(){rj(this.g)},r8.prototype.u=function(g){var $=this.g;if("string"==typeof g){var ee={};ee.__data__=g,g=ee}else this.v&&((ee={}).__data__=tD(g),g=ee);$.j.push(new i8($.fb++,g)),3==$.H&&rH($)},r8.prototype.N=function(){this.g.h=null,delete this.j,rj(this.g),delete this.g,r8.$.N.call(this)},eA(r7,im),eA(ne,ig),eA(nt,r9),nt.prototype.Ba=function(){tI(this.g,"a")},nt.prototype.Aa=function(g){tI(this.g,new r7(g))},nt.prototype.za=function(g){tI(this.g,new ne)},nt.prototype.ya=function(){tI(this.g,"b")},eA(ni,function(){this.blockSize=-1}),ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ni.prototype.j=function(g,$){void 0===$&&($=g.length);for(var ee=$-this.blockSize,ei=this.m,er=this.h,en=0;en<$;){if(0==er)for(;en<=ee;)nn(this,g,en),en+=this.blockSize;if("string"==typeof g){for(;en<$;)if(ei[er++]=g.charCodeAt(en++),er==this.blockSize){nn(this,ei),er=0;break}}else for(;en<$;)if(ei[er++]=g[en++],er==this.blockSize){nn(this,ei),er=0;break}}this.h=er,this.i+=$},ni.prototype.l=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var $=1;$<g.length-8;++$)g[$]=0;var ee=8*this.i;for($=g.length-8;$<g.length;++$)g[$]=255&ee,ee/=256;for(this.j(g),g=Array(16),$=ee=0;4>$;++$)for(var ei=0;32>ei;ei+=8)g[ee++]=this.g[$]>>>ei&255;return g};var np={};function nu(g){return -128<=g&&128>g?eH(g,function(g){return new no([0|g],0>g?-1:0)}):new no([0|g],0>g?-1:0)}function nh(g){if(isNaN(g)||!isFinite(g))return ng;if(0>g)return nS(nh(-g));for(var $=[],ee=1,ei=0;g>=ee;ei++)$[ei]=g/ee|0,ee*=nf;return new no($,0)}function nm(g,$){if(0==g.length)throw Error("number format error: empty string");if(2>($=$||10)||36<$)throw Error("radix out of range: "+$);if("-"==g.charAt(0))return nS(nm(g.substring(1),$));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var ee=nh(Math.pow($,8)),ei=ng,er=0;er<g.length;er+=8){var en=Math.min(8,g.length-er),es=parseInt(g.substring(er,er+en),$);8>en?(en=nh(Math.pow($,en)),ei=ei.R(en).add(nh(es))):ei=(ei=ei.R(ee)).add(nh(es))}return ei}var nf=4294967296,ng=nu(0),nv=nu(1),ny=nu(16777216);function n_(g){if(0!=g.h)return!1;for(var $=0;$<g.g.length;$++)if(0!=g.g[$])return!1;return!0}function nw(g){return -1==g.h}function nS(g){for(var $=g.g.length,ee=[],ei=0;ei<$;ei++)ee[ei]=~g.g[ei];return new no(ee,~g.h).add(nv)}function nT(g,$){return g.add(nS($))}function nC(g,$){for(;(65535&g[$])!=g[$];)g[$+1]+=g[$]>>>16,g[$]&=65535,$++}function nE(g,$){this.g=g,this.h=$}function nI(g,$){if(n_($))throw Error("division by zero");if(n_(g))return new nE(ng,ng);if(nw(g))return $=nI(nS(g),$),new nE(nS($.g),nS($.h));if(nw($))return $=nI(g,nS($)),new nE(nS($.g),$.h);if(30<g.g.length){if(nw(g)||nw($))throw Error("slowDivide_ only works with positive integers.");for(var ee=nv,ei=$;0>=ei.X(g);)ee=nN(ee),ei=nN(ei);var er=nD(ee,1),en=nD(ei,1);for(ei=nD(ei,2),ee=nD(ee,2);!n_(ei);){var es=en.add(ei);0>=es.X(g)&&(er=er.add(ee),en=es),ei=nD(ei,1),ee=nD(ee,1)}return $=nT(g,er.R($)),new nE(er,$)}for(er=ng;0<=g.X($);){for(ei=48>=(ei=Math.ceil(Math.log(ee=Math.max(1,Math.floor(g.ea()/$.ea())))/Math.LN2))?1:Math.pow(2,ei-48),es=(en=nh(ee)).R($);nw(es)||0<es.X(g);)ee-=ei,es=(en=nh(ee)).R($);n_(en)&&(en=nv),er=er.add(en),g=nT(g,es)}return new nE(er,g)}function nN(g){for(var $=g.g.length+1,ee=[],ei=0;ei<$;ei++)ee[ei]=g.D(ei)<<1|g.D(ei-1)>>>31;return new no(ee,g.h)}function nD(g,$){var ee=$>>5;$%=32;for(var ei=g.g.length-ee,er=[],en=0;en<ei;en++)er[en]=0<$?g.D(en+ee)>>>$|g.D(en+ee+1)<<32-$:g.D(en+ee);return new no(er,g.h)}(eo=no.prototype).ea=function(){if(nw(this))return-nS(this).ea();for(var g=0,$=1,ee=0;ee<this.g.length;ee++){var ei=this.D(ee);g+=(0<=ei?ei:nf+ei)*$,$*=nf}return g},eo.toString=function(g){if(2>(g=g||10)||36<g)throw Error("radix out of range: "+g);if(n_(this))return"0";if(nw(this))return"-"+nS(this).toString(g);for(var $=nh(Math.pow(g,6)),ee=this,ei="";;){var er=nI(ee,$).g,en=((0<(ee=nT(ee,er.R($))).g.length?ee.g[0]:ee.h)>>>0).toString(g);if(n_(ee=er))return en+ei;for(;6>en.length;)en="0"+en;ei=en+ei}},eo.D=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h},eo.X=function(g){return nw(g=nT(this,g))?-1:n_(g)?0:1},eo.abs=function(){return nw(this)?nS(this):this},eo.add=function(g){for(var $=Math.max(this.g.length,g.g.length),ee=[],ei=0,er=0;er<=$;er++){var en=ei+(65535&this.D(er))+(65535&g.D(er)),es=(en>>>16)+(this.D(er)>>>16)+(g.D(er)>>>16);ei=es>>>16,en&=65535,es&=65535,ee[er]=es<<16|en}return new no(ee,-2147483648&ee[ee.length-1]?-1:0)},eo.R=function(g){if(n_(this)||n_(g))return ng;if(nw(this))return nw(g)?nS(this).R(nS(g)):nS(nS(this).R(g));if(nw(g))return nS(this.R(nS(g)));if(0>this.X(ny)&&0>g.X(ny))return nh(this.ea()*g.ea());for(var $=this.g.length+g.g.length,ee=[],ei=0;ei<2*$;ei++)ee[ei]=0;for(ei=0;ei<this.g.length;ei++)for(var er=0;er<g.g.length;er++){var en=this.D(ei)>>>16,es=65535&this.D(ei),eo=g.D(er)>>>16,ep=65535&g.D(er);ee[2*ei+2*er]+=es*ep,nC(ee,2*ei+2*er),ee[2*ei+2*er+1]+=en*ep,nC(ee,2*ei+2*er+1),ee[2*ei+2*er+1]+=es*eo,nC(ee,2*ei+2*er+1),ee[2*ei+2*er+2]+=en*eo,nC(ee,2*ei+2*er+2)}for(ei=0;ei<$;ei++)ee[ei]=ee[2*ei+1]<<16|ee[2*ei];for(ei=$;ei<2*$;ei++)ee[ei]=0;return new no(ee,0)},eo.gb=function(g){return nI(this,g).h},eo.and=function(g){for(var $=Math.max(this.g.length,g.g.length),ee=[],ei=0;ei<$;ei++)ee[ei]=this.D(ei)&g.D(ei);return new no(ee,this.h&g.h)},eo.or=function(g){for(var $=Math.max(this.g.length,g.g.length),ee=[],ei=0;ei<$;ei++)ee[ei]=this.D(ei)|g.D(ei);return new no(ee,this.h|g.h)},eo.xor=function(g){for(var $=Math.max(this.g.length,g.g.length),ee=[],ei=0;ei<$;ei++)ee[ei]=this.D(ei)^g.D(ei);return new no(ee,this.h^g.h)},r5.prototype.createWebChannel=r5.prototype.g,r8.prototype.send=r8.prototype.u,r8.prototype.open=r8.prototype.m,r8.prototype.close=r8.prototype.close,ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,is.COMPLETE="complete",iu.EventType=ih,ih.OPEN="a",ih.CLOSE="b",ih.ERROR="c",ih.MESSAGE="d",tE.prototype.listen=tE.prototype.O,rC.prototype.listenOnce=rC.prototype.P,rC.prototype.getLastError=rC.prototype.Sa,rC.prototype.getLastErrorCode=rC.prototype.Ia,rC.prototype.getStatus=rC.prototype.da,rC.prototype.getResponseJson=rC.prototype.Wa,rC.prototype.getResponseText=rC.prototype.ja,rC.prototype.send=rC.prototype.ha,rC.prototype.setWithCredentials=rC.prototype.Oa,ni.prototype.digest=ni.prototype.l,ni.prototype.reset=ni.prototype.reset,ni.prototype.update=ni.prototype.j,no.prototype.add=no.prototype.add,no.prototype.multiply=no.prototype.R,no.prototype.modulo=no.prototype.gb,no.prototype.compare=no.prototype.X,no.prototype.toNumber=no.prototype.ea,no.prototype.toString=no.prototype.toString,no.prototype.getBits=no.prototype.D,no.fromNumber=nh,no.fromString=nm,ey.createWebChannelTransport=function(){return new r5},ey.getStatEventTarget=function(){return t3()},ey.ErrorCode=ir,ey.EventType=is,ey.Event=t6,ey.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ey.FetchXmlHttpFactory=rg,ey.WebChannel=iu,ey.XhrIo=rC,ey.Md5=ni;var nk=ey.Integer=no,nR=ee(16063),nA=ee(18196);let nO="@firebase/firestore",nx="4.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(g){this.uid=g}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(g){return g.uid===this.uid}}nP.UNAUTHENTICATED=new nP(null),nP.GOOGLE_CREDENTIALS=new nP("google-credentials-uid"),nP.FIRST_PARTY=new nP("first-party-uid"),nP.MOCK_USER=new nP("mock-user");let nM="10.4.0",nL=nM;function nF(g){nL=g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(g){return(0,em.inspect)(g,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nB=new eh.Yd("@firebase/firestore");function nU(){return nB.logLevel}function nj(g,...$){if(nB.logLevel<=eh.in.DEBUG){let ee=$.map(nH);nB.debug(`Firestore (${nL}): ${g}`,...ee)}}function nq(g,...$){if(nB.logLevel<=eh.in.ERROR){let ee=$.map(nH);nB.error(`Firestore (${nL}): ${g}`,...ee)}}function nz(g,...$){if(nB.logLevel<=eh.in.WARN){let ee=$.map(nH);nB.warn(`Firestore (${nL}): ${g}`,...ee)}}function nH(g){if("string"==typeof g)return g;try{return nV(g)}catch($){return g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(g="Unexpected state"){let $=`FIRESTORE (${nL}) INTERNAL ASSERTION FAILED: `+g;throw nq($),Error($)}function nW(g,$){g||n$()}function nK(g,$){return g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nG={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nQ extends ef.ZR{constructor(g,$){super(g,$),this.code=g,this.message=$,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(){this.promise=new Promise((g,$)=>{this.resolve=g,this.reject=$})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(g,$){this.user=$,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${g}`)}}class nX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(g,$){g.enqueueRetryable(()=>$(nP.UNAUTHENTICATED))}shutdown(){}}class nZ{constructor(g){this.token=g,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(g,$){this.changeListener=$,g.enqueueRetryable(()=>$(this.token.user))}shutdown(){this.changeListener=null}}class n0{constructor(g){this.authProvider=g,this.currentUser=nP.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(g,$){let ee=this.tokenCounter,ei=g=>this.tokenCounter!==ee?(ee=this.tokenCounter,$(g)):Promise.resolve(),er=new nY;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),er.resolve(),er=new nY,g.enqueueRetryable(()=>ei(this.currentUser))};let en=()=>{let $=er;g.enqueueRetryable(async()=>{await $.promise,await ei(this.currentUser)})},es=g=>{nj("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.tokenListener),en()};this.authProvider.onInit(g=>es(g)),setTimeout(()=>{if(!this.auth){let g=this.authProvider.getImmediate({optional:!0});g?es(g):(nj("FirebaseAuthCredentialsProvider","Auth not yet detected"),er.resolve(),er=new nY)}},0),en()}getToken(){let g=this.tokenCounter,$=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken($).then($=>this.tokenCounter!==g?(nj("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):$?(nW("string"==typeof $.accessToken),new nJ($.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let g=this.auth&&this.auth.getUid();return nW(null===g||"string"==typeof g),new nP(g)}}class n6{constructor(g,$,ee){this.sessionIndex=g,this.iamToken=$,this.authTokenFactory=ee,this.type="FirstParty",this.user=nP.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let g=this.getAuthToken();return g&&this._headers.set("Authorization",g),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class n4{constructor(g,$,ee){this.sessionIndex=g,this.iamToken=$,this.authTokenFactory=ee}getToken(){return Promise.resolve(new n6(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(g,$){g.enqueueRetryable(()=>$(nP.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n3{constructor(g){this.value=g,this.type="AppCheck",this.headers=new Map,g&&g.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n9{constructor(g){this.appCheckProvider=g,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(g,$){let ee=g=>{null!=g.error&&nj("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);let ee=g.token!==this.latestAppCheckToken;return this.latestAppCheckToken=g.token,nj("FirebaseAppCheckTokenProvider",`Received ${ee?"new":"existing"} token.`),ee?$(g.token):Promise.resolve()};this.tokenListener=$=>{g.enqueueRetryable(()=>ee($))};let ei=g=>{nj("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(g=>ei(g)),setTimeout(()=>{if(!this.appCheck){let g=this.appCheckProvider.getImmediate({optional:!0});g?ei(g):nj("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let g=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(g).then(g=>g?(nW("string"==typeof g.token),this.latestAppCheckToken=g.token,new n3(g.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}}function n5(g){if(!g)return new nX;switch(g.type){case"firstParty":return new n4(g.sessionIndex||"0",g.iamToken||null,g.authTokenFactory||null);case"provider":return g.client;default:throw new nQ(nG.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(g){return(0,eg.randomBytes)(g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{static newId(){let g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",$=Math.floor(256/g.length)*g.length,ee="",ei=20;for(;ee.length<ei;){let er=n8(40);for(let en=0;en<er.length;++en)ee.length<ei&&er[en]<$&&(ee+=g.charAt(er[en]%g.length))}return ee}}function ai(g,$){return g<$?-1:g>$?1:0}function ar(g,$,ee){return g.length===$.length&&g.every((g,ei)=>ee(g,$[ei]))}function an(g){return g+"\x00"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=-62135596800,ao=1e6;class al{constructor(g,$){if(this.seconds=g,this.nanoseconds=$,$<0||$>=1e9)throw new nQ(nG.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+$);if(g<as||g>=253402300800)throw new nQ(nG.INVALID_ARGUMENT,"Timestamp seconds out of range: "+g)}static now(){return al.fromMillis(Date.now())}static fromDate(g){return al.fromMillis(g.getTime())}static fromMillis(g){let $=Math.floor(g/1e3),ee=Math.floor((g-1e3*$)*ao);return new al($,ee)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ao}_compareTo(g){return this.seconds===g.seconds?ai(this.nanoseconds,g.nanoseconds):ai(this.seconds,g.seconds)}isEqual(g){return g.seconds===this.seconds&&g.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let g=this.seconds-as,$=String(g).padStart(12,"0"),ee=String(this.nanoseconds).padStart(9,"0");return $+"."+ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(g){this.timestamp=g}static fromTimestamp(g){return new ap(g)}static min(){return new ap(new al(0,0))}static max(){return new ap(new al(253402300799,1e9-1))}compareTo(g){return this.timestamp._compareTo(g.timestamp)}isEqual(g){return this.timestamp.isEqual(g.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="__name__";class ah{constructor(g,$,ee){void 0===$?$=0:$>g.length&&n$(),void 0===ee?ee=g.length-$:ee>g.length-$&&n$(),this.segments=g,this.offset=$,this.len=ee}get length(){return this.len}isEqual(g){return 0===ah.comparator(this,g)}child(g){let $=this.segments.slice(this.offset,this.limit());return g instanceof ah?g.forEach(g=>{$.push(g)}):$.push(g),this.construct($)}limit(){return this.offset+this.length}popFirst(g){return g=void 0===g?1:g,this.construct(this.segments,this.offset+g,this.length-g)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(g){return this.segments[this.offset+g]}isEmpty(){return 0===this.length}isPrefixOf(g){if(g.length<this.length)return!1;for(let $=0;$<this.length;$++)if(this.get($)!==g.get($))return!1;return!0}isImmediateParentOf(g){if(this.length+1!==g.length)return!1;for(let $=0;$<this.length;$++)if(this.get($)!==g.get($))return!1;return!0}forEach(g){for(let $=this.offset,ee=this.limit();$<ee;$++)g(this.segments[$])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(g,$){let ee=Math.min(g.length,$.length);for(let ei=0;ei<ee;ei++){let ee=g.get(ei),er=$.get(ei);if(ee<er)return -1;if(ee>er)return 1}return g.length<$.length?-1:g.length>$.length?1:0}}class am extends ah{construct(g,$,ee){return new am(g,$,ee)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...g){let $=[];for(let ee of g){if(ee.indexOf("//")>=0)throw new nQ(nG.INVALID_ARGUMENT,`Invalid segment (${ee}). Paths must not contain // in them.`);$.push(...ee.split("/").filter(g=>g.length>0))}return new am($)}static emptyPath(){return new am([])}}let af=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ag extends ah{construct(g,$,ee){return new ag(g,$,ee)}static isValidIdentifier(g){return af.test(g)}canonicalString(){return this.toArray().map(g=>(g=g.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ag.isValidIdentifier(g)||(g="`"+g+"`"),g)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===au}static keyField(){return new ag([au])}static fromServerFormat(g){let $=[],ee="",ei=0,er=()=>{if(0===ee.length)throw new nQ(nG.INVALID_ARGUMENT,`Invalid field path (${g}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);$.push(ee),ee=""},en=!1;for(;ei<g.length;){let $=g[ei];if("\\"===$){if(ei+1===g.length)throw new nQ(nG.INVALID_ARGUMENT,"Path has trailing escape character: "+g);let $=g[ei+1];if(!("\\"===$||"."===$||"`"===$))throw new nQ(nG.INVALID_ARGUMENT,"Path has invalid escape sequence: "+g);ee+=$,ei+=2}else"`"===$?en=!en:"."!==$||en?ee+=$:er(),ei++}if(er(),en)throw new nQ(nG.INVALID_ARGUMENT,"Unterminated ` in path: "+g);return new ag($)}static emptyPath(){return new ag([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(g){this.path=g}static fromPath(g){return new av(am.fromString(g))}static fromName(g){return new av(am.fromString(g).popFirst(5))}static empty(){return new av(am.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(g){return this.path.length>=2&&this.path.get(this.path.length-2)===g}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(g){return null!==g&&0===am.comparator(this.path,g.path)}toString(){return this.path.toString()}static comparator(g,$){return am.comparator(g.path,$.path)}static isDocumentKey(g){return g.length%2==0}static fromSegments(g){return new av(new am(g.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay=-1,a_=0;class aw{constructor(g,$,ee,ei){this.indexId=g,this.collectionGroup=$,this.fields=ee,this.indexState=ei}}function aS(g){return g.fields.find(g=>2===g.kind)}function aT(g){return g.fields.filter(g=>2!==g.kind)}function aC(g){let $=aT(g);return 0===$.length?0:$[$.length-1].kind}function aE(g,$){let ee=ai(g.collectionGroup,$.collectionGroup);if(0!==ee)return ee;for(let ei=0;ei<Math.min(g.fields.length,$.fields.length);++ei)if(0!==(ee=aD(g.fields[ei],$.fields[ei])))return ee;return ai(g.fields.length,$.fields.length)}function aI(g){return`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(g=>`${g.fieldPath}:${g.kind}`).join(",")}`}aw.UNKNOWN_ID=-1;class aN{constructor(g,$){this.fieldPath=g,this.kind=$}}function aD(g,$){let ee=ag.comparator(g.fieldPath,$.fieldPath);return 0!==ee?ee:ai(g.kind,$.kind)}class ak{constructor(g,$){this.sequenceNumber=g,this.offset=$}static empty(){return new ak(a_,aO.min())}}function aR(g,$){let ee=g.toTimestamp().seconds,ei=g.toTimestamp().nanoseconds+1,er=ap.fromTimestamp(1e9===ei?new al(ee+1,0):new al(ee,ei));return new aO(er,av.empty(),$)}function aA(g){return new aO(g.readTime,g.key,ay)}class aO{constructor(g,$,ee){this.readTime=g,this.documentKey=$,this.largestBatchId=ee}static min(){return new aO(ap.min(),av.empty(),ay)}static max(){return new aO(ap.max(),av.empty(),ay)}}function ax(g,$){let ee=g.readTime.compareTo($.readTime);return 0!==ee||0!==(ee=av.comparator(g.documentKey,$.documentKey))?ee:ai(g.largestBatchId,$.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(g){this.onCommittedListeners.push(g)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(g=>g())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(g){if(g.code===nG.FAILED_PRECONDITION&&g.message===aP)nj("LocalStore","Unexpectedly lost primary lease");else throw g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(g){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,g(g=>{this.isDone=!0,this.result=g,this.nextCallback&&this.nextCallback(g)},g=>{this.isDone=!0,this.error=g,this.catchCallback&&this.catchCallback(g)})}catch(g){return this.next(void 0,g)}next(g,$){return(this.callbackAttached&&n$(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure($,this.error):this.wrapSuccess(g,this.result):new aF((ee,ei)=>{this.nextCallback=$=>{this.wrapSuccess(g,$).next(ee,ei)},this.catchCallback=g=>{this.wrapFailure($,g).next(ee,ei)}})}toPromise(){return new Promise((g,$)=>{this.next(g,$)})}wrapUserFunction(g){try{let $=g();if($ instanceof aF)return $;return aF.resolve($)}catch(g){return aF.reject(g)}}wrapSuccess(g,$){return g?this.wrapUserFunction(()=>g($)):aF.resolve($)}wrapFailure(g,$){return g?this.wrapUserFunction(()=>g($)):aF.reject($)}static resolve(g){return new aF(($,ee)=>{$(g)})}static reject(g){return new aF(($,ee)=>{ee(g)})}static waitFor(g){return new aF(($,ee)=>{let ei=0,er=0,en=!1;g.forEach(g=>{++ei,g.next(()=>{++er,en&&er===ei&&$()},g=>ee(g))}),en=!0,er===ei&&$()})}static or(g){let $=aF.resolve(!1);for(let ee of g)$=$.next(g=>g?aF.resolve(g):ee());return $}static forEach(g,$){let ee=[];return g.forEach((g,ei)=>{ee.push($.call(this,g,ei))}),this.waitFor(ee)}static mapArray(g,$){return new aF((ee,ei)=>{let er=g.length,en=Array(er),es=0;for(let eo=0;eo<er;eo++){let ep=eo;$(g[ep]).next(g=>{en[ep]=g,++es===er&&ee(en)},g=>ei(g))}})}static doWhile(g,$){return new aF((ee,ei)=>{let er=()=>{!0===g()?$().next(()=>{er()},ei):ee()};er()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aV="SimpleDb",aB=3;class aU{constructor(g,$){this.action=g,this.transaction=$,this.aborted=!1,this.completionDeferred=new nY,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{$.error?this.completionDeferred.reject(new az(g,$.error)):this.completionDeferred.resolve()},this.transaction.onerror=$=>{let ee=aG($.target.error);this.completionDeferred.reject(new az(g,ee))}}static open(g,$,ee,ei){try{return new aU($,g.transaction(ei,ee))}catch(g){throw new az($,g)}}get completionPromise(){return this.completionDeferred.promise}abort(g){g&&this.completionDeferred.reject(g),this.aborted||(nj(aV,"Aborting transaction:",g?g.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let g=this.transaction;this.aborted||"function"!=typeof g.commit||g.commit()}store(g){let $=this.transaction.objectStore(g);return new a$($)}}class aj{constructor(g,$,ee){this.name=g,this.version=$,this.schemaConverter=ee;let ei=aj.getIOSVersion(getUA());12.2===ei&&nq("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(g){return nj(aV,"Removing database:",g),aW(window.indexedDB.deleteDatabase(g)).toPromise()}static isAvailable(){if(!isIndexedDBAvailable())return!1;if(aj.isMockPersistence())return!0;let g=getUA(),$=aj.getIOSVersion(g),ee=0<$&&$<10,ei=aj.getAndroidVersion(g),er=0<ei&&ei<4.5;return!(g.indexOf("MSIE ")>0||g.indexOf("Trident/")>0||g.indexOf("Edge/")>0)&&!ee&&!er}static isMockPersistence(){var g;return"undefined"!=typeof process&&(null===(g=process.env)||void 0===g?void 0:g.USE_MOCK_PERSISTENCE)==="YES"}static getStore(g,$){return g.store($)}static getIOSVersion(g){let $=g.match(/i(?:phone|pad|pod) os ([\d_]+)/i),ee=$?$[1].split("_").slice(0,2).join("."):"-1";return Number(ee)}static getAndroidVersion(g){let $=g.match(/Android ([\d.]+)/i),ee=$?$[1].split(".").slice(0,2).join("."):"-1";return Number(ee)}async ensureDb(g){return this.db||(nj(aV,"Opening database:",this.name),this.db=await new Promise(($,ee)=>{let ei=indexedDB.open(this.name,this.version);ei.onsuccess=g=>{let ee=g.target.result;$(ee)},ei.onblocked=()=>{ee(new az(g,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},ei.onerror=$=>{let ei=$.target.error;"VersionError"===ei.name?ee(new nQ(nG.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===ei.name?ee(new nQ(nG.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+ei)):ee(new az(g,ei))},ei.onupgradeneeded=g=>{nj(aV,'Database "'+this.name+'" requires upgrade from version:',g.oldVersion);let $=g.target.result;this.schemaConverter.createOrUpgrade($,ei.transaction,g.oldVersion,this.version).next(()=>{nj(aV,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=g=>this.versionchangelistener(g)),this.db}setVersionChangeListener(g){this.versionchangelistener=g,this.db&&(this.db.onversionchange=$=>g($))}async runTransaction(g,$,ee,ei){let er="readonly"===$,en=0;for(;;){++en;try{this.db=await this.ensureDb(g);let $=aU.open(this.db,g,er?"readonly":"readwrite",ee),en=ei($).next(g=>($.maybeCommit(),g)).catch(g=>($.abort(g),aF.reject(g))).toPromise();return en.catch(()=>{}),await $.completionPromise,en}catch(ee){let g=ee,$="FirebaseError"!==g.name&&en<aB;if(nj(aV,"Transaction failed with error:",g.message,"Retrying:",$),this.close(),!$)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}class aq{constructor(g){this.dbCursor=g,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(g){this.dbCursor=g}done(){this.shouldStop=!0}skip(g){this.nextKey=g}delete(){return aW(this.dbCursor.delete())}}class az extends null{constructor(g,$){super(nG.UNAVAILABLE,`IndexedDB transaction '${g}' failed: ${$}`),this.name="IndexedDbTransactionError"}}function aH(g){return"IndexedDbTransactionError"===g.name}class a${constructor(g){this.store=g}put(g,$){let ee;return void 0!==$?(nj(aV,"PUT",this.store.name,g,$),ee=this.store.put($,g)):(nj(aV,"PUT",this.store.name,"<auto-key>",g),ee=this.store.put(g)),aW(ee)}add(g){nj(aV,"ADD",this.store.name,g,g);let $=this.store.add(g);return aW($)}get(g){let $=this.store.get(g);return aW($).next($=>(void 0===$&&($=null),nj(aV,"GET",this.store.name,g,$),$))}delete(g){nj(aV,"DELETE",this.store.name,g);let $=this.store.delete(g);return aW($)}count(){nj(aV,"COUNT",this.store.name);let g=this.store.count();return aW(g)}loadAll(g,$){let ee=this.options(g,$);if(ee.index||"function"!=typeof this.store.getAll){let g=this.cursor(ee),$=[];return this.iterateCursor(g,(g,ee)=>{$.push(ee)}).next(()=>$)}{let g=this.store.getAll(ee.range);return new aF(($,ee)=>{g.onerror=g=>{ee(g.target.error)},g.onsuccess=g=>{$(g.target.result)}})}}loadFirst(g,$){let ee=this.store.getAll(g,null===$?void 0:$);return new aF((g,$)=>{ee.onerror=g=>{$(g.target.error)},ee.onsuccess=$=>{g($.target.result)}})}deleteAll(g,$){nj(aV,"DELETE ALL",this.store.name);let ee=this.options(g,$);ee.keysOnly=!1;let ei=this.cursor(ee);return this.iterateCursor(ei,(g,$,ee)=>ee.delete())}iterate(g,$){let ee;$?ee=g:(ee={},$=g);let ei=this.cursor(ee);return this.iterateCursor(ei,$)}iterateSerial(g){let $=this.cursor({});return new aF((ee,ei)=>{$.onerror=g=>{let $=aG(g.target.error);ei($)},$.onsuccess=$=>{let ei=$.target.result;if(!ei){ee();return}g(ei.primaryKey,ei.value).next(g=>{g?ei.continue():ee()})}})}iterateCursor(g,$){let ee=[];return new aF((ei,er)=>{g.onerror=g=>{er(g.target.error)},g.onsuccess=g=>{let er=g.target.result;if(!er){ei();return}let en=new aq(er),es=$(er.primaryKey,er.value,en);if(es instanceof aF){let g=es.catch(g=>(en.done(),aF.reject(g)));ee.push(g)}en.isDone?ei():null===en.skipToKey?er.continue():er.continue(en.skipToKey)}}).next(()=>aF.waitFor(ee))}options(g,$){let ee;return void 0!==g&&("string"==typeof g?ee=g:$=g),{index:ee,range:$}}cursor(g){let $="next";if(g.reverse&&($="prev"),!g.index)return this.store.openCursor(g.range,$);{let ee=this.store.index(g.index);return g.keysOnly?ee.openKeyCursor(g.range,$):ee.openCursor(g.range,$)}}}function aW(g){return new aF(($,ee)=>{g.onsuccess=g=>{let ee=g.target.result;$(ee)},g.onerror=g=>{let $=aG(g.target.error);ee($)}})}let aK=!1;function aG(g){let $=aj.getIOSVersion(getUA());if($>=12.2&&$<13){let $="An internal error was encountered in the Indexed Database server";if(g.message.indexOf($)>=0){let g=new nQ("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${$}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aK||(aK=!0,setTimeout(()=>{throw g},0)),g}}return g}let aQ="IndexBackiller",aY=null,aJ=null,aX=50;class aZ{constructor(g,$){this.asyncQueue=g,this.backfiller=$,this.task=null}start(){this.schedule(aY)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(g){nj(aQ,`Scheduled in ${g}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",g,async()=>{this.task=null;try{let g=await this.backfiller.backfill();nj(aQ,`Documents written: ${g}`)}catch(g){aH(g)?nj(aQ,"Ignoring IndexedDB error during index backfill: ",g):await aL(g)}await this.schedule(aJ)})}}class a1{constructor(g,$){this.localStore=g,this.persistence=$}async backfill(g=aX){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",$=>this.writeIndexEntries($,g))}writeIndexEntries(g,$){let ee=new Set,ei=$,er=!0;return aF.doWhile(()=>!0===er&&ei>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(g).next($=>{if(!(null===$||ee.has($)))return nj(aQ,`Processing collection: ${$}`),this.writeEntriesForCollectionGroup(g,$,ei).next(g=>{ei-=g,ee.add($)});er=!1})).next(()=>$-ei)}writeEntriesForCollectionGroup(g,$,ee){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(g,$).next(ei=>this.localStore.localDocuments.getNextDocuments(g,$,ei,ee).next(ee=>{let er=ee.changes;return this.localStore.indexManager.updateIndexEntries(g,er).next(()=>this.getNewOffset(ei,ee)).next(ee=>(nj(aQ,`Updating offset: ${ee}`),this.localStore.indexManager.updateCollectionGroup(g,$,ee))).next(()=>er.size)}))}getNewOffset(g,$){let ee=g;return $.changes.forEach((g,$)=>{let ei=aA($);ax(ei,ee)>0&&(ee=ei)}),new aO(ee.readTime,ee.documentKey,Math.max($.batchId,g.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(g,$){this.previousValue=g,$&&($.sequenceNumberHandler=g=>this.setPreviousValue(g),this.writeNewSequenceNumber=g=>$.writeSequenceNumber(g))}setPreviousValue(g){return this.previousValue=Math.max(g,this.previousValue),this.previousValue}next(){let g=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(g),g}}a0.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a2="\x01",a6="\x01",a4="\x10",a3="\x11";function a9(g){let $="";for(let ee=0;ee<g.length;ee++)$.length>0&&($=a8($)),$=a5(g.get(ee),$);return a8($)}function a5(g,$){let ee=$,ei=g.length;for(let $=0;$<ei;$++){let ei=g.charAt($);switch(ei){case"\x00":ee+=a2+a4;break;case a2:ee+=a2+a3;break;default:ee+=ei}}return ee}function a8(g){return g+a2+a6}function a7(g){let $=g.length;if(nW($>=2),2===$)return nW(g.charAt(0)===a2&&g.charAt(1)===a6),am.emptyPath();let ee=$-2,ei=[],er="";for(let en=0;en<$;){let $=g.indexOf(a2,en);($<0||$>ee)&&n$();let es=g.charAt($+1);switch(es){case a6:let eo;let ep=g.substring(en,$);0===er.length?eo=ep:(er+=ep,eo=er,er=""),ei.push(eo);break;case a4:er+=g.substring(en,$)+"\x00";break;case a3:er+=g.substring(en,$+1);break;default:n$()}en=$+2}return new am(ei)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let se="remoteDocuments",st="owner",si="owner",sr="mutationQueues",sn="userId",ss="mutations",so="batchId",sl="userMutationsIndex",su=null;function sh(g){return[g]}function sm(g,$){return[g,a9($)]}function sf(g,$,ee){return[g,a9($),ee]}let sg={},sv="documentMutations",sy="remoteDocumentsV14",s_=null,sw="documentKeyIndex",sS=null,sT="collectionGroupIndex",sC=null,sE="remoteDocumentGlobal",sI="remoteDocumentGlobalKey",sN="targets",sD="targetId",sk="queryTargetsIndex",sR=null,sA="targetDocuments",sO=null,sx="documentTargetsIndex",sP=null,sM="targetGlobalKey",sL="targetGlobal",sF="collectionParents",sV=null,sB="clientMetadata",sU="clientId",sj="bundles",sq="bundleId",sz="namedQueries",sH="name",s$="indexConfiguration",sW="indexId",sK="collectionGroupIndex",sG="collectionGroup",sQ="indexState",sY=null,sJ="sequenceNumberIndex",sX=null,sZ="indexEntries",s1=null,s0="documentKeyIndex",s2=null,s6="documentOverlays",s4=null,s3="collectionPathOverlayIndex",s9=null,s5="collectionGroupOverlayIndex",s8=null,s7=[sr,ss,sv,se,sN,st,sL,sA],oe=s7,ot=[...oe,sB],oi=[...ot,sE],or=[...oi,sF],on=[...or,sj,sz],oo=[...on,s6],ol=[sr,ss,sv,sy,sN,st,sL,sA,sB,sE,sF,sj,sz,s6],ou=ol,oh=[...ou,s$,sQ,sZ];function om(g){return 15===g?oh:14===g?ou:13===g?ol:12===g?oo:11===g?on:void n$()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends null{constructor(g,$){super(),this.simpleDbTransaction=g,this.currentSequenceNumber=$}}function og(g,$){let ee=nK(g);return aj.getStore(ee.simpleDbTransaction,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(g){let $=0;for(let ee in g)Object.prototype.hasOwnProperty.call(g,ee)&&$++;return $}function oy(g,$){for(let ee in g)Object.prototype.hasOwnProperty.call(g,ee)&&$(ee,g[ee])}function o_(g){for(let $ in g)if(Object.prototype.hasOwnProperty.call(g,$))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(g,$){this.comparator=g,this.root=$||oT.EMPTY}insert(g,$){return new ow(this.comparator,this.root.insert(g,$,this.comparator).copy(null,null,oT.BLACK,null,null))}remove(g){return new ow(this.comparator,this.root.remove(g,this.comparator).copy(null,null,oT.BLACK,null,null))}get(g){let $=this.root;for(;!$.isEmpty();){let ee=this.comparator(g,$.key);if(0===ee)return $.value;ee<0?$=$.left:ee>0&&($=$.right)}return null}indexOf(g){let $=0,ee=this.root;for(;!ee.isEmpty();){let ei=this.comparator(g,ee.key);if(0===ei)return $+ee.left.size;ei<0?ee=ee.left:($+=ee.left.size+1,ee=ee.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(g){return this.root.inorderTraversal(g)}forEach(g){this.inorderTraversal(($,ee)=>(g($,ee),!1))}toString(){let g=[];return this.inorderTraversal(($,ee)=>(g.push(`${$}:${ee}`),!1)),`{${g.join(", ")}}`}reverseTraversal(g){return this.root.reverseTraversal(g)}getIterator(){return new oS(this.root,null,this.comparator,!1)}getIteratorFrom(g){return new oS(this.root,g,this.comparator,!1)}getReverseIterator(){return new oS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(g){return new oS(this.root,g,this.comparator,!0)}}class oS{constructor(g,$,ee,ei){this.isReverse=ei,this.nodeStack=[];let er=1;for(;!g.isEmpty();)if(er=$?ee(g.key,$):1,$&&ei&&(er*=-1),er<0)g=this.isReverse?g.left:g.right;else if(0===er){this.nodeStack.push(g);break}else this.nodeStack.push(g),g=this.isReverse?g.right:g.left}getNext(){let g=this.nodeStack.pop(),$={key:g.key,value:g.value};if(this.isReverse)for(g=g.left;!g.isEmpty();)this.nodeStack.push(g),g=g.right;else for(g=g.right;!g.isEmpty();)this.nodeStack.push(g),g=g.left;return $}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let g=this.nodeStack[this.nodeStack.length-1];return{key:g.key,value:g.value}}}class oT{constructor(g,$,ee,ei,er){this.key=g,this.value=$,this.color=null!=ee?ee:oT.RED,this.left=null!=ei?ei:oT.EMPTY,this.right=null!=er?er:oT.EMPTY,this.size=this.left.size+1+this.right.size}copy(g,$,ee,ei,er){return new oT(null!=g?g:this.key,null!=$?$:this.value,null!=ee?ee:this.color,null!=ei?ei:this.left,null!=er?er:this.right)}isEmpty(){return!1}inorderTraversal(g){return this.left.inorderTraversal(g)||g(this.key,this.value)||this.right.inorderTraversal(g)}reverseTraversal(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(g,$,ee){let ei=this,er=ee(g,ei.key);return(ei=er<0?ei.copy(null,null,null,ei.left.insert(g,$,ee),null):0===er?ei.copy(null,$,null,null,null):ei.copy(null,null,null,null,ei.right.insert(g,$,ee))).fixUp()}removeMin(){if(this.left.isEmpty())return oT.EMPTY;let g=this;return g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),(g=g.copy(null,null,null,g.left.removeMin(),null)).fixUp()}remove(g,$){let ee;let ei=this;if(0>$(g,ei.key))ei.left.isEmpty()||ei.left.isRed()||ei.left.left.isRed()||(ei=ei.moveRedLeft()),ei=ei.copy(null,null,null,ei.left.remove(g,$),null);else{if(ei.left.isRed()&&(ei=ei.rotateRight()),ei.right.isEmpty()||ei.right.isRed()||ei.right.left.isRed()||(ei=ei.moveRedRight()),0===$(g,ei.key)){if(ei.right.isEmpty())return oT.EMPTY;ee=ei.right.min(),ei=ei.copy(ee.key,ee.value,null,null,ei.right.removeMin())}ei=ei.copy(null,null,null,null,ei.right.remove(g,$))}return ei.fixUp()}isRed(){return this.color}fixUp(){let g=this;return g.right.isRed()&&!g.left.isRed()&&(g=g.rotateLeft()),g.left.isRed()&&g.left.left.isRed()&&(g=g.rotateRight()),g.left.isRed()&&g.right.isRed()&&(g=g.colorFlip()),g}moveRedLeft(){let g=this.colorFlip();return g.right.left.isRed()&&(g=(g=(g=g.copy(null,null,null,null,g.right.rotateRight())).rotateLeft()).colorFlip()),g}moveRedRight(){let g=this.colorFlip();return g.left.left.isRed()&&(g=(g=g.rotateRight()).colorFlip()),g}rotateLeft(){let g=this.copy(null,null,oT.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)}rotateRight(){let g=this.copy(null,null,oT.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)}colorFlip(){let g=this.left.copy(null,null,!this.left.color,null,null),$=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,$)}checkMaxDepth(){let g=this.check();return Math.pow(2,g)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw n$();let g=this.left.check();if(g===this.right.check())return g+(this.isRed()?0:1);throw n$()}}oT.EMPTY=null,oT.RED=!0,oT.BLACK=!1;class oC{constructor(){this.size=0}get key(){throw n$()}get value(){throw n$()}get color(){throw n$()}get left(){throw n$()}get right(){throw n$()}copy(g,$,ee,ei,er){return this}insert(g,$,ee){return new oT(g,$)}remove(g,$){return this}isEmpty(){return!0}inorderTraversal(g){return!1}reverseTraversal(g){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}oT.EMPTY=new oC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(g){this.comparator=g,this.data=new ow(this.comparator)}has(g){return null!==this.data.get(g)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(g){return this.data.indexOf(g)}forEach(g){this.data.inorderTraversal(($,ee)=>(g($),!1))}forEachInRange(g,$){let ee=this.data.getIteratorFrom(g[0]);for(;ee.hasNext();){let ei=ee.getNext();if(this.comparator(ei.key,g[1])>=0)return;$(ei.key)}}forEachWhile(g,$){let ee;for(ee=void 0!==$?this.data.getIteratorFrom($):this.data.getIterator();ee.hasNext();){let $=ee.getNext(),ei=g($.key);if(!ei)return}}firstAfterOrEqual(g){let $=this.data.getIteratorFrom(g);return $.hasNext()?$.getNext().key:null}getIterator(){return new oI(this.data.getIterator())}getIteratorFrom(g){return new oI(this.data.getIteratorFrom(g))}add(g){return this.copy(this.data.remove(g).insert(g,!0))}delete(g){return this.has(g)?this.copy(this.data.remove(g)):this}isEmpty(){return this.data.isEmpty()}unionWith(g){let $=this;return $.size<g.size&&($=g,g=this),g.forEach(g=>{$=$.add(g)}),$}isEqual(g){if(!(g instanceof oE)||this.size!==g.size)return!1;let $=this.data.getIterator(),ee=g.data.getIterator();for(;$.hasNext();){let g=$.getNext().key,ei=ee.getNext().key;if(0!==this.comparator(g,ei))return!1}return!0}toArray(){let g=[];return this.forEach($=>{g.push($)}),g}toString(){let g=[];return this.forEach($=>g.push($)),"SortedSet("+g.toString()+")"}copy(g){let $=new oE(this.comparator);return $.data=g,$}}class oI{constructor(g){this.iter=g}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function oN(g,$,ee,ei,er){let en=g.getIterator(),es=$.getIterator(),eo=oD(en),ep=oD(es);for(;eo||ep;){let g=!1,$=!1;if(eo&&ep){let ei=ee(eo,ep);ei<0?$=!0:ei>0&&(g=!0)}else null!=eo?$=!0:g=!0;g?(ei(ep),ep=oD(es)):$?(er(eo),eo=oD(en)):(eo=oD(en),ep=oD(es))}}function oD(g){return g.hasNext()?g.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(g){this.fields=g,g.sort(ag.comparator)}static empty(){return new ok([])}unionWith(g){let $=new oE(ag.comparator);for(let g of this.fields)$=$.add(g);for(let ee of g)$=$.add(ee);return new ok($.toArray())}covers(g){for(let $ of this.fields)if($.isPrefixOf(g))return!0;return!1}isEqual(g){return ar(this.fields,g.fields,(g,$)=>g.isEqual($))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(g){return Buffer.from(g,"base64").toString("binary")}function oA(g){return Buffer.from(g,"binary").toString("base64")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(g){this.binaryString=g}static fromBase64String(g){let $=oR(g);return new oO($)}static fromUint8Array(g){let $=ox(g);return new oO($)}[Symbol.iterator](){let g=0;return{next:()=>g<this.binaryString.length?{value:this.binaryString.charCodeAt(g++),done:!1}:{value:void 0,done:!0}}}toBase64(){return oA(this.binaryString)}toUint8Array(){return oP(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(g){return ai(this.binaryString,g.binaryString)}isEqual(g){return this.binaryString===g.binaryString}}function ox(g){let $="";for(let ee=0;ee<g.length;++ee)$+=String.fromCharCode(g[ee]);return $}function oP(g){let $=new Uint8Array(g.length);for(let ee=0;ee<g.length;ee++)$[ee]=g.charCodeAt(ee);return $}oO.EMPTY_BYTE_STRING=new oO("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oL(g){if(nW(!!g),"string"==typeof g){let $=0,ee=oM.exec(g);if(nW(!!ee),ee[1]){let g=ee[1];$=Number(g=(g+"000000000").substr(0,9))}let ei=new Date(g),er=Math.floor(ei.getTime()/1e3);return{seconds:er,nanos:$}}{let $=oF(g.seconds),ee=oF(g.nanos);return{seconds:$,nanos:ee}}}function oF(g){return"number"==typeof g?g:"string"==typeof g?Number(g):0}function oV(g){return"string"==typeof g?oO.fromBase64String(g):oO.fromUint8Array(g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oB="server_timestamp",oU="__type__",oj="__previous_value__",oq="__local_write_time__";function oz(g){var $,ee;let ei=null===(ee=((null===($=null==g?void 0:g.mapValue)||void 0===$?void 0:$.fields)||{})[oU])||void 0===ee?void 0:ee.stringValue;return ei===oB}function oH(g,$){let ee={fields:{[oU]:{stringValue:oB},[oq]:{timestampValue:{seconds:g.seconds,nanos:g.nanoseconds}}}};return $&&oz($)&&($=o$($)),$&&(ee.fields[oj]=$),{mapValue:ee}}function o$(g){let $=g.mapValue.fields[oj];return oz($)?o$($):$}function oW(g){let $=oL(g.mapValue.fields[oq].timestampValue);return new al($.seconds,$.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(g,$,ee,ei,er,en,es,eo,ep){this.databaseId=g,this.appId=$,this.persistenceKey=ee,this.host=ei,this.ssl=er,this.forceLongPolling=en,this.autoDetectLongPolling=es,this.longPollingOptions=eo,this.useFetchStreams=ep}}let oG="(default)";class oQ{constructor(g,$){this.projectId=g,this.database=$||oG}static empty(){return new oQ("","")}get isDefaultDatabase(){return this.database===oG}isEqual(g){return g instanceof oQ&&g.projectId===this.projectId&&g.database===this.database}}function oY(g,$){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new nQ(nG.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oQ(g.options.projectId,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oJ=-1;function oX(g){return null==g}function oZ(g){return 0===g&&1/g==-1/0}function o1(g){return"number"==typeof g&&Number.isInteger(g)&&!oZ(g)&&g<=Number.MAX_SAFE_INTEGER&&g>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0="__max__",o2={mapValue:{fields:{__type__:{stringValue:o0}}}},o6={nullValue:"NULL_VALUE"};function o4(g){if("nullValue"in g)return 0;if("booleanValue"in g)return 1;if("integerValue"in g||"doubleValue"in g)return 2;if("timestampValue"in g)return 3;if("stringValue"in g)return 5;if("bytesValue"in g)return 6;if("referenceValue"in g)return 7;else if("geoPointValue"in g)return 8;else if("arrayValue"in g)return 9;else if(!("mapValue"in g))return n$();else return oz(g)?4:lF(g)?9007199254740991:10}function o3(g,$){if(g===$)return!0;let ee=o4(g),ei=o4($);if(ee!==ei)return!1;switch(ee){case 0:case 9007199254740991:return!0;case 1:return g.booleanValue===$.booleanValue;case 4:return oW(g).isEqual(oW($));case 3:return o9(g,$);case 5:return g.stringValue===$.stringValue;case 6:return o8(g,$);case 7:return g.referenceValue===$.referenceValue;case 8:return o5(g,$);case 2:return o7(g,$);case 9:return ar(g.arrayValue.values||[],$.arrayValue.values||[],o3);case 10:return lt(g,$);default:return n$()}}function o9(g,$){if("string"==typeof g.timestampValue&&"string"==typeof $.timestampValue&&g.timestampValue.length===$.timestampValue.length)return g.timestampValue===$.timestampValue;let ee=oL(g.timestampValue),ei=oL($.timestampValue);return ee.seconds===ei.seconds&&ee.nanos===ei.nanos}function o5(g,$){return oF(g.geoPointValue.latitude)===oF($.geoPointValue.latitude)&&oF(g.geoPointValue.longitude)===oF($.geoPointValue.longitude)}function o8(g,$){return oV(g.bytesValue).isEqual(oV($.bytesValue))}function o7(g,$){if("integerValue"in g&&"integerValue"in $)return oF(g.integerValue)===oF($.integerValue);if("doubleValue"in g&&"doubleValue"in $){let ee=oF(g.doubleValue),ei=oF($.doubleValue);return ee===ei?oZ(ee)===oZ(ei):isNaN(ee)&&isNaN(ei)}return!1}function lt(g,$){let ee=g.mapValue.fields||{},ei=$.mapValue.fields||{};if(ov(ee)!==ov(ei))return!1;for(let g in ee)if(ee.hasOwnProperty(g)&&(void 0===ei[g]||!o3(ee[g],ei[g])))return!1;return!0}function li(g,$){return void 0!==(g.values||[]).find(g=>o3(g,$))}function lr(g,$){if(g===$)return 0;let ee=o4(g),ei=o4($);if(ee!==ei)return ai(ee,ei);switch(ee){case 0:case 9007199254740991:return 0;case 1:return ai(g.booleanValue,$.booleanValue);case 2:return ls(g,$);case 3:return ll(g.timestampValue,$.timestampValue);case 4:return ll(oW(g),oW($));case 5:return ai(g.stringValue,$.stringValue);case 6:return lh(g.bytesValue,$.bytesValue);case 7:return lp(g.referenceValue,$.referenceValue);case 8:return lu(g.geoPointValue,$.geoPointValue);case 9:return lm(g.arrayValue,$.arrayValue);case 10:return lf(g.mapValue,$.mapValue);default:throw n$()}}function ls(g,$){let ee=oF(g.integerValue||g.doubleValue),ei=oF($.integerValue||$.doubleValue);return ee<ei?-1:ee>ei?1:ee===ei?0:isNaN(ee)?isNaN(ei)?0:-1:1}function ll(g,$){if("string"==typeof g&&"string"==typeof $&&g.length===$.length)return ai(g,$);let ee=oL(g),ei=oL($),er=ai(ee.seconds,ei.seconds);return 0!==er?er:ai(ee.nanos,ei.nanos)}function lp(g,$){let ee=g.split("/"),ei=$.split("/");for(let g=0;g<ee.length&&g<ei.length;g++){let $=ai(ee[g],ei[g]);if(0!==$)return $}return ai(ee.length,ei.length)}function lu(g,$){let ee=ai(oF(g.latitude),oF($.latitude));return 0!==ee?ee:ai(oF(g.longitude),oF($.longitude))}function lh(g,$){let ee=oV(g),ei=oV($);return ee.compareTo(ei)}function lm(g,$){let ee=g.values||[],ei=$.values||[];for(let g=0;g<ee.length&&g<ei.length;++g){let $=lr(ee[g],ei[g]);if($)return $}return ai(ee.length,ei.length)}function lf(g,$){if(g===o2.mapValue&&$===o2.mapValue)return 0;if(g===o2.mapValue)return 1;if($===o2.mapValue)return -1;let ee=g.fields||{},ei=Object.keys(ee),er=$.fields||{},en=Object.keys(er);ei.sort(),en.sort();for(let g=0;g<ei.length&&g<en.length;++g){let $=ai(ei[g],en[g]);if(0!==$)return $;let es=lr(ee[ei[g]],er[en[g]]);if(0!==es)return es}return ai(ei.length,en.length)}function lg(g){return lv(g)}function lv(g){if("nullValue"in g)return"null";if("booleanValue"in g)return""+g.booleanValue;if("integerValue"in g)return""+g.integerValue;if("doubleValue"in g)return""+g.doubleValue;if("timestampValue"in g)return l_(g.timestampValue);if("stringValue"in g)return g.stringValue;if("bytesValue"in g)return ly(g.bytesValue);else if("referenceValue"in g)return lS(g.referenceValue);else if("geoPointValue"in g)return lw(g.geoPointValue);else if("arrayValue"in g)return lC(g.arrayValue);else if("mapValue"in g)return lT(g.mapValue);else return n$()}function ly(g){return oV(g).toBase64()}function l_(g){let $=oL(g);return`time(${$.seconds},${$.nanos})`}function lw(g){return`geo(${g.latitude},${g.longitude})`}function lS(g){return av.fromName(g).toString()}function lT(g){let $=Object.keys(g.fields||{}).sort(),ee="{",ei=!0;for(let er of $)ei?ei=!1:ee+=",",ee+=`${er}:${lv(g.fields[er])}`;return ee+"}"}function lC(g){let $="[",ee=!0;for(let ei of g.values||[])ee?ee=!1:$+=",",$+=lv(ei);return $+"]"}function lE(g){switch(o4(g)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let $=o$(g);return $?16+lE($):16;case 5:return 2*g.stringValue.length;case 6:return oV(g.bytesValue).approximateByteSize();case 7:return g.referenceValue.length;case 9:return lN(g.arrayValue);case 10:return lI(g.mapValue);default:throw n$()}}function lI(g){let $=0;return oy(g.fields,(g,ee)=>{$+=g.length+lE(ee)}),$}function lN(g){return(g.values||[]).reduce((g,$)=>g+lE($),0)}function lD(g,$){return{referenceValue:`projects/${g.projectId}/databases/${g.database}/documents/${$.path.canonicalString()}`}}function lk(g){return!!g&&"integerValue"in g}function lR(g){return!!g&&"doubleValue"in g}function lA(g){return lk(g)||lR(g)}function lO(g){return!!g&&"arrayValue"in g}function lx(g){return!!g&&"nullValue"in g}function lP(g){return!!g&&"doubleValue"in g&&isNaN(Number(g.doubleValue))}function lM(g){return!!g&&"mapValue"in g}function lL(g){if(g.geoPointValue)return{geoPointValue:Object.assign({},g.geoPointValue)};if(g.timestampValue&&"object"==typeof g.timestampValue)return{timestampValue:Object.assign({},g.timestampValue)};if(g.mapValue){let $={mapValue:{fields:{}}};return oy(g.mapValue.fields,(g,ee)=>$.mapValue.fields[g]=lL(ee)),$}{if(!g.arrayValue)return Object.assign({},g);let $={arrayValue:{values:[]}};for(let ee=0;ee<(g.arrayValue.values||[]).length;++ee)$.arrayValue.values[ee]=lL(g.arrayValue.values[ee]);return $}}function lF(g){return(((g.mapValue||{}).fields||{}).__type__||{}).stringValue===o0}function lV(g){if("nullValue"in g)return o6;if("booleanValue"in g)return{booleanValue:!1};if("integerValue"in g||"doubleValue"in g)return{doubleValue:NaN};if("timestampValue"in g)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in g)return{stringValue:""};if("bytesValue"in g)return{bytesValue:""};if("referenceValue"in g)return lD(oQ.empty(),av.empty());else if("geoPointValue"in g)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in g)return{arrayValue:{}};else if("mapValue"in g)return{mapValue:{}};else return n$()}function lB(g){if("nullValue"in g)return{booleanValue:!1};if("booleanValue"in g)return{doubleValue:NaN};if("integerValue"in g||"doubleValue"in g)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in g)return{stringValue:""};if("stringValue"in g)return{bytesValue:""};if("bytesValue"in g)return lD(oQ.empty(),av.empty());if("referenceValue"in g)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in g)return{arrayValue:{}};else if("arrayValue"in g)return{mapValue:{}};else if("mapValue"in g)return o2;else return n$()}function lU(g,$){let ee=lr(g.value,$.value);return 0!==ee?ee:g.inclusive&&!$.inclusive?-1:!g.inclusive&&$.inclusive?1:0}function lj(g,$){let ee=lr(g.value,$.value);return 0!==ee?ee:g.inclusive&&!$.inclusive?1:!g.inclusive&&$.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(g){this.value=g}static empty(){return new lq({mapValue:{}})}field(g){if(g.isEmpty())return this.value;{let $=this.value;for(let ee=0;ee<g.length-1;++ee)if(!lM($=($.mapValue.fields||{})[g.get(ee)]))return null;return($=($.mapValue.fields||{})[g.lastSegment()])||null}}set(g,$){let ee=this.getFieldsMap(g.popLast());ee[g.lastSegment()]=lL($)}setAll(g){let $=ag.emptyPath(),ee={},ei=[];g.forEach((g,er)=>{if(!$.isImmediateParentOf(er)){let g=this.getFieldsMap($);this.applyChanges(g,ee,ei),ee={},ei=[],$=er.popLast()}g?ee[er.lastSegment()]=lL(g):ei.push(er.lastSegment())});let er=this.getFieldsMap($);this.applyChanges(er,ee,ei)}delete(g){let $=this.field(g.popLast());lM($)&&$.mapValue.fields&&delete $.mapValue.fields[g.lastSegment()]}isEqual(g){return o3(this.value,g.value)}getFieldsMap(g){let $=this.value;$.mapValue.fields||($.mapValue={fields:{}});for(let ee=0;ee<g.length;++ee){let ei=$.mapValue.fields[g.get(ee)];lM(ei)&&ei.mapValue.fields||(ei={mapValue:{fields:{}}},$.mapValue.fields[g.get(ee)]=ei),$=ei}return $.mapValue.fields}applyChanges(g,$,ee){for(let ei of(oy($,($,ee)=>g[$]=ee),ee))delete g[ei]}clone(){return new lq(lL(this.value))}}function lz(g){let $=[];return oy(g.fields,(g,ee)=>{let ei=new ag([g]);if(lM(ee)){let g=lz(ee.mapValue),er=g.fields;if(0===er.length)$.push(ei);else for(let g of er)$.push(ei.child(g))}else $.push(ei)}),new ok($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(g,$,ee,ei,er,en,es){this.key=g,this.documentType=$,this.version=ee,this.readTime=ei,this.createTime=er,this.data=en,this.documentState=es}static newInvalidDocument(g){return new lH(g,0,ap.min(),ap.min(),ap.min(),lq.empty(),0)}static newFoundDocument(g,$,ee,ei){return new lH(g,1,$,ap.min(),ee,ei,0)}static newNoDocument(g,$){return new lH(g,2,$,ap.min(),ap.min(),lq.empty(),0)}static newUnknownDocument(g,$){return new lH(g,3,$,ap.min(),ap.min(),lq.empty(),2)}convertToFoundDocument(g,$){return this.createTime.isEqual(ap.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=g),this.version=g,this.documentType=1,this.data=$,this.documentState=0,this}convertToNoDocument(g){return this.version=g,this.documentType=2,this.data=lq.empty(),this.documentState=0,this}convertToUnknownDocument(g){return this.version=g,this.documentType=3,this.data=lq.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ap.min(),this}setReadTime(g){return this.readTime=g,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(g){return g instanceof lH&&this.key.isEqual(g.key)&&this.version.isEqual(g.version)&&this.documentType===g.documentType&&this.documentState===g.documentState&&this.data.isEqual(g.data)}mutableCopy(){return new lH(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function l$(g,$,ee){let ei=$.data.field(g),er=ee.data.field(g);return null!==ei&&null!==er?lr(ei,er):n$()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(g,$){this.position=g,this.inclusive=$}}function lK(g,$,ee){let ei=0;for(let er=0;er<g.position.length;er++){let en=$[er],es=g.position[er];if(en.field.isKeyField())ei=av.comparator(av.fromName(es.referenceValue),ee.key);else{let g=ee.data.field(en.field);ei=lr(es,g)}if("desc"===en.dir&&(ei*=-1),0!==ei)break}return ei}function lG(g,$,ee){let ei=lK(g,$,ee);return g.inclusive?ei>=0:ei>0}function lQ(g,$,ee){let ei=lK(g,$,ee);return g.inclusive?ei<=0:ei<0}function lY(g,$){if(null===g)return null===$;if(null===$||g.inclusive!==$.inclusive||g.position.length!==$.position.length)return!1;for(let ee=0;ee<g.position.length;ee++){let ei=g.position[ee],er=$.position[ee];if(!o3(ei,er))return!1}return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(g,$="asc"){this.field=g,this.dir=$}}function lX(g){return g.field.canonicalString()+g.dir}function lZ(g){return`${g.field.canonicalString()} (${g.dir})`}function l1(g,$){return g.dir===$.dir&&g.field.isEqual($.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{}class l2 extends l0{constructor(g,$,ee){super(),this.field=g,this.op=$,this.value=ee}static create(g,$,ee){return g.isKeyField()?"in"===$||"not-in"===$?this.createKeyFieldInFilter(g,$,ee):new dl(g,$,ee):"array-contains"===$?new dm(g,ee):"in"===$?new df(g,ee):"not-in"===$?new dg(g,ee):"array-contains-any"===$?new dy(g,ee):new l2(g,$,ee)}static createKeyFieldInFilter(g,$,ee){return"in"===$?new dp(g,ee):new du(g,ee)}matches(g){let $=g.data.field(this.field);return"!="===this.op?null!==$&&this.matchesComparison(lr($,this.value)):null!==$&&o4(this.value)===o4($)&&this.matchesComparison(lr($,this.value))}matchesComparison(g){switch(this.op){case"<":return g<0;case"<=":return g<=0;case"==":return 0===g;case"!=":return 0!==g;case">":return g>0;case">=":return g>=0;default:return n$()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class l6 extends l0{constructor(g,$){super(),this.filters=g,this.op=$,this.memoizedFlattenedFilters=null}static create(g,$){return new l6(g,$)}matches(g){return l4(this)?void 0===this.filters.find($=>!$.matches(g)):void 0!==this.filters.find($=>$.matches(g))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((g,$)=>g.concat($.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let g=this.findFirstMatchingFilter(g=>g.isInequality());return null!==g?g.field:null}findFirstMatchingFilter(g){for(let $ of this.getFlattenedFilters())if(g($))return $;return null}}function l4(g){return"and"===g.op}function l3(g){return"or"===g.op}function l9(g){return l5(g)&&l4(g)}function l5(g){for(let $ of g.filters)if($ instanceof l6)return!1;return!0}function l8(g){if(g instanceof l2)return g.field.canonicalString()+g.op.toString()+lg(g.value);if(l9(g))return g.filters.map(g=>l8(g)).join(",");{let $=g.filters.map(g=>l8(g)).join(",");return`${g.op}(${$})`}}function l7(g,$){return g instanceof l2?de(g,$):g instanceof l6?dt(g,$):void n$()}function de(g,$){return $ instanceof l2&&g.op===$.op&&g.field.isEqual($.field)&&o3(g.value,$.value)}function dt(g,$){if($ instanceof l6&&g.op===$.op&&g.filters.length===$.filters.length){let ee=g.filters.reduce((g,ee,ei)=>g&&l7(ee,$.filters[ei]),!0);return ee}return!1}function di(g,$){let ee=g.filters.concat($);return l6.create(ee,g.op)}function dr(g){return g instanceof l2?ds(g):g instanceof l6?dn(g):"Filter"}function dn(g){return g.op.toString()+" {"+g.getFilters().map(dr).join(" ,")+"}"}function ds(g){return`${g.field.canonicalString()} ${g.op} ${lg(g.value)}`}class dl extends l2{constructor(g,$,ee){super(g,$,ee),this.key=av.fromName(ee.referenceValue)}matches(g){let $=av.comparator(g.key,this.key);return this.matchesComparison($)}}class dp extends l2{constructor(g,$){super(g,"in",$),this.keys=dh("in",$)}matches(g){return this.keys.some($=>$.isEqual(g.key))}}class du extends l2{constructor(g,$){super(g,"not-in",$),this.keys=dh("not-in",$)}matches(g){return!this.keys.some($=>$.isEqual(g.key))}}function dh(g,$){var ee;return((null===(ee=$.arrayValue)||void 0===ee?void 0:ee.values)||[]).map(g=>av.fromName(g.referenceValue))}class dm extends l2{constructor(g,$){super(g,"array-contains",$)}matches(g){let $=g.data.field(this.field);return lO($)&&li($.arrayValue,this.value)}}class df extends l2{constructor(g,$){super(g,"in",$)}matches(g){let $=g.data.field(this.field);return null!==$&&li(this.value.arrayValue,$)}}class dg extends l2{constructor(g,$){super(g,"not-in",$)}matches(g){if(li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let $=g.data.field(this.field);return null!==$&&!li(this.value.arrayValue,$)}}class dy extends l2{constructor(g,$){super(g,"array-contains-any",$)}matches(g){let $=g.data.field(this.field);return!!lO($)&&!!$.arrayValue.values&&$.arrayValue.values.some(g=>li(this.value.arrayValue,g))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(g,$=null,ee=[],ei=[],er=null,en=null,es=null){this.path=g,this.collectionGroup=$,this.orderBy=ee,this.filters=ei,this.limit=er,this.startAt=en,this.endAt=es,this.memoizedCanonicalId=null}}function dw(g,$=null,ee=[],ei=[],er=null,en=null,es=null){return new d_(g,$,ee,ei,er,en,es)}function dS(g){let $=nK(g);if(null===$.memoizedCanonicalId){let g=$.path.canonicalString();null!==$.collectionGroup&&(g+="|cg:"+$.collectionGroup),g+="|f:"+$.filters.map(g=>l8(g)).join(",")+"|ob:"+$.orderBy.map(g=>lX(g)).join(","),oX($.limit)||(g+="|l:"+$.limit),$.startAt&&(g+="|lb:"+($.startAt.inclusive?"b:":"a:")+$.startAt.position.map(g=>lg(g)).join(",")),$.endAt&&(g+="|ub:"+($.endAt.inclusive?"a:":"b:")+$.endAt.position.map(g=>lg(g)).join(",")),$.memoizedCanonicalId=g}return $.memoizedCanonicalId}function dT(g){let $=g.path.canonicalString();return null!==g.collectionGroup&&($+=" collectionGroup="+g.collectionGroup),g.filters.length>0&&($+=`, filters: [${g.filters.map(g=>dr(g)).join(", ")}]`),oX(g.limit)||($+=", limit: "+g.limit),g.orderBy.length>0&&($+=`, orderBy: [${g.orderBy.map(g=>lZ(g)).join(", ")}]`),g.startAt&&($+=", startAt: "+(g.startAt.inclusive?"b:":"a:")+g.startAt.position.map(g=>lg(g)).join(",")),g.endAt&&($+=", endAt: "+(g.endAt.inclusive?"a:":"b:")+g.endAt.position.map(g=>lg(g)).join(",")),`Target(${$})`}function dC(g,$){if(g.limit!==$.limit||g.orderBy.length!==$.orderBy.length)return!1;for(let ee=0;ee<g.orderBy.length;ee++)if(!l1(g.orderBy[ee],$.orderBy[ee]))return!1;if(g.filters.length!==$.filters.length)return!1;for(let ee=0;ee<g.filters.length;ee++)if(!l7(g.filters[ee],$.filters[ee]))return!1;return!!(g.collectionGroup===$.collectionGroup&&g.path.isEqual($.path)&&lY(g.startAt,$.startAt))&&lY(g.endAt,$.endAt)}function dE(g){return av.isDocumentKey(g.path)&&null===g.collectionGroup&&0===g.filters.length}function dI(g,$){return g.filters.filter(g=>g instanceof l2&&g.field.isEqual($))}function dN(g,$){let ee=aS($);if(void 0===ee)return null;for(let $ of dI(g,ee.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}function dD(g,$){let ee=new Map;for(let ei of aT($))for(let $ of dI(g,ei.fieldPath))switch($.op){case"==":case"in":ee.set(ei.fieldPath.canonicalString(),$.value);break;case"not-in":case"!=":return ee.set(ei.fieldPath.canonicalString(),$.value),Array.from(ee.values())}return null}function dk(g,$){let ee=[],ei=!0;for(let er of aT($)){let $=0===er.kind?dA(g,er.fieldPath,g.startAt):dO(g,er.fieldPath,g.startAt);ee.push($.value),ei&&(ei=$.inclusive)}return new lW(ee,ei)}function dR(g,$){let ee=[],ei=!0;for(let er of aT($)){let $=0===er.kind?dO(g,er.fieldPath,g.endAt):dA(g,er.fieldPath,g.endAt);ee.push($.value),ei&&(ei=$.inclusive)}return new lW(ee,ei)}function dA(g,$,ee){let ei=o6,er=!0;for(let ee of dI(g,$)){let g=o6,$=!0;switch(ee.op){case"<":case"<=":g=lV(ee.value);break;case"==":case"in":case">=":g=ee.value;break;case">":g=ee.value,$=!1;break;case"!=":case"not-in":g=o6}0>lU({value:ei,inclusive:er},{value:g,inclusive:$})&&(ei=g,er=$)}if(null!==ee)for(let en=0;en<g.orderBy.length;++en){let es=g.orderBy[en];if(es.field.isEqual($)){let g=ee.position[en];0>lU({value:ei,inclusive:er},{value:g,inclusive:ee.inclusive})&&(ei=g,er=ee.inclusive);break}}return{value:ei,inclusive:er}}function dO(g,$,ee){let ei=o2,er=!0;for(let ee of dI(g,$)){let g=o2,$=!0;switch(ee.op){case">=":case">":g=lB(ee.value),$=!1;break;case"==":case"in":case"<=":g=ee.value;break;case"<":g=ee.value,$=!1;break;case"!=":case"not-in":g=o2}lj({value:ei,inclusive:er},{value:g,inclusive:$})>0&&(ei=g,er=$)}if(null!==ee)for(let en=0;en<g.orderBy.length;++en){let es=g.orderBy[en];if(es.field.isEqual($)){let g=ee.position[en];lj({value:ei,inclusive:er},{value:g,inclusive:ee.inclusive})>0&&(ei=g,er=ee.inclusive);break}}return{value:ei,inclusive:er}}function dx(g){let $=new oE(ag.comparator),ee=!1;for(let ei of g.filters)for(let g of ei.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?ee=!0:$=$.add(g.field));for(let ee of g.orderBy)ee.field.isKeyField()||($=$.add(ee.field));return $.size+(ee?1:0)}function dP(g){return null!==g.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(g,$=null,ee=[],ei=[],er=null,en="F",es=null,eo=null){this.path=g,this.collectionGroup=$,this.explicitOrderBy=ee,this.filters=ei,this.limit=er,this.limitType=en,this.startAt=es,this.endAt=eo,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function dL(g,$,ee,ei,er,en,es,eo){return new dM(g,$,ee,ei,er,en,es,eo)}function dF(g){return new dM(g)}function dV(g,$){return new dM($,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}function dB(g){return 0===g.filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())}function dU(g){return g.explicitOrderBy.length>0?g.explicitOrderBy[0].field:null}function dj(g){for(let $ of g.filters){let g=$.getFirstInequalityField();if(null!==g)return g}return null}function dq(g){return av.isDocumentKey(g.path)&&null===g.collectionGroup&&0===g.filters.length}function dz(g){return null!==g.collectionGroup}function dH(g){let $=nK(g);if(null===$.memoizedNormalizedOrderBy){$.memoizedNormalizedOrderBy=[];let g=dj($),ee=dU($);if(null!==g&&null===ee)g.isKeyField()||$.memoizedNormalizedOrderBy.push(new lJ(g)),$.memoizedNormalizedOrderBy.push(new lJ(ag.keyField(),"asc"));else{let g=!1;for(let ee of $.explicitOrderBy)$.memoizedNormalizedOrderBy.push(ee),ee.field.isKeyField()&&(g=!0);if(!g){let g=$.explicitOrderBy.length>0?$.explicitOrderBy[$.explicitOrderBy.length-1].dir:"asc";$.memoizedNormalizedOrderBy.push(new lJ(ag.keyField(),g))}}}return $.memoizedNormalizedOrderBy}function d$(g){let $=nK(g);return $.memoizedTarget||($.memoizedTarget=dK($,dH(g))),$.memoizedTarget}function dW(g){let $=nK(g);return $.memoizedAggregateTarget||($.memoizedAggregateTarget=dK($,g.explicitOrderBy)),$.memoizedAggregateTarget}function dK(g,$){if("F"===g.limitType)return dw(g.path,g.collectionGroup,$,g.filters,g.limit,g.startAt,g.endAt);{$=$.map(g=>{let $="desc"===g.dir?"asc":"desc";return new lJ(g.field,$)});let ee=g.endAt?new lW(g.endAt.position,g.endAt.inclusive):null,ei=g.startAt?new lW(g.startAt.position,g.startAt.inclusive):null;return dw(g.path,g.collectionGroup,$,g.filters,g.limit,ee,ei)}}function dG(g,$){$.getFirstInequalityField(),dj(g);let ee=g.filters.concat([$]);return new dM(g.path,g.collectionGroup,g.explicitOrderBy.slice(),ee,g.limit,g.limitType,g.startAt,g.endAt)}function dQ(g,$){let ee=g.explicitOrderBy.concat([$]);return new dM(g.path,g.collectionGroup,ee,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}function dY(g,$,ee){return new dM(g.path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),$,ee,g.startAt,g.endAt)}function dJ(g,$){return new dM(g.path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,$,g.endAt)}function dX(g,$){return new dM(g.path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,$)}function dZ(g,$){return dC(d$(g),d$($))&&g.limitType===$.limitType}function d0(g){return`${dS(d$(g))}|lt:${g.limitType}`}function d6(g){return`Query(target=${dT(d$(g))}; limitType=${g.limitType})`}function d4(g,$){return $.isFoundDocument()&&d3(g,$)&&d9(g,$)&&d5(g,$)&&d8(g,$)}function d3(g,$){let ee=$.key.path;return null!==g.collectionGroup?$.key.hasCollectionId(g.collectionGroup)&&g.path.isPrefixOf(ee):av.isDocumentKey(g.path)?g.path.isEqual(ee):g.path.isImmediateParentOf(ee)}function d9(g,$){for(let ee of dH(g))if(!ee.field.isKeyField()&&null===$.data.field(ee.field))return!1;return!0}function d5(g,$){for(let ee of g.filters)if(!ee.matches($))return!1;return!0}function d8(g,$){return(!g.startAt||!!lQ(g.startAt,dH(g),$))&&(!g.endAt||!!lG(g.endAt,dH(g),$))}function d7(g){return g.collectionGroup||(g.path.length%2==1?g.path.lastSegment():g.path.get(g.path.length-2))}function pe(g){return($,ee)=>{let ei=!1;for(let er of dH(g)){let g=pt(er,$,ee);if(0!==g)return g;ei=ei||er.field.isKeyField()}return 0}}function pt(g,$,ee){let ei=g.field.isKeyField()?av.comparator($.key,ee.key):l$(g.field,$,ee);switch(g.dir){case"asc":return ei;case"desc":return -1*ei;default:return n$()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(g,$){this.mapKeyFn=g,this.equalsFn=$,this.inner={},this.innerSize=0}get(g){let $=this.mapKeyFn(g),ee=this.inner[$];if(void 0!==ee){for(let[$,ei]of ee)if(this.equalsFn($,g))return ei}}has(g){return void 0!==this.get(g)}set(g,$){let ee=this.mapKeyFn(g),ei=this.inner[ee];if(void 0===ei){this.inner[ee]=[[g,$]],this.innerSize++;return}for(let ee=0;ee<ei.length;ee++)if(this.equalsFn(ei[ee][0],g)){ei[ee]=[g,$];return}ei.push([g,$]),this.innerSize++}delete(g){let $=this.mapKeyFn(g),ee=this.inner[$];if(void 0===ee)return!1;for(let ei=0;ei<ee.length;ei++)if(this.equalsFn(ee[ei][0],g))return 1===ee.length?delete this.inner[$]:ee.splice(ei,1),this.innerSize--,!0;return!1}forEach(g){oy(this.inner,($,ee)=>{for(let[$,ei]of ee)g($,ei)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr=new ow(av.comparator);function pn(){return pr}let ps=new ow(av.comparator);function po(...g){let $=ps;for(let ee of g)$=$.insert(ee.key,ee);return $}function pl(){return pm()}function pp(g){let $=ps;return g.forEach((g,ee)=>$=$.insert(g,ee.overlayedDocument)),$}function pu(){return pm()}function ph(){return pm()}function pm(){return new pi(g=>g.toString(),(g,$)=>g.isEqual($))}let pf=new ow(av.comparator);function pg(){return pf}let pv=new oE(av.comparator);function py(...g){let $=pv;for(let ee of g)$=$.add(ee);return $}let p_=new oE(ai);function pS(){return p_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(g,$){if(g.useProto3Json){if(isNaN($))return{doubleValue:"NaN"};if($===1/0)return{doubleValue:"Infinity"};if($===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oZ($)?"-0":$}}function pC(g){return{integerValue:""+g}}function pE(g,$){return o1($)?pC($):pT(g,$)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this._=void 0}}function pD(g,$,ee){return g instanceof pO?oH(ee,$):g instanceof px?pP(g,$):g instanceof pM?pL(g,$):pV(g,$)}function pk(g,$,ee){return g instanceof px?pP(g,$):g instanceof pM?pL(g,$):ee}function pR(g,$){return g instanceof pF?lA($)?$:{integerValue:0}:null}function pA(g,$){return g instanceof px&&$ instanceof px||g instanceof pM&&$ instanceof pM?ar(g.elements,$.elements,o3):g instanceof pF&&$ instanceof pF?o3(g.operand,$.operand):g instanceof pO&&$ instanceof pO}class pO extends pI{}class px extends pI{constructor(g){super(),this.elements=g}}function pP(g,$){let ee=pU($);for(let $ of g.elements)ee.some(g=>o3(g,$))||ee.push($);return{arrayValue:{values:ee}}}class pM extends pI{constructor(g){super(),this.elements=g}}function pL(g,$){let ee=pU($);for(let $ of g.elements)ee=ee.filter(g=>!o3(g,$));return{arrayValue:{values:ee}}}class pF extends pI{constructor(g,$){super(),this.serializer=g,this.operand=$}}function pV(g,$){let ee=pR(g,$),ei=pB(ee)+pB(g.operand);return lk(ee)&&lk(g.operand)?pC(ei):pT(g.serializer,ei)}function pB(g){return oF(g.integerValue||g.doubleValue)}function pU(g){return lO(g)&&g.arrayValue.values?g.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(g,$){this.field=g,this.transform=$}}function pq(g,$){return g.field.isEqual($.field)&&pA(g.transform,$.transform)}function pz(g,$){return void 0===g&&void 0===$||!!g&&!!$&&ar(g,$,(g,$)=>pq(g,$))}class pH{constructor(g,$){this.version=g,this.transformResults=$}}class p${constructor(g,$){this.updateTime=g,this.exists=$}static none(){return new p$}static exists(g){return new p$(void 0,g)}static updateTime(g){return new p$(g)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(g){return this.exists===g.exists&&(this.updateTime?!!g.updateTime&&this.updateTime.isEqual(g.updateTime):!g.updateTime)}}function pW(g,$){return void 0!==g.updateTime?$.isFoundDocument()&&$.version.isEqual(g.updateTime):void 0===g.exists||g.exists===$.isFoundDocument()}class pK{}function pG(g,$){if(!g.hasLocalMutations||$&&0===$.fields.length)return null;if(null===$)return g.isNoDocument()?new ue(g.key,p$.none()):new pZ(g.key,g.data,p$.none());{let ee=g.data,ei=lq.empty(),er=new oE(ag.comparator);for(let g of $.fields)if(!er.has(g)){let $=ee.field(g);null===$&&g.length>1&&(g=g.popLast(),$=ee.field(g)),null===$?ei.delete(g):ei.set(g,$),er=er.add(g)}return new p4(g.key,ei,new ok(er.toArray()),p$.none())}}function pQ(g,$,ee){g instanceof pZ?p0(g,$,ee):g instanceof p4?p3(g,$,ee):ut(g,$,ee)}function pY(g,$,ee,ei){return g instanceof pZ?p6(g,$,ee,ei):g instanceof p4?p9(g,$,ee,ei):ui(g,$,ee)}function pJ(g,$){let ee=null;for(let ei of g.fieldTransforms){let g=$.data.field(ei.field),er=pR(ei.transform,g||null);null!=er&&(null===ee&&(ee=lq.empty()),ee.set(ei.field,er))}return ee||null}function pX(g,$){return!!(g.type===$.type&&g.key.isEqual($.key)&&g.precondition.isEqual($.precondition)&&pz(g.fieldTransforms,$.fieldTransforms))&&(0===g.type?g.value.isEqual($.value):1!==g.type||g.data.isEqual($.data)&&g.fieldMask.isEqual($.fieldMask))}class pZ extends pK{constructor(g,$,ee,ei=[]){super(),this.key=g,this.value=$,this.precondition=ee,this.fieldTransforms=ei,this.type=0}getFieldMask(){return null}}function p0(g,$,ee){let ei=g.value.clone(),er=p8(g.fieldTransforms,$,ee.transformResults);ei.setAll(er),$.convertToFoundDocument(ee.version,ei).setHasCommittedMutations()}function p6(g,$,ee,ei){if(!pW(g.precondition,$))return ee;let er=g.value.clone(),en=p7(g.fieldTransforms,ei,$);return er.setAll(en),$.convertToFoundDocument($.version,er).setHasLocalMutations(),null}class p4 extends pK{constructor(g,$,ee,ei,er=[]){super(),this.key=g,this.data=$,this.fieldMask=ee,this.precondition=ei,this.fieldTransforms=er,this.type=1}getFieldMask(){return this.fieldMask}}function p3(g,$,ee){if(!pW(g.precondition,$)){$.convertToUnknownDocument(ee.version);return}let ei=p8(g.fieldTransforms,$,ee.transformResults),er=$.data;er.setAll(p5(g)),er.setAll(ei),$.convertToFoundDocument(ee.version,er).setHasCommittedMutations()}function p9(g,$,ee,ei){if(!pW(g.precondition,$))return ee;let er=p7(g.fieldTransforms,ei,$),en=$.data;return(en.setAll(p5(g)),en.setAll(er),$.convertToFoundDocument($.version,en).setHasLocalMutations(),null===ee)?null:ee.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(g=>g.field))}function p5(g){let $=new Map;return g.fieldMask.fields.forEach(ee=>{if(!ee.isEmpty()){let ei=g.data.field(ee);$.set(ee,ei)}}),$}function p8(g,$,ee){let ei=new Map;nW(g.length===ee.length);for(let er=0;er<ee.length;er++){let en=g[er],es=en.transform,eo=$.data.field(en.field);ei.set(en.field,pk(es,eo,ee[er]))}return ei}function p7(g,$,ee){let ei=new Map;for(let er of g){let g=er.transform,en=ee.data.field(er.field);ei.set(er.field,pD(g,en,$))}return ei}class ue extends pK{constructor(g,$){super(),this.key=g,this.precondition=$,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function ut(g,$,ee){$.convertToNoDocument(ee.version).setHasCommittedMutations()}function ui(g,$,ee){return pW(g.precondition,$)?($.convertToNoDocument($.version).setHasLocalMutations(),null):ee}class ur extends pK{constructor(g,$){super(),this.key=g,this.precondition=$,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(g,$,ee,ei){this.batchId=g,this.localWriteTime=$,this.baseMutations=ee,this.mutations=ei}applyToRemoteDocument(g,$){let ee=$.mutationResults;for(let $=0;$<this.mutations.length;$++){let ei=this.mutations[$];if(ei.key.isEqual(g.key)){let er=ee[$];pQ(ei,g,er)}}}applyToLocalView(g,$){for(let ee of this.baseMutations)ee.key.isEqual(g.key)&&($=pY(ee,g,$,this.localWriteTime));for(let ee of this.mutations)ee.key.isEqual(g.key)&&($=pY(ee,g,$,this.localWriteTime));return $}applyToLocalDocumentSet(g,$){let ee=ph();return this.mutations.forEach(ei=>{let er=g.get(ei.key),en=er.overlayedDocument,es=this.applyToLocalView(en,er.mutatedFields);es=$.has(ei.key)?null:es;let eo=pG(en,es);null!==eo&&ee.set(ei.key,eo),en.isValidDocument()||en.convertToNoDocument(ap.min())}),ee}keys(){return this.mutations.reduce((g,$)=>g.add($.key),py())}isEqual(g){return this.batchId===g.batchId&&ar(this.mutations,g.mutations,(g,$)=>pX(g,$))&&ar(this.baseMutations,g.baseMutations,(g,$)=>pX(g,$))}}class us{constructor(g,$,ee,ei){this.batch=g,this.commitVersion=$,this.mutationResults=ee,this.docVersions=ei}static from(g,$,ee){nW(g.mutations.length===ee.length);let ei=pg(),er=g.mutations;for(let g=0;g<er.length;g++)ei=ei.insert(er[g].key,ee[g].version);return new us(g,$,ee,ei)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(g,$){this.largestBatchId=g,this.mutation=$}getKey(){return this.mutation.key}isEqual(g){return null!==g&&this.mutation===g.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(g,$){this.count=g,this.unchangedNames=$}}function up(g){switch(g){case nG.OK:return n$();case nG.CANCELLED:case nG.UNKNOWN:case nG.DEADLINE_EXCEEDED:case nG.RESOURCE_EXHAUSTED:case nG.INTERNAL:case nG.UNAVAILABLE:case nG.UNAUTHENTICATED:return!1;case nG.INVALID_ARGUMENT:case nG.NOT_FOUND:case nG.ALREADY_EXISTS:case nG.PERMISSION_DENIED:case nG.FAILED_PRECONDITION:case nG.ABORTED:case nG.OUT_OF_RANGE:case nG.UNIMPLEMENTED:case nG.DATA_LOSS:return!0;default:return n$()}}function uu(g){return up(g)&&g!==nG.ABORTED}function uh(g){if(void 0===g)return nq("GRPC error has no .code"),nG.UNKNOWN;switch(g){case es.OK:return nG.OK;case es.CANCELLED:return nG.CANCELLED;case es.UNKNOWN:return nG.UNKNOWN;case es.DEADLINE_EXCEEDED:return nG.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return nG.RESOURCE_EXHAUSTED;case es.INTERNAL:return nG.INTERNAL;case es.UNAVAILABLE:return nG.UNAVAILABLE;case es.UNAUTHENTICATED:return nG.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return nG.INVALID_ARGUMENT;case es.NOT_FOUND:return nG.NOT_FOUND;case es.ALREADY_EXISTS:return nG.ALREADY_EXISTS;case es.PERMISSION_DENIED:return nG.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return nG.FAILED_PRECONDITION;case es.ABORTED:return nG.ABORTED;case es.OUT_OF_RANGE:return nG.OUT_OF_RANGE;case es.UNIMPLEMENTED:return nG.UNIMPLEMENTED;case es.DATA_LOSS:return nG.DATA_LOSS;default:return n$()}}!function(g){g[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS"}(es||(es={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends null{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return new TextEncoder}function uv(){return new TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uy=new nk([4294967295,4294967295],0);function u_(g){let $=ug().encode(g),ee=new Md5;return ee.update($),new Uint8Array(ee.digest())}function uw(g){let $=new DataView(g.buffer),ee=$.getUint32(0,!0),ei=$.getUint32(4,!0),er=$.getUint32(8,!0),en=$.getUint32(12,!0),es=new Integer([ee,ei],0),eo=new Integer([er,en],0);return[es,eo]}class uS{constructor(g,$,ee){if(this.bitmap=g,this.padding=$,this.hashCount=ee,$<0||$>=8)throw new uT(`Invalid padding: ${$}`);if(ee<0||g.length>0&&0===this.hashCount)throw new uT(`Invalid hash count: ${ee}`);if(0===g.length&&0!==$)throw new uT(`Invalid padding when bitmap length is 0: ${$}`);this.bitCount=8*g.length-$,this.bitCountInInteger=Integer.fromNumber(this.bitCount)}getBitIndex(g,$,ee){let ei=g.add($.multiply(Integer.fromNumber(ee)));return 1===ei.compare(uy)&&(ei=new Integer([ei.getBits(0),ei.getBits(1)],0)),ei.modulo(this.bitCountInInteger).toNumber()}isBitSet(g){let $=this.bitmap[Math.floor(g/8)],ee=g%8;return($&1<<ee)!=0}mightContain(g){if(0===this.bitCount)return!1;let $=u_(g),[ee,ei]=uw($);for(let g=0;g<this.hashCount;g++){let $=this.getBitIndex(ee,ei,g);if(!this.isBitSet($))return!1}return!0}static create(g,$,ee){let ei=g%8==0?0:8-g%8,er=new Uint8Array(Math.ceil(g/8)),en=new uS(er,ei,$);return ee.forEach(g=>en.insert(g)),en}insert(g){if(0===this.bitCount)return;let $=u_(g),[ee,ei]=uw($);for(let g=0;g<this.hashCount;g++){let $=this.getBitIndex(ee,ei,g);this.setBit($)}}setBit(g){let $=Math.floor(g/8),ee=g%8;this.bitmap[$]|=1<<ee}}class uT extends null{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(g,$,ee,ei,er){this.snapshotVersion=g,this.targetChanges=$,this.targetMismatches=ee,this.documentUpdates=ei,this.resolvedLimboDocuments=er}static createSynthesizedRemoteEventForCurrentChange(g,$,ee){let ei=new Map;return ei.set(g,uE.createSynthesizedTargetChangeForCurrentChange(g,$,ee)),new uC(ap.min(),ei,new ow(ai),pn(),py())}}class uE{constructor(g,$,ee,ei,er){this.resumeToken=g,this.current=$,this.addedDocuments=ee,this.modifiedDocuments=ei,this.removedDocuments=er}static createSynthesizedTargetChangeForCurrentChange(g,$,ee){return new uE(ee,$,py(),py(),py())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(g,$,ee,ei){this.updatedTargetIds=g,this.removedTargetIds=$,this.key=ee,this.newDoc=ei}}class uN{constructor(g,$){this.targetId=g,this.existenceFilter=$}}class uD{constructor(g,$,ee=oO.EMPTY_BYTE_STRING,ei=null){this.state=g,this.targetIds=$,this.resumeToken=ee,this.cause=ei}}class uk{constructor(){this.pendingResponses=0,this.documentChanges=ux(),this._resumeToken=oO.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(g){g.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=g)}toTargetChange(){let g=py(),$=py(),ee=py();return this.documentChanges.forEach((ei,er)=>{switch(er){case 0:g=g.add(ei);break;case 2:$=$.add(ei);break;case 1:ee=ee.add(ei);break;default:n$()}}),new uE(this._resumeToken,this._current,g,$,ee)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=ux()}addDocumentChange(g,$){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(g,$)}removeDocumentChange(g){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(g)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let uR="WatchChangeAggregator";class uA{constructor(g){this.metadataProvider=g,this.targetStates=new Map,this.pendingDocumentUpdates=pn(),this.pendingDocumentTargetMapping=uO(),this.pendingTargetResets=new ow(ai)}handleDocumentChange(g){for(let $ of g.updatedTargetIds)g.newDoc&&g.newDoc.isFoundDocument()?this.addDocumentToTarget($,g.newDoc):this.removeDocumentFromTarget($,g.key,g.newDoc);for(let $ of g.removedTargetIds)this.removeDocumentFromTarget($,g.key,g.newDoc)}handleTargetChange(g){this.forEachTarget(g,$=>{let ee=this.ensureTargetState($);switch(g.state){case 0:this.isActiveTarget($)&&ee.updateResumeToken(g.resumeToken);break;case 1:ee.recordTargetResponse(),ee.isPending||ee.clearPendingChanges(),ee.updateResumeToken(g.resumeToken);break;case 2:ee.recordTargetResponse(),ee.isPending||this.removeTarget($);break;case 3:this.isActiveTarget($)&&(ee.markCurrent(),ee.updateResumeToken(g.resumeToken));break;case 4:this.isActiveTarget($)&&(this.resetTarget($),ee.updateResumeToken(g.resumeToken));break;default:n$()}})}forEachTarget(g,$){g.targetIds.length>0?g.targetIds.forEach($):this.targetStates.forEach((g,ee)=>{this.isActiveTarget(ee)&&$(ee)})}handleExistenceFilter(g){let $=g.targetId,ee=g.existenceFilter.count,ei=this.targetDataForActiveTarget($);if(ei){let er=ei.target;if(dE(er)){if(0===ee){let g=new av(er.path);this.removeDocumentFromTarget($,g,lH.newNoDocument(g,ap.min()))}else nW(1===ee)}else{let ei=this.getCurrentDocumentCountForTarget($);if(ei!==ee){let ee=this.parseBloomFilter(g),er=ee?this.applyBloomFilter(ee,g,ei):1;if(0!==er){this.resetTarget($);let g=2===er?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert($,g)}null==uf||uf.notifyOnExistenceFilterMismatch(uP(ei,g.existenceFilter,this.metadataProvider.getDatabaseId(),ee,er))}}}}parseBloomFilter(g){let $,ee;let ei=g.existenceFilter.unchangedNames;if(!ei||!ei.bits)return null;let{bits:{bitmap:er="",padding:en=0},hashCount:es=0}=ei;try{$=oV(er).toUint8Array()}catch(g){if(g instanceof um)return nz("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{ee=new uS($,en,es)}catch(g){return g instanceof uT?nz("BloomFilter error: ",g):nz("Applying bloom filter failed: ",g),null}return 0===ee.bitCount?null:ee}applyBloomFilter(g,$,ee){let ei=$.existenceFilter.count,er=this.filterRemovedDocuments(g,$.targetId);return ei===ee-er?0:2}filterRemovedDocuments(g,$){let ee=this.metadataProvider.getRemoteKeysForTarget($),ei=0;return ee.forEach(ee=>{let er=this.metadataProvider.getDatabaseId(),en=`projects/${er.projectId}/databases/${er.database}/documents/${ee.path.canonicalString()}`;!g.mightContain(en)&&(this.removeDocumentFromTarget($,ee,null),ei++)}),ei}createRemoteEvent(g){let $=new Map;this.targetStates.forEach((ee,ei)=>{let er=this.targetDataForActiveTarget(ei);if(er){if(ee.current&&dE(er.target)){let $=new av(er.target.path);null!==this.pendingDocumentUpdates.get($)||this.targetContainsDocument(ei,$)||this.removeDocumentFromTarget(ei,$,lH.newNoDocument($,g))}ee.hasPendingChanges&&($.set(ei,ee.toTargetChange()),ee.clearPendingChanges())}});let ee=py();this.pendingDocumentTargetMapping.forEach((g,$)=>{let ei=!0;$.forEachWhile(g=>{let $=this.targetDataForActiveTarget(g);return!$||"TargetPurposeLimboResolution"===$.purpose||(ei=!1,!1)}),ei&&(ee=ee.add(g))}),this.pendingDocumentUpdates.forEach(($,ee)=>ee.setReadTime(g));let ei=new uC(g,$,this.pendingTargetResets,this.pendingDocumentUpdates,ee);return this.pendingDocumentUpdates=pn(),this.pendingDocumentTargetMapping=uO(),this.pendingTargetResets=new ow(ai),ei}addDocumentToTarget(g,$){if(!this.isActiveTarget(g))return;let ee=this.targetContainsDocument(g,$.key)?2:0,ei=this.ensureTargetState(g);ei.addDocumentChange($.key,ee),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert($.key,$),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert($.key,this.ensureDocumentTargetMapping($.key).add(g))}removeDocumentFromTarget(g,$,ee){if(!this.isActiveTarget(g))return;let ei=this.ensureTargetState(g);this.targetContainsDocument(g,$)?ei.addDocumentChange($,1):ei.removeDocumentChange($),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert($,this.ensureDocumentTargetMapping($).delete(g)),ee&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert($,ee))}removeTarget(g){this.targetStates.delete(g)}getCurrentDocumentCountForTarget(g){let $=this.ensureTargetState(g),ee=$.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(g).size+ee.addedDocuments.size-ee.removedDocuments.size}recordPendingTargetRequest(g){let $=this.ensureTargetState(g);$.recordPendingTargetRequest()}ensureTargetState(g){let $=this.targetStates.get(g);return $||($=new uk,this.targetStates.set(g,$)),$}ensureDocumentTargetMapping(g){let $=this.pendingDocumentTargetMapping.get(g);return $||($=new oE(ai),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(g,$)),$}isActiveTarget(g){let $=null!==this.targetDataForActiveTarget(g);return $||nj(uR,"Detected inactive target",g),$}targetDataForActiveTarget(g){let $=this.targetStates.get(g);return $&&$.isPending?null:this.metadataProvider.getTargetDataForTarget(g)}resetTarget(g){this.targetStates.set(g,new uk);let $=this.metadataProvider.getRemoteKeysForTarget(g);$.forEach($=>{this.removeDocumentFromTarget(g,$,null)})}targetContainsDocument(g,$){let ee=this.metadataProvider.getRemoteKeysForTarget(g);return ee.has($)}}function uO(){return new ow(av.comparator)}function ux(){return new ow(av.comparator)}function uP(g,$,ee,ei,er){var en,es,eo,ep,eu,eh;let em={localCacheCount:g,existenceFilterCount:$.count,databaseId:ee.database,projectId:ee.projectId},ef=$.unchangedNames;return ef&&(em.bloomFilter={applied:0===er,hashCount:null!==(en=null==ef?void 0:ef.hashCount)&&void 0!==en?en:0,bitmapLength:null!==(ep=null===(eo=null===(es=null==ef?void 0:ef.bits)||void 0===es?void 0:es.bitmap)||void 0===eo?void 0:eo.length)&&void 0!==ep?ep:0,padding:null!==(eh=null===(eu=null==ef?void 0:ef.bits)||void 0===eu?void 0:eu.padding)&&void 0!==eh?eh:0,mightContain:g=>{var $;return null!==($=null==ei?void 0:ei.mightContain(g))&&void 0!==$&&$}}),em}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uM=(()=>{let g={};return g.asc="ASCENDING",g.desc="DESCENDING",g})(),uL=(()=>{let g={};return g["<"]="LESS_THAN",g["<="]="LESS_THAN_OR_EQUAL",g[">"]="GREATER_THAN",g[">="]="GREATER_THAN_OR_EQUAL",g["=="]="EQUAL",g["!="]="NOT_EQUAL",g["array-contains"]="ARRAY_CONTAINS",g.in="IN",g["not-in"]="NOT_IN",g["array-contains-any"]="ARRAY_CONTAINS_ANY",g})(),uF=(()=>{let g={};return g.and="AND",g.or="OR",g})();class uV{constructor(g,$){this.databaseId=g,this.useProto3Json=$}}function uB(g){let $=void 0===g.code?nG.UNKNOWN:uh(g.code);return new nQ($,g.message||"")}function uU(g,$){return g.useProto3Json||oX($)?$:{value:$}}function uj(g){let $;return oX($="object"==typeof g?g.value:g)?null:$}function uq(g,$){if(!g.useProto3Json)return{seconds:""+$.seconds,nanos:$.nanoseconds};{let g=new Date(1e3*$.seconds).toISOString(),ee=g.replace(/\.\d*/,"").replace("Z",""),ei=("000000000"+$.nanoseconds).slice(-9);return`${ee}.${ei}Z`}}function uz(g){let $=oL(g);return new al($.seconds,$.nanos)}function uH(g,$){return g.useProto3Json?$.toBase64():$.toUint8Array()}function u$(g,$){return g.useProto3Json?(nW(void 0===$||"string"==typeof $),oO.fromBase64String($||"")):(nW(void 0===$||$ instanceof Uint8Array),oO.fromUint8Array($||new Uint8Array))}function uW(g,$){return uq(g,$.toTimestamp())}function uK(g){return nW(!!g),ap.fromTimestamp(uz(g))}function uG(g,$){return u0(g).child("documents").child($).canonicalString()}function uQ(g){let $=am.fromString(g);return nW(hJ($)),$}function uY(g,$){return uG(g.databaseId,$.path)}function uJ(g,$){let ee=uQ($);if(ee.get(1)!==g.databaseId.projectId)throw new nQ(nG.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+ee.get(1)+" vs "+g.databaseId.projectId);if(ee.get(3)!==g.databaseId.database)throw new nQ(nG.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+ee.get(3)+" vs "+g.databaseId.database);return new av(u2(ee))}function uX(g,$){return uG(g.databaseId,$)}function uZ(g){let $=uQ(g);return 4===$.length?am.emptyPath():u2($)}function u1(g){let $=new am(["projects",g.databaseId.projectId,"databases",g.databaseId.database]);return $.canonicalString()}function u0(g){return new am(["projects",g.projectId,"databases",g.database])}function u2(g){return nW(g.length>4&&"documents"===g.get(4)),g.popFirst(5)}function u6(g,$,ee){return{name:uY(g,$),fields:ee.value.mapValue.fields}}function u4(g,$){return{name:uY(g,$.key),fields:$.data.value.mapValue.fields,updateTime:uq(g,$.version.toTimestamp()),createTime:uq(g,$.createTime.toTimestamp())}}function u3(g,$,ee){let ei=uJ(g,$.name),er=uK($.updateTime),en=$.createTime?uK($.createTime):ap.min(),es=new lq({mapValue:{fields:$.fields}}),eo=lH.newFoundDocument(ei,er,en,es);return ee&&eo.setHasCommittedMutations(),ee?eo.setHasCommittedMutations():eo}function u9(g,$){nW(!!$.found),$.found.name,$.found.updateTime;let ee=uJ(g,$.found.name),ei=uK($.found.updateTime),er=$.found.createTime?uK($.found.createTime):ap.min(),en=new lq({mapValue:{fields:$.found.fields}});return lH.newFoundDocument(ee,ei,er,en)}function u5(g,$){nW(!!$.missing),nW(!!$.readTime);let ee=uJ(g,$.missing),ei=uK($.readTime);return lH.newNoDocument(ee,ei)}function u8(g,$){return"found"in $?u9(g,$):"missing"in $?u5(g,$):n$()}function u7(g,$){let ee;if("targetChange"in $){$.targetChange;let ei=he($.targetChange.targetChangeType||"NO_CHANGE"),er=$.targetChange.targetIds||[],en=u$(g,$.targetChange.resumeToken),es=$.targetChange.cause,eo=es&&uB(es);ee=new uD(ei,er,en,eo||null)}else if("documentChange"in $){$.documentChange;let ei=$.documentChange;ei.document,ei.document.name,ei.document.updateTime;let er=uJ(g,ei.document.name),en=uK(ei.document.updateTime),es=ei.document.createTime?uK(ei.document.createTime):ap.min(),eo=new lq({mapValue:{fields:ei.document.fields}}),ep=lH.newFoundDocument(er,en,es,eo),eu=ei.targetIds||[],eh=ei.removedTargetIds||[];ee=new uI(eu,eh,ep.key,ep)}else if("documentDelete"in $){$.documentDelete;let ei=$.documentDelete;ei.document;let er=uJ(g,ei.document),en=ei.readTime?uK(ei.readTime):ap.min(),es=lH.newNoDocument(er,en),eo=ei.removedTargetIds||[];ee=new uI([],eo,es.key,es)}else if("documentRemove"in $){$.documentRemove;let ei=$.documentRemove;ei.document;let er=uJ(g,ei.document),en=ei.removedTargetIds||[];ee=new uI([],en,er,null)}else{if(!("filter"in $))return n$();$.filter;let g=$.filter;g.targetId;let{count:ei=0,unchangedNames:er}=g,en=new ul(ei,er),es=g.targetId;ee=new uN(es,en)}return ee}function he(g){return"NO_CHANGE"===g?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:n$()}function ht(g){if(!("targetChange"in g))return ap.min();let $=g.targetChange;return $.targetIds&&$.targetIds.length||!$.readTime?ap.min():uK($.readTime)}function hr(g,$){let ee;if($ instanceof pZ)ee={update:u6(g,$.key,$.value)};else if($ instanceof ue)ee={delete:uY(g,$.key)};else if($ instanceof p4)ee={update:u6(g,$.key,$.data),updateMask:hQ($.fieldMask)};else{if(!($ instanceof ur))return n$();ee={verify:uY(g,$.key)}}return $.fieldTransforms.length>0&&(ee.updateTransforms=$.fieldTransforms.map($=>hu(g,$))),$.precondition.isNone||(ee.currentDocument=hs(g,$.precondition)),ee}function hn(g,$){let ee=$.currentDocument?ho($.currentDocument):p$.none(),ei=$.updateTransforms?$.updateTransforms.map($=>hh(g,$)):[];if($.update){$.update.name;let er=uJ(g,$.update.name),en=new lq({mapValue:{fields:$.update.fields}});if(!$.updateMask)return new pZ(er,en,ee,ei);{let g=hY($.updateMask);return new p4(er,en,g,ee,ei)}}if($.delete){let ei=uJ(g,$.delete);return new ue(ei,ee)}if(!$.verify)return n$();{let ei=uJ(g,$.verify);return new ur(ei,ee)}}function hs(g,$){return void 0!==$.updateTime?{updateTime:uW(g,$.updateTime)}:void 0!==$.exists?{exists:$.exists}:n$()}function ho(g){return void 0!==g.updateTime?p$.updateTime(uK(g.updateTime)):void 0!==g.exists?p$.exists(g.exists):p$.none()}function hl(g,$){let ee=g.updateTime?uK(g.updateTime):uK($);return ee.isEqual(ap.min())&&(ee=uK($)),new pH(ee,g.transformResults||[])}function hp(g,$){return g&&g.length>0?(nW(void 0!==$),g.map(g=>hl(g,$))):[]}function hu(g,$){let ee=$.transform;if(ee instanceof pO)return{fieldPath:$.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ee instanceof px)return{fieldPath:$.field.canonicalString(),appendMissingElements:{values:ee.elements}};if(ee instanceof pM)return{fieldPath:$.field.canonicalString(),removeAllFromArray:{values:ee.elements}};if(ee instanceof pF)return{fieldPath:$.field.canonicalString(),increment:ee.operand};throw n$()}function hh(g,$){let ee=null;if("setToServerValue"in $)nW("REQUEST_TIME"===$.setToServerValue),ee=new pO;else if("appendMissingElements"in $){let g=$.appendMissingElements.values||[];ee=new px(g)}else if("removeAllFromArray"in $){let g=$.removeAllFromArray.values||[];ee=new pM(g)}else"increment"in $?ee=new pF(g,$.increment):n$();let ei=ag.fromServerFormat($.fieldPath);return new pj(ei,ee)}function hm(g,$){return{documents:[uX(g,$.path)]}}function hf(g){let $=g.documents.length;nW(1===$);let ee=g.documents[0];return d$(dF(uZ(ee)))}function hg(g,$){let ee={structuredQuery:{}},ei=$.path;null!==$.collectionGroup?(ee.parent=uX(g,ei),ee.structuredQuery.from=[{collectionId:$.collectionGroup,allDescendants:!0}]):(ee.parent=uX(g,ei.popLast()),ee.structuredQuery.from=[{collectionId:ei.lastSegment()}]);let er=hC($.filters);er&&(ee.structuredQuery.where=er);let en=hN($.orderBy);en&&(ee.structuredQuery.orderBy=en);let es=uU(g,$.limit);return null!==es&&(ee.structuredQuery.limit=es),$.startAt&&(ee.structuredQuery.startAt=hk($.startAt)),$.endAt&&(ee.structuredQuery.endAt=hR($.endAt)),ee}function hv(g,$,ee){let ei=hg(g,$),er={},en=[],es=0;return ee.forEach(g=>{let $=`aggregate_${es++}`;er[$]=g.alias,"count"===g.aggregateType?en.push({alias:$,count:{}}):"avg"===g.aggregateType?en.push({alias:$,avg:{field:hB(g.fieldPath)}}):"sum"===g.aggregateType&&en.push({alias:$,sum:{field:hB(g.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:en,structuredQuery:ei.structuredQuery},parent:ei.parent},aliasMap:er}}function hy(g){let $=uZ(g.parent),ee=g.structuredQuery,ei=ee.from?ee.from.length:0,er=null;if(ei>0){nW(1===ei);let g=ee.from[0];g.allDescendants?er=g.collectionId:$=$.child(g.collectionId)}let en=[];ee.where&&(en=hE(ee.where));let es=[];ee.orderBy&&(es=hD(ee.orderBy));let eo=null;ee.limit&&(eo=uj(ee.limit));let ep=null;ee.startAt&&(ep=hA(ee.startAt));let eu=null;return ee.endAt&&(eu=hO(ee.endAt)),dL($,er,es,en,eo,"F",ep,eu)}function h_(g){return d$(hy(g))}function hw(g,$){let ee=hS($.purpose);return null==ee?null:{"goog-listen-tags":ee}}function hS(g){switch(g){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return n$()}}function hT(g,$){let ee;let ei=$.target;if((ee=dE(ei)?{documents:hm(g,ei)}:{query:hg(g,ei)}).targetId=$.targetId,$.resumeToken.approximateByteSize()>0){ee.resumeToken=uH(g,$.resumeToken);let ei=uU(g,$.expectedCount);null!==ei&&(ee.expectedCount=ei)}else if($.snapshotVersion.compareTo(ap.min())>0){ee.readTime=uq(g,$.snapshotVersion.toTimestamp());let ei=uU(g,$.expectedCount);null!==ei&&(ee.expectedCount=ei)}return ee}function hC(g){if(0!==g.length)return hz(l6.create(g,"and"))}function hE(g){let $=hI(g);return $ instanceof l6&&l9($)?$.getFilters():[$]}function hI(g){return void 0!==g.unaryFilter?hW(g):void 0!==g.fieldFilter?hK(g):void 0!==g.compositeFilter?hG(g):n$()}function hN(g){if(0!==g.length)return g.map(g=>hj(g))}function hD(g){return g.map(g=>hq(g))}function hk(g){return{before:g.inclusive,values:g.position}}function hR(g){return{before:!g.inclusive,values:g.position}}function hA(g){let $=!!g.before,ee=g.values||[];return new lW(ee,$)}function hO(g){let $=!g.before,ee=g.values||[];return new lW(ee,$)}function hx(g){return uM[g]}function hP(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function hM(g){return uL[g]}function hL(g){return uF[g]}function hF(g){switch(g){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return n$()}}function hV(g){switch(g){case"AND":return"and";case"OR":return"or";default:return n$()}}function hB(g){return{fieldPath:g.canonicalString()}}function hU(g){return ag.fromServerFormat(g.fieldPath)}function hj(g){return{field:hB(g.field),direction:hx(g.dir)}}function hq(g){return new lJ(hU(g.field),hP(g.direction))}function hz(g){return g instanceof l2?h$(g):g instanceof l6?hH(g):n$()}function hH(g){let $=g.getFilters().map(g=>hz(g));return 1===$.length?$[0]:{compositeFilter:{op:hL(g.op),filters:$}}}function h$(g){if("=="===g.op){if(lP(g.value))return{unaryFilter:{field:hB(g.field),op:"IS_NAN"}};if(lx(g.value))return{unaryFilter:{field:hB(g.field),op:"IS_NULL"}}}else if("!="===g.op){if(lP(g.value))return{unaryFilter:{field:hB(g.field),op:"IS_NOT_NAN"}};if(lx(g.value))return{unaryFilter:{field:hB(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hB(g.field),op:hM(g.op),value:g.value}}}function hW(g){switch(g.unaryFilter.op){case"IS_NAN":let $=hU(g.unaryFilter.field);return l2.create($,"==",{doubleValue:NaN});case"IS_NULL":let ee=hU(g.unaryFilter.field);return l2.create(ee,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let ei=hU(g.unaryFilter.field);return l2.create(ei,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let er=hU(g.unaryFilter.field);return l2.create(er,"!=",{nullValue:"NULL_VALUE"});default:return n$()}}function hK(g){return l2.create(hU(g.fieldFilter.field),hF(g.fieldFilter.op),g.fieldFilter.value)}function hG(g){return l6.create(g.compositeFilter.filters.map(g=>hI(g)),hV(g.compositeFilter.op))}function hQ(g){let $=[];return g.fields.forEach(g=>$.push(g.canonicalString())),{fieldPaths:$}}function hY(g){let $=g.fieldPaths||[];return new ok($.map(g=>ag.fromServerFormat(g)))}function hJ(g){return g.length>=4&&"projects"===g.get(0)&&"databases"===g.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(g,$,ee,ei,er=ap.min(),en=ap.min(),es=oO.EMPTY_BYTE_STRING,eo=null){this.target=g,this.targetId=$,this.purpose=ee,this.sequenceNumber=ei,this.snapshotVersion=er,this.lastLimboFreeSnapshotVersion=en,this.resumeToken=es,this.expectedCount=eo}withSequenceNumber(g){return new hX(this.target,this.targetId,this.purpose,g,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(g,$){return new hX(this.target,this.targetId,this.purpose,this.sequenceNumber,$,this.lastLimboFreeSnapshotVersion,g,null)}withExpectedCount(g){return new hX(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,g)}withLastLimboFreeSnapshotVersion(g){return new hX(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,g,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(g){this.remoteSerializer=g}}function h1(g,$){let ee;if($.document)ee=u3(g.remoteSerializer,$.document,!!$.hasCommittedMutations);else if($.noDocument){let g=av.fromSegments($.noDocument.path),ei=h3($.noDocument.readTime);ee=lH.newNoDocument(g,ei),$.hasCommittedMutations&&ee.setHasCommittedMutations()}else{if(!$.unknownDocument)return n$();let g=av.fromSegments($.unknownDocument.path),ei=h3($.unknownDocument.version);ee=lH.newUnknownDocument(g,ei)}return $.readTime&&ee.setReadTime(h6($.readTime)),ee}function h0(g,$){let ee=$.key,ei={prefixPath:ee.getCollectionPath().popLast().toArray(),collectionGroup:ee.collectionGroup,documentId:ee.path.lastSegment(),readTime:h2($.readTime),hasCommittedMutations:$.hasCommittedMutations};if($.isFoundDocument())ei.document=u4(g.remoteSerializer,$);else if($.isNoDocument())ei.noDocument={path:ee.path.toArray(),readTime:h4($.version)};else{if(!$.isUnknownDocument())return n$();ei.unknownDocument={path:ee.path.toArray(),version:h4($.version)}}return ei}function h2(g){let $=g.toTimestamp();return[$.seconds,$.nanoseconds]}function h6(g){let $=new al(g[0],g[1]);return ap.fromTimestamp($)}function h4(g){let $=g.toTimestamp();return{seconds:$.seconds,nanoseconds:$.nanoseconds}}function h3(g){let $=new al(g.seconds,g.nanoseconds);return ap.fromTimestamp($)}function h9(g,$,ee){let ei=ee.baseMutations.map($=>hr(g.remoteSerializer,$)),er=ee.mutations.map($=>hr(g.remoteSerializer,$));return{userId:$,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:ei,mutations:er}}function h5(g,$){let ee=($.baseMutations||[]).map($=>hn(g.remoteSerializer,$));for(let g=0;g<$.mutations.length-1;++g){let ee=$.mutations[g],ei=g+1<$.mutations.length&&void 0!==$.mutations[g+1].transform;if(ei){let ei=$.mutations[g+1];ee.updateTransforms=ei.transform.fieldTransforms,$.mutations.splice(g+1,1),++g}}let ei=$.mutations.map($=>hn(g.remoteSerializer,$)),er=al.fromMillis($.localWriteTimeMs);return new un($.batchId,er,ee,ei)}function h8(g){let $;let ee=h3(g.readTime),ei=void 0!==g.lastLimboFreeSnapshotVersion?h3(g.lastLimboFreeSnapshotVersion):ap.min();return $=ce(g.query)?hf(g.query):h_(g.query),new hX($,g.targetId,"TargetPurposeListen",g.lastListenSequenceNumber,ee,ei,oO.fromBase64String(g.resumeToken))}function h7(g,$){let ee;let ei=h4($.snapshotVersion),er=h4($.lastLimboFreeSnapshotVersion);ee=dE($.target)?hm(g.remoteSerializer,$.target):hg(g.remoteSerializer,$.target);let en=$.resumeToken.toBase64();return{targetId:$.targetId,canonicalId:dS($.target),readTime:ei,resumeToken:en,lastListenSequenceNumber:$.sequenceNumber,lastLimboFreeSnapshotVersion:er,query:ee}}function ce(g){return void 0!==g.documents}function ci(g){return{id:g.bundleId,createTime:h3(g.createTime),version:g.version}}function cr(g){return{bundleId:g.id,createTime:h4(uK(g.createTime)),version:g.version}}function cn(g){return{name:g.name,query:co(g.bundledQuery),readTime:h3(g.readTime)}}function cs(g){return{name:g.name,readTime:h4(uK(g.readTime)),bundledQuery:g.bundledQuery}}function co(g){let $=hy({parent:g.parent,structuredQuery:g.structuredQuery});return"LAST"===g.limitType?dY($,$.limit,"L"):$}function cl(g){return{name:g.name,query:co(g.bundledQuery),readTime:uK(g.readTime)}}function cp(g){return{id:g.id,version:g.version,createTime:uK(g.createTime)}}function cu(g,$){return new uo($.largestBatchId,hn(g.remoteSerializer,$.overlayMutation))}function ch(g,$,ee){let[ei,er,en]=cm($,ee.mutation.key);return{userId:$,collectionPath:er,documentId:en,collectionGroup:ee.mutation.key.getCollectionGroup(),largestBatchId:ee.largestBatchId,overlayMutation:hr(g.remoteSerializer,ee.mutation)}}function cm(g,$){let ee=$.path.lastSegment(),ei=a9($.path.popLast());return[g,ei,ee]}function cf(g){return{indexId:g.indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])}}function cv(g,$){let ee=$?new ak($.sequenceNumber,new aO(h3($.readTime),new av(a7($.documentKey)),$.largestBatchId)):ak.empty(),ei=g.fields.map(([g,$])=>new aN(ag.fromServerFormat(g),$));return new aw(g.indexId,g.collectionGroup,ei,ee)}function cy(g,$,ee,ei){return{indexId:g,uid:$.uid||"",sequenceNumber:ee,readTime:h4(ei.readTime),documentKey:a9(ei.documentKey.path),largestBatchId:ei.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{getBundleMetadata(g,$){return cw(g).get($).next(g=>{if(g)return ci(g)})}saveBundleMetadata(g,$){return cw(g).put(cr($))}getNamedQuery(g,$){return cS(g).get($).next(g=>{if(g)return cn(g)})}saveNamedQuery(g,$){return cS(g).put(cs($))}}function cw(g){return og(g,sj)}function cS(g){return og(g,sz)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(g,$){this.serializer=g,this.userId=$}static forUser(g,$){let ee=$.uid||"";return new cT(g,ee)}getOverlay(g,$){return cC(g).get(cm(this.userId,$)).next(g=>g?cu(this.serializer,g):null)}getOverlays(g,$){let ee=pu();return aF.forEach($,$=>this.getOverlay(g,$).next(g=>{null!==g&&ee.set($,g)})).next(()=>ee)}saveOverlays(g,$,ee){let ei=[];return ee.forEach((ee,er)=>{let en=new uo($,er);ei.push(this.saveOverlay(g,en))}),aF.waitFor(ei)}removeOverlaysForBatchId(g,$,ee){let ei=new Set;$.forEach(g=>ei.add(a9(g.getCollectionPath())));let er=[];return ei.forEach($=>{let ei=IDBKeyRange.bound([this.userId,$,ee],[this.userId,$,ee+1],!1,!0);er.push(cC(g).deleteAll(s3,ei))}),aF.waitFor(er)}getOverlaysForCollection(g,$,ee){let ei=pu(),er=a9($),en=IDBKeyRange.bound([this.userId,er,ee],[this.userId,er,Number.POSITIVE_INFINITY],!0);return cC(g).loadAll(s3,en).next(g=>{for(let $ of g){let g=cu(this.serializer,$);ei.set(g.getKey(),g)}return ei})}getOverlaysForCollectionGroup(g,$,ee,ei){let er;let en=pu(),es=IDBKeyRange.bound([this.userId,$,ee],[this.userId,$,Number.POSITIVE_INFINITY],!0);return cC(g).iterate({index:s5,range:es},(g,$,ee)=>{let es=cu(this.serializer,$);en.size()<ei||es.largestBatchId===er?(en.set(es.getKey(),es),er=es.largestBatchId):ee.done()}).next(()=>en)}saveOverlay(g,$){return cC(g).put(ch(this.serializer,this.userId,$))}}function cC(g){return og(g,s6)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cE=5,cI=10,cN=13,cD=15,ck=20,cR=25,cA=30,cO=37,cx=45,cP=50,cM=55,cL=60,cF=2;class cV{constructor(){}writeIndexValue(g,$){this.writeIndexValueAux(g,$),$.writeInfinity()}writeIndexValueAux(g,$){if("nullValue"in g)this.writeValueTypeLabel($,cE);else if("booleanValue"in g)this.writeValueTypeLabel($,cI),$.writeNumber(g.booleanValue?1:0);else if("integerValue"in g)this.writeValueTypeLabel($,cD),$.writeNumber(oF(g.integerValue));else if("doubleValue"in g){let ee=oF(g.doubleValue);isNaN(ee)?this.writeValueTypeLabel($,cN):(this.writeValueTypeLabel($,cD),oZ(ee)?$.writeNumber(0):$.writeNumber(ee))}else if("timestampValue"in g){let ee=g.timestampValue;this.writeValueTypeLabel($,ck),"string"==typeof ee?$.writeString(ee):($.writeString(`${ee.seconds||""}`),$.writeNumber(ee.nanos||0))}else if("stringValue"in g)this.writeIndexString(g.stringValue,$),this.writeTruncationMarker($);else if("bytesValue"in g)this.writeValueTypeLabel($,cA),$.writeBytes(oV(g.bytesValue)),this.writeTruncationMarker($);else if("referenceValue"in g)this.writeIndexEntityRef(g.referenceValue,$);else if("geoPointValue"in g){let ee=g.geoPointValue;this.writeValueTypeLabel($,cx),$.writeNumber(ee.latitude||0),$.writeNumber(ee.longitude||0)}else"mapValue"in g?lF(g)?this.writeValueTypeLabel($,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(g.mapValue,$),this.writeTruncationMarker($)):"arrayValue"in g?(this.writeIndexArray(g.arrayValue,$),this.writeTruncationMarker($)):n$()}writeIndexString(g,$){this.writeValueTypeLabel($,cR),this.writeUnlabeledIndexString(g,$)}writeUnlabeledIndexString(g,$){$.writeString(g)}writeIndexMap(g,$){let ee=g.fields||{};for(let g of(this.writeValueTypeLabel($,cM),Object.keys(ee)))this.writeIndexString(g,$),this.writeIndexValueAux(ee[g],$)}writeIndexArray(g,$){let ee=g.values||[];for(let g of(this.writeValueTypeLabel($,cP),ee))this.writeIndexValueAux(g,$)}writeIndexEntityRef(g,$){this.writeValueTypeLabel($,cO);let ee=av.fromName(g).path;ee.forEach(g=>{this.writeValueTypeLabel($,cL),this.writeUnlabeledIndexString(g,$)})}writeValueTypeLabel(g,$){g.writeNumber($)}writeTruncationMarker(g){g.writeNumber(cF)}}cV.INSTANCE=new cV;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cB="\uD800",cU="\uDBFF",cj=0,cq=255,cz=1,cH=255,c$=255,cW=0,cK=64,cG=8,cQ=1024;function cY(g){let $=new DataView(new ArrayBuffer(8));return $.setFloat64(0,g,!1),new Uint8Array($.buffer)}function cJ(g){if(0===g)return 8;let $=0;return g>>4==0&&($+=4,g<<=4),g>>6==0&&($+=2,g<<=2),g>>7==0&&($+=1),$}function cX(g){let $=0;for(let ee=0;ee<8;++ee){let ei=cJ(255&g[ee]);if($+=ei,8!==ei)break}return $}function cZ(g){let $=cK-cX(g);return Math.ceil($/cG)}class c0{constructor(){this.buffer=new Uint8Array(cQ),this.position=0}writeBytesAscending(g){let $=g[Symbol.iterator](),ee=$.next();for(;!ee.done;)this.writeByteAscending(ee.value),ee=$.next();this.writeSeparatorAscending()}writeBytesDescending(g){let $=g[Symbol.iterator](),ee=$.next();for(;!ee.done;)this.writeByteDescending(ee.value),ee=$.next();this.writeSeparatorDescending()}writeUtf8Ascending(g){for(let $ of g){let g=$.charCodeAt(0);if(g<128)this.writeByteAscending(g);else if(g<2048)this.writeByteAscending(960|g>>>6),this.writeByteAscending(128|63&g);else if($<cB||cU<$)this.writeByteAscending(480|g>>>12),this.writeByteAscending(128|63&g>>>6),this.writeByteAscending(128|63&g);else{let g=$.codePointAt(0);this.writeByteAscending(240|g>>>18),this.writeByteAscending(128|63&g>>>12),this.writeByteAscending(128|63&g>>>6),this.writeByteAscending(128|63&g)}}this.writeSeparatorAscending()}writeUtf8Descending(g){for(let $ of g){let g=$.charCodeAt(0);if(g<128)this.writeByteDescending(g);else if(g<2048)this.writeByteDescending(960|g>>>6),this.writeByteDescending(128|63&g);else if($<cB||cU<$)this.writeByteDescending(480|g>>>12),this.writeByteDescending(128|63&g>>>6),this.writeByteDescending(128|63&g);else{let g=$.codePointAt(0);this.writeByteDescending(240|g>>>18),this.writeByteDescending(128|63&g>>>12),this.writeByteDescending(128|63&g>>>6),this.writeByteDescending(128|63&g)}}this.writeSeparatorDescending()}writeNumberAscending(g){let $=this.toOrderedBits(g),ee=cZ($);this.ensureAvailable(1+ee),this.buffer[this.position++]=255&ee;for(let g=$.length-ee;g<$.length;++g)this.buffer[this.position++]=255&$[g]}writeNumberDescending(g){let $=this.toOrderedBits(g),ee=cZ($);this.ensureAvailable(1+ee),this.buffer[this.position++]=~(255&ee);for(let g=$.length-ee;g<$.length;++g)this.buffer[this.position++]=~(255&$[g])}writeInfinityAscending(){this.writeEscapedByteAscending(cH),this.writeEscapedByteAscending(c$)}writeInfinityDescending(){this.writeEscapedByteDescending(cH),this.writeEscapedByteDescending(c$)}reset(){this.position=0}seed(g){this.ensureAvailable(g.length),this.buffer.set(g,this.position),this.position+=g.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(g){let $=cY(g),ee=(128&$[0])!=0;$[0]^=ee?255:128;for(let g=1;g<$.length;++g)$[g]^=ee?255:0;return $}writeByteAscending(g){let $=255&g;$===cj?(this.writeEscapedByteAscending(cj),this.writeEscapedByteAscending(cq)):$===cH?(this.writeEscapedByteAscending(cH),this.writeEscapedByteAscending(cW)):this.writeEscapedByteAscending($)}writeByteDescending(g){let $=255&g;$===cj?(this.writeEscapedByteDescending(cj),this.writeEscapedByteDescending(cq)):$===cH?(this.writeEscapedByteDescending(cH),this.writeEscapedByteDescending(cW)):this.writeEscapedByteDescending(g)}writeSeparatorAscending(){this.writeEscapedByteAscending(cj),this.writeEscapedByteAscending(cz)}writeSeparatorDescending(){this.writeEscapedByteDescending(cj),this.writeEscapedByteDescending(cz)}writeEscapedByteAscending(g){this.ensureAvailable(1),this.buffer[this.position++]=g}writeEscapedByteDescending(g){this.ensureAvailable(1),this.buffer[this.position++]=~g}ensureAvailable(g){let $=g+this.position;if($<=this.buffer.length)return;let ee=2*this.buffer.length;ee<$&&(ee=$);let ei=new Uint8Array(ee);ei.set(this.buffer),this.buffer=ei}}class c6{constructor(g){this.orderedCode=g}writeBytes(g){this.orderedCode.writeBytesAscending(g)}writeString(g){this.orderedCode.writeUtf8Ascending(g)}writeNumber(g){this.orderedCode.writeNumberAscending(g)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class c9{constructor(g){this.orderedCode=g}writeBytes(g){this.orderedCode.writeBytesDescending(g)}writeString(g){this.orderedCode.writeUtf8Descending(g)}writeNumber(g){this.orderedCode.writeNumberDescending(g)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class c5{constructor(){this.orderedCode=new c0,this.ascending=new c6(this.orderedCode),this.descending=new c9(this.orderedCode)}seed(g){this.orderedCode.seed(g)}forKind(g){return 0===g?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(g,$,ee,ei){this.indexId=g,this.documentKey=$,this.arrayValue=ee,this.directionalValue=ei}successor(){let g=this.directionalValue.length,$=0===g||255===this.directionalValue[g-1]?g+1:g,ee=new Uint8Array($);return ee.set(this.directionalValue,0),$!==g?ee.set([0],this.directionalValue.length):++ee[ee.length-1],new c8(this.indexId,this.documentKey,this.arrayValue,ee)}}function c7(g,$){let ee=g.indexId-$.indexId;return 0!==ee||0!==(ee=me(g.arrayValue,$.arrayValue))||0!==(ee=me(g.directionalValue,$.directionalValue))?ee:av.comparator(g.documentKey,$.documentKey)}function me(g,$){for(let ee=0;ee<g.length&&ee<$.length;++ee){let ei=g[ee]-$[ee];if(0!==ei)return ei}return g.length-$.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(g){for(let $ of(this.collectionId=null!=g.collectionGroup?g.collectionGroup:g.path.lastSegment(),this.orderBys=g.orderBy,this.equalityFilters=[],g.filters)){let g=$;g.isInequality()?this.inequalityFilter=g:this.equalityFilters.push(g)}}servedByIndex(g){nW(g.collectionGroup===this.collectionId);let $=aS(g);if(void 0!==$&&!this.hasMatchingEqualityFilter($))return!1;let ee=aT(g),ei=new Set,er=0,en=0;for(;er<ee.length;++er)if(this.hasMatchingEqualityFilter(ee[er]))ei=ei.add(ee[er].fieldPath.canonicalString());else break;if(er===ee.length)return!0;if(void 0!==this.inequalityFilter){if(!ei.has(this.inequalityFilter.field.canonicalString())){let g=ee[er];if(!this.matchesFilter(this.inequalityFilter,g)||!this.matchesOrderBy(this.orderBys[en++],g))return!1}++er}for(;er<ee.length;++er){let g=ee[er];if(en>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[en++],g))return!1}return!0}buildTargetIndex(){let g=new oE(ag.comparator),$=[];for(let ee of this.equalityFilters){if(ee.field.isKeyField())continue;let ei="array-contains"===ee.op||"array-contains-any"===ee.op;if(ei)$.push(new aN(ee.field,2));else{if(g.has(ee.field))continue;g=g.add(ee.field),$.push(new aN(ee.field,0))}}for(let ee of this.orderBys)ee.field.isKeyField()||g.has(ee.field)||(g=g.add(ee.field),$.push(new aN(ee.field,"asc"===ee.dir?0:1)));return new aw(aw.UNKNOWN_ID,this.collectionId,$,ak.empty())}hasMatchingEqualityFilter(g){for(let $ of this.equalityFilters)if(this.matchesFilter($,g))return!0;return!1}matchesFilter(g,$){if(void 0===g||!g.field.isEqual($.fieldPath))return!1;let ee="array-contains"===g.op||"array-contains-any"===g.op;return 2===$.kind===ee}matchesOrderBy(g,$){return!!g.field.isEqual($.fieldPath)&&(0===$.kind&&"asc"===g.dir||1===$.kind&&"desc"===g.dir)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(g){var $,ee;if(nW(g instanceof l2||g instanceof l6),g instanceof l2){if(!(g instanceof df))return g;{let ei=(null===(ee=null===($=g.value.arrayValue)||void 0===$?void 0:$.values)||void 0===ee?void 0:ee.map($=>l2.create(g.field,"==",$)))||[];return l6.create(ei,"or")}}let ei=g.filters.map(g=>mi(g));return l6.create(ei,g.op)}function mr(g){if(0===g.getFilters().length)return[];let $=mp(mi(g));return(nW(mo($)),mn($)||ms($))?[$]:$.getFilters()}function mn(g){return g instanceof l2}function ms(g){return g instanceof l6&&l9(g)}function mo(g){return mn(g)||ms(g)||ml(g)}function ml(g){if(g instanceof l6&&l3(g)){for(let $ of g.getFilters())if(!mn($)&&!ms($))return!1;return!0}return!1}function mp(g){if(nW(g instanceof l2||g instanceof l6),g instanceof l2)return g;if(1===g.filters.length)return mp(g.filters[0]);let $=g.filters.map(g=>mp(g)),ee=l6.create($,g.op);return mo(ee=mg(ee))?ee:(nW(ee instanceof l6),nW(l4(ee)),nW(ee.filters.length>1),ee.filters.reduce((g,$)=>mu(g,$)))}function mu(g,$){let ee;return nW(g instanceof l2||g instanceof l6),nW($ instanceof l2||$ instanceof l6),mg(ee=g instanceof l2?$ instanceof l2?mh(g,$):mf(g,$):$ instanceof l2?mf($,g):mm(g,$))}function mh(g,$){return l6.create([g,$],"and")}function mm(g,$){if(nW(g.filters.length>0&&$.filters.length>0),l4(g)&&l4($))return di(g,$.getFilters());let ee=l3(g)?g:$,ei=l3(g)?$:g,er=ee.filters.map(g=>mu(g,ei));return l6.create(er,"or")}function mf(g,$){if(l4($))return di($,g.getFilters());{let ee=$.filters.map($=>mu(g,$));return l6.create(ee,"or")}}function mg(g){if(nW(g instanceof l2||g instanceof l6),g instanceof l2)return g;let $=g.getFilters();if(1===$.length)return mg($[0]);if(l5(g))return g;let ee=$.map(g=>mg(g)),ei=[];return(ee.forEach($=>{$ instanceof l2?ei.push($):$ instanceof l6&&($.op===g.op?ei.push(...$.filters):ei.push($))}),1===ei.length)?ei[0]:l6.create(ei,g.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.collectionParentIndex=new my}addToCollectionParentIndex(g,$){return this.collectionParentIndex.add($),aF.resolve()}getCollectionParents(g,$){return aF.resolve(this.collectionParentIndex.getEntries($))}addFieldIndex(g,$){return aF.resolve()}deleteFieldIndex(g,$){return aF.resolve()}deleteAllFieldIndexes(g){return aF.resolve()}createTargetIndexes(g,$){return aF.resolve()}getDocumentsMatchingTarget(g,$){return aF.resolve(null)}getIndexType(g,$){return aF.resolve(0)}getFieldIndexes(g,$){return aF.resolve([])}getNextCollectionGroupToUpdate(g){return aF.resolve(null)}getMinOffset(g,$){return aF.resolve(aO.min())}getMinOffsetFromCollectionGroup(g,$){return aF.resolve(aO.min())}updateCollectionGroup(g,$,ee){return aF.resolve()}updateIndexEntries(g,$){return aF.resolve()}}class my{constructor(){this.index={}}add(g){let $=g.lastSegment(),ee=g.popLast(),ei=this.index[$]||new oE(am.comparator),er=!ei.has(ee);return this.index[$]=ei.add(ee),er}has(g){let $=g.lastSegment(),ee=g.popLast(),ei=this.index[$];return ei&&ei.has(ee)}getEntries(g){let $=this.index[g]||new oE(am.comparator);return $.toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_="IndexedDbIndexManager",mw=new Uint8Array(0);class mS{constructor(g,$){this.user=g,this.databaseId=$,this.collectionParentsCache=new my,this.targetToDnfSubTargets=new pi(g=>dS(g),(g,$)=>dC(g,$)),this.uid=g.uid||""}addToCollectionParentIndex(g,$){if(!this.collectionParentsCache.has($)){let ee=$.lastSegment(),ei=$.popLast();g.addOnCommittedListener(()=>{this.collectionParentsCache.add($)});let er={collectionId:ee,parent:a9(ei)};return mT(g).put(er)}return aF.resolve()}getCollectionParents(g,$){let ee=[],ei=IDBKeyRange.bound([$,""],[an($),""],!1,!0);return mT(g).loadAll(ei).next(g=>{for(let ei of g){if(ei.collectionId!==$)break;ee.push(a7(ei.parent))}return ee})}addFieldIndex(g,$){let ee=mE(g),ei=cf($);delete ei.indexId;let er=ee.add(ei);if(!$.indexState)return er.next();{let ee=mI(g);return er.next(g=>{ee.put(cy(g,this.user,$.indexState.sequenceNumber,$.indexState.offset))})}}deleteFieldIndex(g,$){let ee=mE(g),ei=mI(g),er=mC(g);return ee.delete($.indexId).next(()=>ei.delete(IDBKeyRange.bound([$.indexId],[$.indexId+1],!1,!0))).next(()=>er.delete(IDBKeyRange.bound([$.indexId],[$.indexId+1],!1,!0)))}deleteAllFieldIndexes(g){let $=mE(g),ee=mC(g),ei=mI(g);return $.deleteAll().next(()=>ee.deleteAll()).next(()=>ei.deleteAll())}createTargetIndexes(g,$){return aF.forEach(this.getSubTargets($),$=>this.getIndexType(g,$).next(ee=>{if(0===ee||1===ee){let ee=new mt($);return this.addFieldIndex(g,ee.buildTargetIndex())}}))}getDocumentsMatchingTarget(g,$){let ee=mC(g),ei=!0,er=new Map;return aF.forEach(this.getSubTargets($),$=>this.getFieldIndex(g,$).next(g=>{ei&&(ei=!!g),er.set($,g)})).next(()=>{if(!ei)return aF.resolve(null);{let g=py(),ei=[];return aF.forEach(er,(er,en)=>{nj(m_,`Using index ${aI(er)} to execute ${dS($)}`);let es=dN(en,er),eo=dD(en,er),ep=dk(en,er),eu=dR(en,er),eh=this.encodeBound(er,en,ep),em=this.encodeBound(er,en,eu),ef=this.encodeValues(er,en,eo),eg=this.generateIndexRanges(er.indexId,es,eh,ep.inclusive,em,eu.inclusive,ef);return aF.forEach(eg,er=>ee.loadFirst(er,$.limit).next($=>{$.forEach($=>{let ee=av.fromSegments($.documentKey);g.has(ee)||(g=g.add(ee),ei.push(ee))})}))}).next(()=>ei)}})}getSubTargets(g){let $=this.targetToDnfSubTargets.get(g);if($)return $;if(0===g.filters.length)$=[g];else{let ee=mr(l6.create(g.filters,"and"));$=ee.map($=>dw(g.path,g.collectionGroup,g.orderBy,$.getFilters(),g.limit,g.startAt,g.endAt))}return this.targetToDnfSubTargets.set(g,$),$}generateIndexRanges(g,$,ee,ei,er,en,es){let eo=(null!=$?$.length:1)*Math.max(ee.length,er.length),ep=eo/(null!=$?$.length:1),eu=[];for(let eh=0;eh<eo;++eh){let eo=$?this.encodeSingleElement($[eh/ep]):mw,em=this.generateLowerBound(g,eo,ee[eh%ep],ei),ef=this.generateUpperBound(g,eo,er[eh%ep],en),eg=es.map($=>this.generateLowerBound(g,eo,$,!0));eu.push(...this.createRange(em,ef,eg))}return eu}generateLowerBound(g,$,ee,ei){let er=new c8(g,av.empty(),$,ee);return ei?er:er.successor()}generateUpperBound(g,$,ee,ei){let er=new c8(g,av.empty(),$,ee);return ei?er.successor():er}getFieldIndex(g,$){let ee=new mt($),ei=null!=$.collectionGroup?$.collectionGroup:$.path.lastSegment();return this.getFieldIndexes(g,ei).next(g=>{let $=null;for(let ei of g){let g=ee.servedByIndex(ei);g&&(!$||ei.fields.length>$.fields.length)&&($=ei)}return $})}getIndexType(g,$){let ee=2,ei=this.getSubTargets($);return aF.forEach(ei,$=>this.getFieldIndex(g,$).next(g=>{g?0!==ee&&g.fields.length<dx($)&&(ee=1):ee=0})).next(()=>dP($)&&ei.length>1&&2===ee?1:ee)}encodeDirectionalElements(g,$){let ee=new c5;for(let ei of aT(g)){let g=$.data.field(ei.fieldPath);if(null==g)return null;let er=ee.forKind(ei.kind);cV.INSTANCE.writeIndexValue(g,er)}return ee.encodedBytes()}encodeSingleElement(g){let $=new c5;return cV.INSTANCE.writeIndexValue(g,$.forKind(0)),$.encodedBytes()}encodeDirectionalKey(g,$){let ee=new c5;return cV.INSTANCE.writeIndexValue(lD(this.databaseId,$),ee.forKind(aC(g))),ee.encodedBytes()}encodeValues(g,$,ee){if(null===ee)return[];let ei=[];ei.push(new c5);let er=0;for(let en of aT(g)){let g=ee[er++];for(let ee of ei)if(this.isInFilter($,en.fieldPath)&&lO(g))ei=this.expandIndexValues(ei,en,g);else{let $=ee.forKind(en.kind);cV.INSTANCE.writeIndexValue(g,$)}}return this.getEncodedBytes(ei)}encodeBound(g,$,ee){return this.encodeValues(g,$,ee.position)}getEncodedBytes(g){let $=[];for(let ee=0;ee<g.length;++ee)$[ee]=g[ee].encodedBytes();return $}expandIndexValues(g,$,ee){let ei=[...g],er=[];for(let g of ee.arrayValue.values||[])for(let ee of ei){let ei=new c5;ei.seed(ee.encodedBytes()),cV.INSTANCE.writeIndexValue(g,ei.forKind($.kind)),er.push(ei)}return er}isInFilter(g,$){return!!g.filters.find(g=>g instanceof l2&&g.field.isEqual($)&&("in"===g.op||"not-in"===g.op))}getFieldIndexes(g,$){let ee=mE(g),ei=mI(g);return($?ee.loadAll(sK,IDBKeyRange.bound($,$)):ee.loadAll()).next(g=>{let $=[];return aF.forEach(g,g=>ei.get([g.indexId,this.uid]).next(ee=>{$.push(cv(g,ee))})).next(()=>$)})}getNextCollectionGroupToUpdate(g){return this.getFieldIndexes(g).next(g=>0===g.length?null:(g.sort((g,$)=>{let ee=g.indexState.sequenceNumber-$.indexState.sequenceNumber;return 0!==ee?ee:ai(g.collectionGroup,$.collectionGroup)}),g[0].collectionGroup))}updateCollectionGroup(g,$,ee){let ei=mE(g),er=mI(g);return this.getNextSequenceNumber(g).next(g=>ei.loadAll(sK,IDBKeyRange.bound($,$)).next($=>aF.forEach($,$=>er.put(cy($.indexId,this.user,g,ee)))))}updateIndexEntries(g,$){let ee=new Map;return aF.forEach($,($,ei)=>{let er=ee.get($.collectionGroup),en=er?aF.resolve(er):this.getFieldIndexes(g,$.collectionGroup);return en.next(er=>(ee.set($.collectionGroup,er),aF.forEach(er,ee=>this.getExistingIndexEntries(g,$,ee).next($=>{let er=this.computeIndexEntries(ei,ee);return $.isEqual(er)?aF.resolve():this.updateEntries(g,ei,ee,$,er)}))))})}addIndexEntry(g,$,ee,ei){let er=mC(g);return er.put({indexId:ei.indexId,uid:this.uid,arrayValue:ei.arrayValue,directionalValue:ei.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(ee,$.key),documentKey:$.key.path.toArray()})}deleteIndexEntry(g,$,ee,ei){let er=mC(g);return er.delete([ei.indexId,this.uid,ei.arrayValue,ei.directionalValue,this.encodeDirectionalKey(ee,$.key),$.key.path.toArray()])}getExistingIndexEntries(g,$,ee){let ei=mC(g),er=new oE(c7);return ei.iterate({index:s0,range:IDBKeyRange.only([ee.indexId,this.uid,this.encodeDirectionalKey(ee,$)])},(g,ei)=>{er=er.add(new c8(ee.indexId,$,ei.arrayValue,ei.directionalValue))}).next(()=>er)}computeIndexEntries(g,$){let ee=new oE(c7),ei=this.encodeDirectionalElements($,g);if(null==ei)return ee;let er=aS($);if(null!=er){let en=g.data.field(er.fieldPath);if(lO(en))for(let er of en.arrayValue.values||[])ee=ee.add(new c8($.indexId,g.key,this.encodeSingleElement(er),ei))}else ee=ee.add(new c8($.indexId,g.key,mw,ei));return ee}updateEntries(g,$,ee,ei,er){nj(m_,"Updating index entries for document '%s'",$.key);let en=[];return oN(ei,er,c7,ei=>{en.push(this.addIndexEntry(g,$,ee,ei))},ei=>{en.push(this.deleteIndexEntry(g,$,ee,ei))}),aF.waitFor(en)}getNextSequenceNumber(g){let $=1,ee=mI(g);return ee.iterate({index:sJ,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(g,ee,ei)=>{ei.done(),$=ee.sequenceNumber+1}).next(()=>$)}createRange(g,$,ee){ee=ee.sort((g,$)=>c7(g,$)).filter((g,$,ee)=>!$||0!==c7(g,ee[$-1]));let ei=[];for(let er of(ei.push(g),ee)){let ee=c7(er,g),en=c7(er,$);if(0===ee)ei[0]=g.successor();else if(ee>0&&en<0)ei.push(er),ei.push(er.successor());else if(en>0)break}ei.push($);let er=[];for(let g=0;g<ei.length;g+=2){if(this.isRangeMatchable(ei[g],ei[g+1]))return[];let $=[ei[g].indexId,this.uid,ei[g].arrayValue,ei[g].directionalValue,mw,[]],ee=[ei[g+1].indexId,this.uid,ei[g+1].arrayValue,ei[g+1].directionalValue,mw,[]];er.push(IDBKeyRange.bound($,ee))}return er}isRangeMatchable(g,$){return c7(g,$)>0}getMinOffsetFromCollectionGroup(g,$){return this.getFieldIndexes(g,$).next(mN)}getMinOffset(g,$){return aF.mapArray(this.getSubTargets($),$=>this.getFieldIndex(g,$).next(g=>g||n$())).next(mN)}}function mT(g){return og(g,sF)}function mC(g){return og(g,sZ)}function mE(g){return og(g,s$)}function mI(g){return og(g,sQ)}function mN(g){nW(0!==g.length);let $=g[0].indexState.offset,ee=$.largestBatchId;for(let ei=1;ei<g.length;ei++){let er=g[ei].indexState.offset;0>ax(er,$)&&($=er),ee<er.largestBatchId&&(ee=er.largestBatchId)}return new aO($.readTime,$.documentKey,ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(g,$,ee){let ei=g.store(ss),er=g.store(sv),en=[],es=IDBKeyRange.only(ee.batchId),eo=0,ep=ei.iterate({range:es},(g,$,ee)=>(eo++,ee.delete()));en.push(ep.next(()=>{nW(1===eo)}));let eu=[];for(let g of ee.mutations){let ei=sf($,g.key.path,ee.batchId);en.push(er.delete(ei)),eu.push(g.key)}return aF.waitFor(en).next(()=>eu)}function mk(g){let $;if(!g)return 0;if(g.document)$=g.document;else if(g.unknownDocument)$=g.unknownDocument;else if(g.noDocument)$=g.noDocument;else throw n$();return JSON.stringify($).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(g,$,ee,ei){this.userId=g,this.serializer=$,this.indexManager=ee,this.referenceDelegate=ei,this.documentKeysByBatchId={}}static forUser(g,$,ee,ei){nW(""!==g.uid);let er=g.isAuthenticated()?g.uid:"";return new mR(er,$,ee,ei)}checkEmpty(g){let $=!0,ee=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mx(g).iterate({index:sl,range:ee},(g,ee,ei)=>{$=!1,ei.done()}).next(()=>$)}addMutationBatch(g,$,ee,ei){let er=mP(g),en=mx(g);return en.add({}).next(es=>{nW("number"==typeof es);let eo=new un(es,$,ee,ei),ep=h9(this.serializer,this.userId,eo),eu=[],eh=new oE((g,$)=>ai(g.canonicalString(),$.canonicalString()));for(let g of ei){let $=sf(this.userId,g.key.path,es);eh=eh.add(g.key.path.popLast()),eu.push(en.put(ep)),eu.push(er.put($,sg))}return eh.forEach($=>{eu.push(this.indexManager.addToCollectionParentIndex(g,$))}),g.addOnCommittedListener(()=>{this.documentKeysByBatchId[es]=eo.keys()}),aF.waitFor(eu).next(()=>eo)})}lookupMutationBatch(g,$){return mx(g).get($).next(g=>g?(nW(g.userId===this.userId),h5(this.serializer,g)):null)}lookupMutationKeys(g,$){return this.documentKeysByBatchId[$]?aF.resolve(this.documentKeysByBatchId[$]):this.lookupMutationBatch(g,$).next(g=>{if(!g)return null;{let ee=g.keys();return this.documentKeysByBatchId[$]=ee,ee}})}getNextMutationBatchAfterBatchId(g,$){let ee=$+1,ei=IDBKeyRange.lowerBound([this.userId,ee]),er=null;return mx(g).iterate({index:sl,range:ei},(g,$,ei)=>{$.userId===this.userId&&(nW($.batchId>=ee),er=h5(this.serializer,$)),ei.done()}).next(()=>er)}getHighestUnacknowledgedBatchId(g){let $=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),ee=oJ;return mx(g).iterate({index:sl,range:$,reverse:!0},(g,$,ei)=>{ee=$.batchId,ei.done()}).next(()=>ee)}getAllMutationBatches(g){let $=IDBKeyRange.bound([this.userId,oJ],[this.userId,Number.POSITIVE_INFINITY]);return mx(g).loadAll(sl,$).next(g=>g.map(g=>h5(this.serializer,g)))}getAllMutationBatchesAffectingDocumentKey(g,$){let ee=sm(this.userId,$.path),ei=IDBKeyRange.lowerBound(ee),er=[];return mP(g).iterate({range:ei},(ee,ei,en)=>{let[es,eo,ep]=ee,eu=a7(eo);if(es!==this.userId||!$.path.isEqual(eu)){en.done();return}return mx(g).get(ep).next(g=>{if(!g)throw n$();nW(g.userId===this.userId),er.push(h5(this.serializer,g))})}).next(()=>er)}getAllMutationBatchesAffectingDocumentKeys(g,$){let ee=new oE(ai),ei=[];return $.forEach($=>{let er=sm(this.userId,$.path),en=IDBKeyRange.lowerBound(er),es=mP(g).iterate({range:en},(g,ei,er)=>{let[en,es,eo]=g,ep=a7(es);if(en!==this.userId||!$.path.isEqual(ep)){er.done();return}ee=ee.add(eo)});ei.push(es)}),aF.waitFor(ei).next(()=>this.lookupMutationBatches(g,ee))}getAllMutationBatchesAffectingQuery(g,$){let ee=$.path,ei=ee.length+1,er=sm(this.userId,ee),en=IDBKeyRange.lowerBound(er),es=new oE(ai);return mP(g).iterate({range:en},(g,$,er)=>{let[en,eo,ep]=g,eu=a7(eo);if(en!==this.userId||!ee.isPrefixOf(eu)){er.done();return}eu.length===ei&&(es=es.add(ep))}).next(()=>this.lookupMutationBatches(g,es))}lookupMutationBatches(g,$){let ee=[],ei=[];return $.forEach($=>{ei.push(mx(g).get($).next(g=>{if(null===g)throw n$();nW(g.userId===this.userId),ee.push(h5(this.serializer,g))}))}),aF.waitFor(ei).next(()=>ee)}removeMutationBatch(g,$){return mD(g.simpleDbTransaction,this.userId,$).next(ee=>(g.addOnCommittedListener(()=>{this.removeCachedMutationKeys($.batchId)}),aF.forEach(ee,$=>this.referenceDelegate.markPotentiallyOrphaned(g,$))))}removeCachedMutationKeys(g){delete this.documentKeysByBatchId[g]}performConsistencyCheck(g){return this.checkEmpty(g).next($=>{if(!$)return aF.resolve();let ee=IDBKeyRange.lowerBound(sh(this.userId)),ei=[];return mP(g).iterate({range:ee},(g,$,ee)=>{let er=g[0];if(er!==this.userId){ee.done();return}{let $=a7(g[1]);ei.push($)}}).next(()=>{nW(0===ei.length)})})}containsKey(g,$){return mA(g,this.userId,$)}getMutationQueueMetadata(g){return mM(g).get(this.userId).next(g=>g||{userId:this.userId,lastAcknowledgedBatchId:oJ,lastStreamToken:""})}}function mA(g,$,ee){let ei=sm($,ee.path),er=ei[1],en=IDBKeyRange.lowerBound(ei),es=!1;return mP(g).iterate({range:en,keysOnly:!0},(g,ee,ei)=>{let[en,eo,ep]=g;en===$&&eo===er&&(es=!0),ei.done()}).next(()=>es)}function mO(g,$){let ee=!1;return mM(g).iterateSerial(ei=>mA(g,ei,$).next(g=>(g&&(ee=!0),aF.resolve(!g)))).next(()=>ee)}function mx(g){return og(g,ss)}function mP(g){return og(g,sv)}function mM(g){return og(g,sr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mL=2;class mF{constructor(g){this.lastId=g}next(){return this.lastId+=mL,this.lastId}static forTargetCache(){return new mF(2-mL)}static forSyncEngine(){return new mF(1-mL)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(g,$){this.referenceDelegate=g,this.serializer=$}allocateTargetId(g){return this.retrieveMetadata(g).next($=>{let ee=new mF($.highestTargetId);return $.highestTargetId=ee.next(),this.saveMetadata(g,$).next(()=>$.highestTargetId)})}getLastRemoteSnapshotVersion(g){return this.retrieveMetadata(g).next(g=>ap.fromTimestamp(new al(g.lastRemoteSnapshotVersion.seconds,g.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(g){return this.retrieveMetadata(g).next(g=>g.highestListenSequenceNumber)}setTargetsMetadata(g,$,ee){return this.retrieveMetadata(g).next(ei=>(ei.highestListenSequenceNumber=$,ee&&(ei.lastRemoteSnapshotVersion=ee.toTimestamp()),$>ei.highestListenSequenceNumber&&(ei.highestListenSequenceNumber=$),this.saveMetadata(g,ei)))}addTargetData(g,$){return this.saveTargetData(g,$).next(()=>this.retrieveMetadata(g).next(ee=>(ee.targetCount+=1,this.updateMetadataFromTargetData($,ee),this.saveMetadata(g,ee))))}updateTargetData(g,$){return this.saveTargetData(g,$)}removeTargetData(g,$){return this.removeMatchingKeysForTargetId(g,$.targetId).next(()=>mB(g).delete($.targetId)).next(()=>this.retrieveMetadata(g)).next($=>(nW($.targetCount>0),$.targetCount-=1,this.saveMetadata(g,$)))}removeTargets(g,$,ee){let ei=0,er=[];return mB(g).iterate((en,es)=>{let eo=h8(es);eo.sequenceNumber<=$&&null===ee.get(eo.targetId)&&(ei++,er.push(this.removeTargetData(g,eo)))}).next(()=>aF.waitFor(er)).next(()=>ei)}forEachTarget(g,$){return mB(g).iterate((g,ee)=>{let ei=h8(ee);$(ei)})}retrieveMetadata(g){return mU(g).get(sM).next(g=>(nW(null!==g),g))}saveMetadata(g,$){return mU(g).put(sM,$)}saveTargetData(g,$){return mB(g).put(h7(this.serializer,$))}updateMetadataFromTargetData(g,$){let ee=!1;return g.targetId>$.highestTargetId&&($.highestTargetId=g.targetId,ee=!0),g.sequenceNumber>$.highestListenSequenceNumber&&($.highestListenSequenceNumber=g.sequenceNumber,ee=!0),ee}getTargetCount(g){return this.retrieveMetadata(g).next(g=>g.targetCount)}getTargetData(g,$){let ee=dS($),ei=IDBKeyRange.bound([ee,Number.NEGATIVE_INFINITY],[ee,Number.POSITIVE_INFINITY]),er=null;return mB(g).iterate({range:ei,index:sk},(g,ee,ei)=>{let en=h8(ee);dC($,en.target)&&(er=en,ei.done())}).next(()=>er)}addMatchingKeys(g,$,ee){let ei=[],er=mj(g);return $.forEach($=>{let en=a9($.path);ei.push(er.put({targetId:ee,path:en})),ei.push(this.referenceDelegate.addReference(g,ee,$))}),aF.waitFor(ei)}removeMatchingKeys(g,$,ee){let ei=mj(g);return aF.forEach($,$=>{let er=a9($.path);return aF.waitFor([ei.delete([ee,er]),this.referenceDelegate.removeReference(g,ee,$)])})}removeMatchingKeysForTargetId(g,$){let ee=mj(g),ei=IDBKeyRange.bound([$],[$+1],!1,!0);return ee.delete(ei)}getMatchingKeysForTargetId(g,$){let ee=IDBKeyRange.bound([$],[$+1],!1,!0),ei=mj(g),er=py();return ei.iterate({range:ee,keysOnly:!0},(g,$,ee)=>{let ei=a7(g[1]),en=new av(ei);er=er.add(en)}).next(()=>er)}containsKey(g,$){let ee=a9($.path),ei=IDBKeyRange.bound([ee],[an(ee)],!1,!0),er=0;return mj(g).iterate({index:sx,keysOnly:!0,range:ei},([g,$],ee,ei)=>{0!==g&&(er++,ei.done())}).next(()=>er>0)}getTargetDataForTarget(g,$){return mB(g).get($).next(g=>g?h8(g):null)}}function mB(g){return og(g,sN)}function mU(g){return og(g,sL)}function mj(g){return og(g,sA)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mz=-1,mH=41943040;class m${constructor(g,$,ee){this.cacheSizeCollectionThreshold=g,this.percentileToCollect=$,this.maximumSequenceNumbersToCollect=ee}static withCacheSize(g){return new m$(g,m$.DEFAULT_COLLECTION_PERCENTILE,m$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}m$.DEFAULT_COLLECTION_PERCENTILE=10,m$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,m$.DEFAULT=new m$(mH,m$.DEFAULT_COLLECTION_PERCENTILE,m$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),m$.DISABLED=new m$(mz,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mW="LruGarbageCollector",mK=1048576,mG=null,mQ=null;function mY([g,$],[ee,ei]){let er=ai(g,ee);return 0===er?ai($,ei):er}class mJ{constructor(g){this.maxElements=g,this.buffer=new oE(mY),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(g){let $=[g,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add($);else{let g=this.buffer.last();0>mY($,g)&&(this.buffer=this.buffer.delete(g).add($))}}get maxValue(){return this.buffer.last()[0]}}class mX{constructor(g,$,ee){this.garbageCollector=g,this.asyncQueue=$,this.localStore=ee,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==mz&&this.scheduleGC(mG)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(g){nj(mW,`Garbage collection scheduled in ${g}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",g,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(g){aH(g)?nj(mW,"Ignoring IndexedDB error during garbage collection: ",g):await aL(g)}await this.scheduleGC(mQ)})}}class mZ{constructor(g,$){this.delegate=g,this.params=$}calculateTargetCount(g,$){return this.delegate.getSequenceNumberCount(g).next(g=>Math.floor($/100*g))}nthSequenceNumber(g,$){if(0===$)return aF.resolve(a0.INVALID);let ee=new mJ($);return this.delegate.forEachTarget(g,g=>ee.addElement(g.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(g,g=>ee.addElement(g))).next(()=>ee.maxValue)}removeTargets(g,$,ee){return this.delegate.removeTargets(g,$,ee)}removeOrphanedDocuments(g,$){return this.delegate.removeOrphanedDocuments(g,$)}collect(g,$){return this.params.cacheSizeCollectionThreshold===mz?(nj("LruGarbageCollector","Garbage collection skipped; disabled"),aF.resolve(mq)):this.getCacheSize(g).next(ee=>ee<this.params.cacheSizeCollectionThreshold?(nj("LruGarbageCollector",`Garbage collection skipped; Cache size ${ee} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mq):this.runGarbageCollection(g,$))}getCacheSize(g){return this.delegate.getCacheSize(g)}runGarbageCollection(g,$){let ee,ei,er,en,es,eo,ep;let eu=Date.now();return this.calculateTargetCount(g,this.params.percentileToCollect).next($=>($>this.params.maximumSequenceNumbersToCollect?(nj("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${$}`),ei=this.params.maximumSequenceNumbersToCollect):ei=$,en=Date.now(),this.nthSequenceNumber(g,ei))).next(ei=>(ee=ei,es=Date.now(),this.removeTargets(g,ee,$))).next($=>(er=$,eo=Date.now(),this.removeOrphanedDocuments(g,ee))).next(g=>{if(ep=Date.now(),nU()<=LogLevel.DEBUG){let $=`LRU Garbage Collection
	Counted targets in ${en-eu}ms
	Determined least recently used ${ei} in ${es-en}ms
	Removed ${er} targets in ${eo-es}ms
	Removed ${g} documents in ${ep-eo}ms
Total Duration: ${ep-eu}ms`;nj("LruGarbageCollector",$)}return aF.resolve({didRun:!0,sequenceNumbersCollected:ei,targetsRemoved:er,documentsRemoved:g})})}}function m1(g,$){return new mZ(g,$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(g,$){this.db=g,this.garbageCollector=m1(this,$)}getSequenceNumberCount(g){let $=this.orphanedDocumentCount(g),ee=this.db.getTargetCache().getTargetCount(g);return ee.next(g=>$.next($=>g+$))}orphanedDocumentCount(g){let $=0;return this.forEachOrphanedDocumentSequenceNumber(g,g=>{$++}).next(()=>$)}forEachTarget(g,$){return this.db.getTargetCache().forEachTarget(g,$)}forEachOrphanedDocumentSequenceNumber(g,$){return this.forEachOrphanedDocument(g,(g,ee)=>$(ee))}addReference(g,$,ee){return m4(g,ee)}removeReference(g,$,ee){return m4(g,ee)}removeTargets(g,$,ee){return this.db.getTargetCache().removeTargets(g,$,ee)}markPotentiallyOrphaned(g,$){return m4(g,$)}isPinned(g,$){return mO(g,$)}removeOrphanedDocuments(g,$){let ee=this.db.getRemoteDocumentCache(),ei=ee.newChangeBuffer(),er=[],en=0,es=this.forEachOrphanedDocument(g,(ee,es)=>{if(es<=$){let $=this.isPinned(g,ee).next($=>{if(!$)return en++,ei.getEntry(g,ee).next(()=>(ei.removeEntry(ee,ap.min()),mj(g).delete(m2(ee))))});er.push($)}});return es.next(()=>aF.waitFor(er)).next(()=>ei.apply(g)).next(()=>en)}removeTarget(g,$){let ee=$.withSequenceNumber(g.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(g,ee)}updateLimboDocument(g,$){return m4(g,$)}forEachOrphanedDocument(g,$){let ee;let ei=mj(g),er=a0.INVALID;return ei.iterate({index:sx},([g,ei],{path:en,sequenceNumber:es})=>{0===g?(er!==a0.INVALID&&$(new av(a7(ee)),er),er=es,ee=en):er=a0.INVALID}).next(()=>{er!==a0.INVALID&&$(new av(a7(ee)),er)})}getCacheSize(g){return this.db.getRemoteDocumentCache().getSize(g)}}function m2(g){return[0,a9(g.path)]}function m6(g,$){return{targetId:0,path:a9(g.path),sequenceNumber:$}}function m4(g,$){return mj(g).put(m6($,g.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.changes=new pi(g=>g.toString(),(g,$)=>g.isEqual($)),this.changesApplied=!1}addEntry(g){this.assertNotApplied(),this.changes.set(g.key,g)}removeEntry(g,$){this.assertNotApplied(),this.changes.set(g,lH.newInvalidDocument(g).setReadTime($))}getEntry(g,$){this.assertNotApplied();let ee=this.changes.get($);return void 0!==ee?aF.resolve(ee):this.getFromCache(g,$)}getEntries(g,$){return this.getAllFromCache(g,$)}apply(g){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(g)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(g){this.serializer=g}setIndexManager(g){this.indexManager=g}addEntry(g,$,ee){let ei=fe(g);return ei.put(ee)}removeEntry(g,$,ee){let ei=fe(g);return ei.delete(fi($,ee))}updateMetadata(g,$){return this.getMetadata(g).next(ee=>(ee.byteSize+=$,this.setMetadata(g,ee)))}getEntry(g,$){let ee=lH.newInvalidDocument($);return fe(g).iterate({index:sw,range:IDBKeyRange.only(ft($))},(g,ei)=>{ee=this.maybeDecodeDocument($,ei)}).next(()=>ee)}getSizedEntry(g,$){let ee={size:0,document:lH.newInvalidDocument($)};return fe(g).iterate({index:sw,range:IDBKeyRange.only(ft($))},(g,ei)=>{ee={document:this.maybeDecodeDocument($,ei),size:mk(ei)}}).next(()=>ee)}getEntries(g,$){let ee=pn();return this.forEachDbEntry(g,$,(g,$)=>{let ei=this.maybeDecodeDocument(g,$);ee=ee.insert(g,ei)}).next(()=>ee)}getSizedEntries(g,$){let ee=pn(),ei=new ow(av.comparator);return this.forEachDbEntry(g,$,(g,$)=>{let er=this.maybeDecodeDocument(g,$);ee=ee.insert(g,er),ei=ei.insert(g,mk($))}).next(()=>({documents:ee,sizeMap:ei}))}forEachDbEntry(g,$,ee){if($.isEmpty())return aF.resolve();let ei=new oE(fo);$.forEach(g=>ei=ei.add(g));let er=IDBKeyRange.bound(ft(ei.first()),ft(ei.last())),en=ei.getIterator(),es=en.getNext();return fe(g).iterate({index:sw,range:er},(g,$,ei)=>{let er=av.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;es&&0>fo(es,er);)ee(es,null),es=en.getNext();es&&es.isEqual(er)&&(ee(es,$),es=en.hasNext()?en.getNext():null),es?ei.skip(ft(es)):ei.done()}).next(()=>{for(;es;)ee(es,null),es=en.hasNext()?en.getNext():null})}getDocumentsMatchingQuery(g,$,ee,ei,er){let en=$.path,es=[en.popLast().toArray(),en.lastSegment(),h2(ee.readTime),ee.documentKey.path.isEmpty()?"":ee.documentKey.path.lastSegment()],eo=[en.popLast().toArray(),en.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fe(g).loadAll(IDBKeyRange.bound(es,eo,!0)).next(g=>{null==er||er.incrementDocumentReadCount(g.length);let ee=pn();for(let er of g){let g=this.maybeDecodeDocument(av.fromSegments(er.prefixPath.concat(er.collectionGroup,er.documentId)),er);g.isFoundDocument()&&(d4($,g)||ei.has(g.key))&&(ee=ee.insert(g.key,g))}return ee})}getAllFromCollectionGroup(g,$,ee,ei){let er=pn(),en=fr($,ee),es=fr($,aO.max());return fe(g).iterate({index:sT,range:IDBKeyRange.bound(en,es,!0)},(g,$,ee)=>{let en=this.maybeDecodeDocument(av.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);(er=er.insert(en.key,en)).size===ei&&ee.done()}).next(()=>er)}newChangeBuffer(g){return new m8(this,!!g&&g.trackRemovals)}getSize(g){return this.getMetadata(g).next(g=>g.byteSize)}getMetadata(g){return m7(g).get(sI).next(g=>(nW(!!g),g))}setMetadata(g,$){return m7(g).put(sI,$)}maybeDecodeDocument(g,$){if($){let g=h1(this.serializer,$),ee=g.isNoDocument()&&g.version.isEqual(ap.min());if(!ee)return g}return lH.newInvalidDocument(g)}}function m5(g){return new m9(g)}class m8 extends null{constructor(g,$){super(),this.documentCache=g,this.trackRemovals=$,this.documentStates=new pi(g=>g.toString(),(g,$)=>g.isEqual($))}applyChanges(g){let $=[],ee=0,ei=new oE((g,$)=>ai(g.canonicalString(),$.canonicalString()));return this.changes.forEach((er,en)=>{let es=this.documentStates.get(er);if($.push(this.documentCache.removeEntry(g,er,es.readTime)),en.isValidDocument()){let eo=h0(this.documentCache.serializer,en);ei=ei.add(er.path.popLast());let ep=mk(eo);ee+=ep-es.size,$.push(this.documentCache.addEntry(g,er,eo))}else if(ee-=es.size,this.trackRemovals){let ee=h0(this.documentCache.serializer,en.convertToNoDocument(ap.min()));$.push(this.documentCache.addEntry(g,er,ee))}}),ei.forEach(ee=>{$.push(this.documentCache.indexManager.addToCollectionParentIndex(g,ee))}),$.push(this.documentCache.updateMetadata(g,ee)),aF.waitFor($)}getFromCache(g,$){return this.documentCache.getSizedEntry(g,$).next(g=>(this.documentStates.set($,{size:g.size,readTime:g.document.readTime}),g.document))}getAllFromCache(g,$){return this.documentCache.getSizedEntries(g,$).next(({documents:g,sizeMap:$})=>($.forEach(($,ee)=>{this.documentStates.set($,{size:ee,readTime:g.get($).readTime})}),g))}}function m7(g){return og(g,sE)}function fe(g){return og(g,sy)}function ft(g){let $=g.path.toArray();return[$.slice(0,$.length-2),$[$.length-2],$[$.length-1]]}function fi(g,$){let ee=g.path.toArray();return[ee.slice(0,ee.length-2),ee[ee.length-2],h2($),ee[ee.length-1]]}function fr(g,$){let ee=$.documentKey.path.toArray();return[g,h2($.readTime),ee.slice(0,ee.length-2),ee.length>0?ee[ee.length-1]:""]}function fo(g,$){let ee=g.path.toArray(),ei=$.path.toArray(),er=0;for(let g=0;g<ee.length-2&&g<ei.length-2;++g)if(er=ai(ee[g],ei[g]))return er;return(er=ai(ee.length,ei.length))||(er=ai(ee[ee.length-2],ei[ei.length-2]))?er:ai(ee[ee.length-1],ei[ei.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=15;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(g,$){this.overlayedDocument=g,this.mutatedFields=$}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(g,$,ee,ei){this.remoteDocumentCache=g,this.mutationQueue=$,this.documentOverlayCache=ee,this.indexManager=ei}getDocument(g,$){let ee=null;return this.documentOverlayCache.getOverlay(g,$).next(ei=>(ee=ei,this.remoteDocumentCache.getEntry(g,$))).next(g=>(null!==ee&&pY(ee.mutation,g,ok.empty(),al.now()),g))}getDocuments(g,$){return this.remoteDocumentCache.getEntries(g,$).next($=>this.getLocalViewOfDocuments(g,$,py()).next(()=>$))}getLocalViewOfDocuments(g,$,ee=py()){let ei=pu();return this.populateOverlays(g,ei,$).next(()=>this.computeViews(g,$,ei,ee).next(g=>{let $=po();return g.forEach((g,ee)=>{$=$.insert(g,ee.overlayedDocument)}),$}))}getOverlayedDocuments(g,$){let ee=pu();return this.populateOverlays(g,ee,$).next(()=>this.computeViews(g,$,ee,py()))}populateOverlays(g,$,ee){let ei=[];return ee.forEach(g=>{$.has(g)||ei.push(g)}),this.documentOverlayCache.getOverlays(g,ei).next(g=>{g.forEach((g,ee)=>{$.set(g,ee)})})}computeViews(g,$,ee,ei){let er=pn(),en=pm(),es=pl();return $.forEach((g,$)=>{let es=ee.get($.key);ei.has($.key)&&(void 0===es||es.mutation instanceof p4)?er=er.insert($.key,$):void 0!==es?(en.set($.key,es.mutation.getFieldMask()),pY(es.mutation,$,es.mutation.getFieldMask(),al.now())):en.set($.key,ok.empty())}),this.recalculateAndSaveOverlays(g,er).next(g=>(g.forEach((g,$)=>en.set(g,$)),$.forEach((g,$)=>{var ee;return es.set(g,new fp($,null!==(ee=en.get(g))&&void 0!==ee?ee:null))}),es))}recalculateAndSaveOverlays(g,$){let ee=pm(),ei=new ow((g,$)=>g-$),er=py();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(g,$).next(g=>{for(let er of g)er.keys().forEach(g=>{let en=$.get(g);if(null===en)return;let es=ee.get(g)||ok.empty();es=er.applyToLocalView(en,es),ee.set(g,es);let eo=(ei.get(er.batchId)||py()).add(g);ei=ei.insert(er.batchId,eo)})}).next(()=>{let en=[],es=ei.getReverseIterator();for(;es.hasNext();){let ei=es.getNext(),eo=ei.key,ep=ei.value,eu=ph();ep.forEach(g=>{if(!er.has(g)){let ei=pG($.get(g),ee.get(g));null!==ei&&eu.set(g,ei),er=er.add(g)}}),en.push(this.documentOverlayCache.saveOverlays(g,eo,eu))}return aF.waitFor(en)}).next(()=>ee)}recalculateAndSaveOverlaysForDocumentKeys(g,$){return this.remoteDocumentCache.getEntries(g,$).next($=>this.recalculateAndSaveOverlays(g,$))}getDocumentsMatchingQuery(g,$,ee,ei){return dq($)?this.getDocumentsMatchingDocumentQuery(g,$.path):dz($)?this.getDocumentsMatchingCollectionGroupQuery(g,$,ee,ei):this.getDocumentsMatchingCollectionQuery(g,$,ee,ei)}getNextDocuments(g,$,ee,ei){return this.remoteDocumentCache.getAllFromCollectionGroup(g,$,ee,ei).next(er=>{let en=ei-er.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(g,$,ee.largestBatchId,ei-er.size):aF.resolve(pu()),es=ay,eo=er;return en.next($=>aF.forEach($,($,ee)=>(es<ee.largestBatchId&&(es=ee.largestBatchId),er.get($))?aF.resolve():this.remoteDocumentCache.getEntry(g,$).next(g=>{eo=eo.insert($,g)})).next(()=>this.populateOverlays(g,$,er)).next(()=>this.computeViews(g,eo,$,py())).next(g=>({batchId:es,changes:pp(g)})))})}getDocumentsMatchingDocumentQuery(g,$){return this.getDocument(g,new av($)).next(g=>{let $=po();return g.isFoundDocument()&&($=$.insert(g.key,g)),$})}getDocumentsMatchingCollectionGroupQuery(g,$,ee,ei){let er=$.collectionGroup,en=po();return this.indexManager.getCollectionParents(g,er).next(es=>aF.forEach(es,es=>{let eo=dV($,es.child(er));return this.getDocumentsMatchingCollectionQuery(g,eo,ee,ei).next(g=>{g.forEach((g,$)=>{en=en.insert(g,$)})})}).next(()=>en))}getDocumentsMatchingCollectionQuery(g,$,ee,ei){let er;return this.documentOverlayCache.getOverlaysForCollection(g,$.path,ee.largestBatchId).next(en=>(er=en,this.remoteDocumentCache.getDocumentsMatchingQuery(g,$,ee,er,ei))).next(g=>{er.forEach(($,ee)=>{let ei=ee.getKey();null===g.get(ei)&&(g=g.insert(ei,lH.newInvalidDocument(ei)))});let ee=po();return g.forEach((g,ei)=>{let en=er.get(g);void 0!==en&&pY(en.mutation,ei,ok.empty(),al.now()),d4($,ei)&&(ee=ee.insert(g,ei))}),ee})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(g){this.serializer=g,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(g,$){return aF.resolve(this.bundles.get($))}saveBundleMetadata(g,$){return this.bundles.set($.id,cp($)),aF.resolve()}getNamedQuery(g,$){return aF.resolve(this.namedQueries.get($))}saveNamedQuery(g,$){return this.namedQueries.set($.name,cl($)),aF.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.overlays=new ow(av.comparator),this.overlayByBatchId=new Map}getOverlay(g,$){return aF.resolve(this.overlays.get($))}getOverlays(g,$){let ee=pu();return aF.forEach($,$=>this.getOverlay(g,$).next(g=>{null!==g&&ee.set($,g)})).next(()=>ee)}saveOverlays(g,$,ee){return ee.forEach((ee,ei)=>{this.saveOverlay(g,$,ei)}),aF.resolve()}removeOverlaysForBatchId(g,$,ee){let ei=this.overlayByBatchId.get(ee);return void 0!==ei&&(ei.forEach(g=>this.overlays=this.overlays.remove(g)),this.overlayByBatchId.delete(ee)),aF.resolve()}getOverlaysForCollection(g,$,ee){let ei=pu(),er=$.length+1,en=new av($.child("")),es=this.overlays.getIteratorFrom(en);for(;es.hasNext();){let g=es.getNext(),en=g.value,eo=en.getKey();if(!$.isPrefixOf(eo.path))break;eo.path.length===er&&en.largestBatchId>ee&&ei.set(en.getKey(),en)}return aF.resolve(ei)}getOverlaysForCollectionGroup(g,$,ee,ei){let er=new ow((g,$)=>g-$),en=this.overlays.getIterator();for(;en.hasNext();){let g=en.getNext(),ei=g.value,es=ei.getKey();if(es.getCollectionGroup()===$&&ei.largestBatchId>ee){let g=er.get(ei.largestBatchId);null===g&&(g=pu(),er=er.insert(ei.largestBatchId,g)),g.set(ei.getKey(),ei)}}let es=pu(),eo=er.getIterator();for(;eo.hasNext();){let g=eo.getNext(),$=g.value;if($.forEach((g,$)=>es.set(g,$)),es.size()>=ei)break}return aF.resolve(es)}saveOverlay(g,$,ee){let ei=this.overlays.get(ee.key);if(null!==ei){let g=this.overlayByBatchId.get(ei.largestBatchId).delete(ee.key);this.overlayByBatchId.set(ei.largestBatchId,g)}this.overlays=this.overlays.insert(ee.key,new uo($,ee));let er=this.overlayByBatchId.get($);void 0===er&&(er=py(),this.overlayByBatchId.set($,er)),this.overlayByBatchId.set($,er.add(ee.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refsByKey=new oE(fg.compareByKey),this.refsByTarget=new oE(fg.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(g,$){let ee=new fg(g,$);this.refsByKey=this.refsByKey.add(ee),this.refsByTarget=this.refsByTarget.add(ee)}addReferences(g,$){g.forEach(g=>this.addReference(g,$))}removeReference(g,$){this.removeRef(new fg(g,$))}removeReferences(g,$){g.forEach(g=>this.removeReference(g,$))}removeReferencesForId(g){let $=new av(new am([])),ee=new fg($,g),ei=new fg($,g+1),er=[];return this.refsByTarget.forEachInRange([ee,ei],g=>{this.removeRef(g),er.push(g.key)}),er}removeAllReferences(){this.refsByKey.forEach(g=>this.removeRef(g))}removeRef(g){this.refsByKey=this.refsByKey.delete(g),this.refsByTarget=this.refsByTarget.delete(g)}referencesForId(g){let $=new av(new am([])),ee=new fg($,g),ei=new fg($,g+1),er=py();return this.refsByTarget.forEachInRange([ee,ei],g=>{er=er.add(g.key)}),er}containsKey(g){let $=new fg(g,0),ee=this.refsByKey.firstAfterOrEqual($);return null!==ee&&g.isEqual(ee.key)}}class fg{constructor(g,$){this.key=g,this.targetOrBatchId=$}static compareByKey(g,$){return av.comparator(g.key,$.key)||ai(g.targetOrBatchId,$.targetOrBatchId)}static compareByTargetId(g,$){return ai(g.targetOrBatchId,$.targetOrBatchId)||av.comparator(g.key,$.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(g,$){this.indexManager=g,this.referenceDelegate=$,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new oE(fg.compareByKey)}checkEmpty(g){return aF.resolve(0===this.mutationQueue.length)}addMutationBatch(g,$,ee,ei){let er=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let en=new un(er,$,ee,ei);for(let $ of(this.mutationQueue.push(en),ei))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new fg($.key,er)),this.indexManager.addToCollectionParentIndex(g,$.key.path.popLast());return aF.resolve(en)}lookupMutationBatch(g,$){return aF.resolve(this.findMutationBatch($))}getNextMutationBatchAfterBatchId(g,$){let ee=$+1,ei=this.indexOfBatchId(ee),er=ei<0?0:ei;return aF.resolve(this.mutationQueue.length>er?this.mutationQueue[er]:null)}getHighestUnacknowledgedBatchId(){return aF.resolve(0===this.mutationQueue.length?oJ:this.nextBatchId-1)}getAllMutationBatches(g){return aF.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(g,$){let ee=new fg($,0),ei=new fg($,Number.POSITIVE_INFINITY),er=[];return this.batchesByDocumentKey.forEachInRange([ee,ei],g=>{let $=this.findMutationBatch(g.targetOrBatchId);er.push($)}),aF.resolve(er)}getAllMutationBatchesAffectingDocumentKeys(g,$){let ee=new oE(ai);return $.forEach(g=>{let $=new fg(g,0),ei=new fg(g,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([$,ei],g=>{ee=ee.add(g.targetOrBatchId)})}),aF.resolve(this.findMutationBatches(ee))}getAllMutationBatchesAffectingQuery(g,$){let ee=$.path,ei=ee.length+1,er=ee;av.isDocumentKey(er)||(er=er.child(""));let en=new fg(new av(er),0),es=new oE(ai);return this.batchesByDocumentKey.forEachWhile(g=>{let $=g.key.path;return!!ee.isPrefixOf($)&&($.length===ei&&(es=es.add(g.targetOrBatchId)),!0)},en),aF.resolve(this.findMutationBatches(es))}findMutationBatches(g){let $=[];return g.forEach(g=>{let ee=this.findMutationBatch(g);null!==ee&&$.push(ee)}),$}removeMutationBatch(g,$){let ee=this.indexOfExistingBatchId($.batchId,"removed");nW(0===ee),this.mutationQueue.shift();let ei=this.batchesByDocumentKey;return aF.forEach($.mutations,ee=>{let er=new fg(ee.key,$.batchId);return ei=ei.delete(er),this.referenceDelegate.markPotentiallyOrphaned(g,ee.key)}).next(()=>{this.batchesByDocumentKey=ei})}removeCachedMutationKeys(g){}containsKey(g,$){let ee=new fg($,0),ei=this.batchesByDocumentKey.firstAfterOrEqual(ee);return aF.resolve($.isEqual(ei&&ei.key))}performConsistencyCheck(g){return this.mutationQueue.length,aF.resolve()}indexOfExistingBatchId(g,$){let ee=this.indexOfBatchId(g);return ee}indexOfBatchId(g){if(0===this.mutationQueue.length)return 0;let $=this.mutationQueue[0].batchId;return g-$}findMutationBatch(g){let $=this.indexOfBatchId(g);if($<0||$>=this.mutationQueue.length)return null;let ee=this.mutationQueue[$];return ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){return new ow(av.comparator)}class f_{constructor(g){this.sizer=g,this.docs=fy(),this.size=0}setIndexManager(g){this.indexManager=g}addEntry(g,$){let ee=$.key,ei=this.docs.get(ee),er=ei?ei.size:0,en=this.sizer($);return this.docs=this.docs.insert(ee,{document:$.mutableCopy(),size:en}),this.size+=en-er,this.indexManager.addToCollectionParentIndex(g,ee.path.popLast())}removeEntry(g){let $=this.docs.get(g);$&&(this.docs=this.docs.remove(g),this.size-=$.size)}getEntry(g,$){let ee=this.docs.get($);return aF.resolve(ee?ee.document.mutableCopy():lH.newInvalidDocument($))}getEntries(g,$){let ee=pn();return $.forEach(g=>{let $=this.docs.get(g);ee=ee.insert(g,$?$.document.mutableCopy():lH.newInvalidDocument(g))}),aF.resolve(ee)}getDocumentsMatchingQuery(g,$,ee,ei){let er=pn(),en=$.path,es=new av(en.child("")),eo=this.docs.getIteratorFrom(es);for(;eo.hasNext();){let{key:g,value:{document:es}}=eo.getNext();if(!en.isPrefixOf(g.path))break;!(g.path.length>en.length+1||0>=ax(aA(es),ee))&&(ei.has(es.key)||d4($,es))&&(er=er.insert(es.key,es.mutableCopy()))}return aF.resolve(er)}getAllFromCollectionGroup(g,$,ee,ei){n$()}forEachDocumentKey(g,$){return aF.forEach(this.docs,g=>$(g))}newChangeBuffer(g){return new fS(this)}getSize(g){return aF.resolve(this.size)}}function fw(g){return new f_(g)}class fS extends m3{constructor(g){super(),this.documentCache=g}applyChanges(g){let $=[];return this.changes.forEach((ee,ei)=>{ei.isValidDocument()?$.push(this.documentCache.addEntry(g,ei)):this.documentCache.removeEntry(ee)}),aF.waitFor($)}getFromCache(g,$){return this.documentCache.getEntry(g,$)}getAllFromCache(g,$){return this.documentCache.getEntries(g,$)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(g){this.persistence=g,this.targets=new pi(g=>dS(g),dC),this.lastRemoteSnapshotVersion=ap.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ff,this.targetCount=0,this.targetIdGenerator=mF.forTargetCache()}forEachTarget(g,$){return this.targets.forEach((g,ee)=>$(ee)),aF.resolve()}getLastRemoteSnapshotVersion(g){return aF.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(g){return aF.resolve(this.highestSequenceNumber)}allocateTargetId(g){return this.highestTargetId=this.targetIdGenerator.next(),aF.resolve(this.highestTargetId)}setTargetsMetadata(g,$,ee){return ee&&(this.lastRemoteSnapshotVersion=ee),$>this.highestSequenceNumber&&(this.highestSequenceNumber=$),aF.resolve()}saveTargetData(g){this.targets.set(g.target,g);let $=g.targetId;$>this.highestTargetId&&(this.targetIdGenerator=new mF($),this.highestTargetId=$),g.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=g.sequenceNumber)}addTargetData(g,$){return this.saveTargetData($),this.targetCount+=1,aF.resolve()}updateTargetData(g,$){return this.saveTargetData($),aF.resolve()}removeTargetData(g,$){return this.targets.delete($.target),this.references.removeReferencesForId($.targetId),this.targetCount-=1,aF.resolve()}removeTargets(g,$,ee){let ei=0,er=[];return this.targets.forEach((en,es)=>{es.sequenceNumber<=$&&null===ee.get(es.targetId)&&(this.targets.delete(en),er.push(this.removeMatchingKeysForTargetId(g,es.targetId)),ei++)}),aF.waitFor(er).next(()=>ei)}getTargetCount(g){return aF.resolve(this.targetCount)}getTargetData(g,$){let ee=this.targets.get($)||null;return aF.resolve(ee)}addMatchingKeys(g,$,ee){return this.references.addReferences($,ee),aF.resolve()}removeMatchingKeys(g,$,ee){this.references.removeReferences($,ee);let ei=this.persistence.referenceDelegate,er=[];return ei&&$.forEach($=>{er.push(ei.markPotentiallyOrphaned(g,$))}),aF.waitFor(er)}removeMatchingKeysForTargetId(g,$){return this.references.removeReferencesForId($),aF.resolve()}getMatchingKeysForTargetId(g,$){let ee=this.references.referencesForId($);return aF.resolve(ee)}containsKey(g,$){return aF.resolve(this.references.containsKey($))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fC="MemoryPersistence";class fE{constructor(g,$){this.mutationQueues={},this.overlays={},this.listenSequence=new a0(0),this._started=!1,this._started=!0,this.referenceDelegate=g(this),this.targetCache=new fT(this);let ee=g=>this.referenceDelegate.documentSize(g);this.indexManager=new mv,this.remoteDocumentCache=fw(ee),this.serializer=new hZ($),this.bundleCache=new fh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(g){return this.indexManager}getDocumentOverlayCache(g){let $=this.overlays[g.toKey()];return $||($=new fm,this.overlays[g.toKey()]=$),$}getMutationQueue(g,$){let ee=this.mutationQueues[g.toKey()];return ee||(ee=new fv($,this.referenceDelegate),this.mutationQueues[g.toKey()]=ee),ee}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(g,$,ee){nj(fC,"Starting transaction:",g);let ei=new fI(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),ee(ei).next(g=>this.referenceDelegate.onTransactionCommitted(ei).next(()=>g)).toPromise().then(g=>(ei.raiseOnCommittedEvent(),g))}mutationQueuesContainKey(g,$){return aF.or(Object.values(this.mutationQueues).map(ee=>()=>ee.containsKey(g,$)))}}class fI extends aM{constructor(g){super(),this.currentSequenceNumber=g}}class fN{constructor(g){this.persistence=g,this.localViewReferences=new ff,this._orphanedDocuments=null}static factory(g){return new fN(g)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw n$()}addReference(g,$,ee){return this.localViewReferences.addReference(ee,$),this.orphanedDocuments.delete(ee.toString()),aF.resolve()}removeReference(g,$,ee){return this.localViewReferences.removeReference(ee,$),this.orphanedDocuments.add(ee.toString()),aF.resolve()}markPotentiallyOrphaned(g,$){return this.orphanedDocuments.add($.toString()),aF.resolve()}removeTarget(g,$){let ee=this.localViewReferences.removeReferencesForId($.targetId);ee.forEach(g=>this.orphanedDocuments.add(g.toString()));let ei=this.persistence.getTargetCache();return ei.getMatchingKeysForTargetId(g,$.targetId).next(g=>{g.forEach(g=>this.orphanedDocuments.add(g.toString()))}).next(()=>ei.removeTargetData(g,$))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(g){let $=this.persistence.getRemoteDocumentCache(),ee=$.newChangeBuffer();return aF.forEach(this.orphanedDocuments,$=>{let ei=av.fromPath($);return this.isReferenced(g,ei).next(g=>{g||ee.removeEntry(ei,ap.min())})}).next(()=>(this._orphanedDocuments=null,ee.apply(g)))}updateLimboDocument(g,$){return this.isReferenced(g,$).next(g=>{g?this.orphanedDocuments.delete($.toString()):this.orphanedDocuments.add($.toString())})}documentSize(g){return 0}isReferenced(g,$){return aF.or([()=>aF.resolve(this.localViewReferences.containsKey($)),()=>this.persistence.getTargetCache().containsKey(g,$),()=>this.persistence.mutationQueuesContainKey(g,$)])}}class fD{constructor(g,$){this.persistence=g,this.orphanedSequenceNumbers=new pi(g=>a9(g.path),(g,$)=>g.isEqual($)),this.garbageCollector=m1(this,$)}static factory(g,$){return new fD(g,$)}onTransactionStarted(){}onTransactionCommitted(g){return aF.resolve()}forEachTarget(g,$){return this.persistence.getTargetCache().forEachTarget(g,$)}getSequenceNumberCount(g){let $=this.orphanedDocumentCount(g),ee=this.persistence.getTargetCache().getTargetCount(g);return ee.next(g=>$.next($=>g+$))}orphanedDocumentCount(g){let $=0;return this.forEachOrphanedDocumentSequenceNumber(g,g=>{$++}).next(()=>$)}forEachOrphanedDocumentSequenceNumber(g,$){return aF.forEach(this.orphanedSequenceNumbers,(ee,ei)=>this.isPinned(g,ee,ei).next(g=>g?aF.resolve():$(ei)))}removeTargets(g,$,ee){return this.persistence.getTargetCache().removeTargets(g,$,ee)}removeOrphanedDocuments(g,$){let ee=0,ei=this.persistence.getRemoteDocumentCache(),er=ei.newChangeBuffer(),en=ei.forEachDocumentKey(g,ei=>this.isPinned(g,ei,$).next(g=>{g||(ee++,er.removeEntry(ei,ap.min()))}));return en.next(()=>er.apply(g)).next(()=>ee)}markPotentiallyOrphaned(g,$){return this.orphanedSequenceNumbers.set($,g.currentSequenceNumber),aF.resolve()}removeTarget(g,$){let ee=$.withSequenceNumber(g.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(g,ee)}addReference(g,$,ee){return this.orphanedSequenceNumbers.set(ee,g.currentSequenceNumber),aF.resolve()}removeReference(g,$,ee){return this.orphanedSequenceNumbers.set(ee,g.currentSequenceNumber),aF.resolve()}updateLimboDocument(g,$){return this.orphanedSequenceNumbers.set($,g.currentSequenceNumber),aF.resolve()}documentSize(g){let $=g.key.toString().length;return g.isFoundDocument()&&($+=lE(g.data.value)),$}isPinned(g,$,ee){return aF.or([()=>this.persistence.mutationQueuesContainKey(g,$),()=>this.persistence.getTargetCache().containsKey(g,$),()=>{let g=this.orphanedSequenceNumbers.get($);return aF.resolve(void 0!==g&&g>ee)}])}getCacheSize(g){return this.persistence.getRemoteDocumentCache().getSize(g)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(g){this.serializer=g}createOrUpgrade(g,$,ee,ei){let er=new aU("createOrUpgrade",$);ee<1&&ei>=1&&(fA(g),fO(g),fF(g),fP(g));let en=aF.resolve();return ee<3&&ei>=3&&(0!==ee&&(fV(g),fF(g)),en=en.next(()=>fU(er))),ee<4&&ei>=4&&(0!==ee&&(en=en.next(()=>fx(g,er))),en=en.next(()=>{fj(g)})),ee<5&&ei>=5&&(en=en.next(()=>this.removeAcknowledgedMutations(er))),ee<6&&ei>=6&&(en=en.next(()=>(fL(g),this.addDocumentGlobal(er)))),ee<7&&ei>=7&&(en=en.next(()=>this.ensureSequenceNumbers(er))),ee<8&&ei>=8&&(en=en.next(()=>this.createCollectionParentIndex(g,er))),ee<9&&ei>=9&&(en=en.next(()=>{fB(g)})),ee<10&&ei>=10&&(en=en.next(()=>this.rewriteCanonicalIds(er))),ee<11&&ei>=11&&(en=en.next(()=>{fq(g),fz(g)})),ee<12&&ei>=12&&(en=en.next(()=>{f$(g)})),ee<13&&ei>=13&&(en=en.next(()=>fM(g)).next(()=>this.rewriteRemoteDocumentCache(g,er)).next(()=>g.deleteObjectStore(se))),ee<14&&ei>=14&&(en=en.next(()=>this.runOverlayMigration(g,er))),ee<15&&ei>=15&&(en=en.next(()=>fH(g))),en}addDocumentGlobal(g){let $=0;return g.store(se).iterate((g,ee)=>{$+=mk(ee)}).next(()=>{let ee={byteSize:$};return g.store(sE).put(sI,ee)})}removeAcknowledgedMutations(g){let $=g.store(sr),ee=g.store(ss);return $.loadAll().next($=>aF.forEach($,$=>{let ei=IDBKeyRange.bound([$.userId,oJ],[$.userId,$.lastAcknowledgedBatchId]);return ee.loadAll(sl,ei).next(ee=>aF.forEach(ee,ee=>{nW(ee.userId===$.userId);let ei=h5(this.serializer,ee);return mD(g,$.userId,ei).next(()=>{})}))}))}ensureSequenceNumbers(g){let $=g.store(sA),ee=g.store(se),ei=g.store(sL);return ei.get(sM).next(g=>{let ei=ee=>$.put({targetId:0,path:a9(ee),sequenceNumber:g.highestListenSequenceNumber}),er=[];return ee.iterate((g,ee)=>{let en=new am(g),es=fR(en);er.push($.get(es).next(g=>g?aF.resolve():ei(en)))}).next(()=>aF.waitFor(er))})}createCollectionParentIndex(g,$){g.createObjectStore(sF,{keyPath:sV});let ee=$.store(sF),ei=new my,er=g=>{if(ei.add(g)){let $=g.lastSegment(),ei=g.popLast();return ee.put({collectionId:$,parent:a9(ei)})}};return $.store(se).iterate({keysOnly:!0},(g,$)=>{let ee=new am(g);return er(ee.popLast())}).next(()=>$.store(sv).iterate({keysOnly:!0},([g,$,ee],ei)=>{let en=a7($);return er(en.popLast())}))}rewriteCanonicalIds(g){let $=g.store(sN);return $.iterate((g,ee)=>{let ei=h8(ee),er=h7(this.serializer,ei);return $.put(er)})}rewriteRemoteDocumentCache(g,$){let ee=$.store(se),ei=[];return ee.iterate((g,ee)=>{let er=$.store(sy),en=fW(ee).path.toArray(),es={prefixPath:en.slice(0,en.length-2),collectionGroup:en[en.length-2],documentId:en[en.length-1],readTime:ee.readTime||[0,0],unknownDocument:ee.unknownDocument,noDocument:ee.noDocument,document:ee.document,hasCommittedMutations:!!ee.hasCommittedMutations};ei.push(er.put(es))}).next(()=>aF.waitFor(ei))}runOverlayMigration(g,$){let ee=$.store(ss),ei=m5(this.serializer),er=new fE(fN.factory,this.serializer.remoteSerializer);return ee.loadAll().next(g=>{let ee=new Map;return g.forEach(g=>{var $;let ei=null!==($=ee.get(g.userId))&&void 0!==$?$:py(),er=h5(this.serializer,g);er.keys().forEach(g=>ei=ei.add(g)),ee.set(g.userId,ei)}),aF.forEach(ee,(g,ee)=>{let en=new nP(ee),es=cT.forUser(this.serializer,en),eo=er.getIndexManager(en),ep=mR.forUser(en,this.serializer,eo,er.referenceDelegate),eu=new fu(ei,ep,es,eo);return eu.recalculateAndSaveOverlaysForDocumentKeys(new of($,a0.INVALID),g).next()})})}}function fR(g){return[0,a9(g)]}function fA(g){g.createObjectStore(st)}function fO(g){g.createObjectStore(sr,{keyPath:sn});let $=g.createObjectStore(ss,{keyPath:so,autoIncrement:!0});$.createIndex(sl,su,{unique:!0}),g.createObjectStore(sv)}function fx(g,$){let ee=$.store(ss);return ee.loadAll().next(ee=>{g.deleteObjectStore(ss);let ei=g.createObjectStore(ss,{keyPath:so,autoIncrement:!0});ei.createIndex(sl,su,{unique:!0});let er=$.store(ss),en=ee.map(g=>er.put(g));return aF.waitFor(en)})}function fP(g){g.createObjectStore(se)}function fM(g){let $=g.createObjectStore(sy,{keyPath:s_});$.createIndex(sw,sS),$.createIndex(sT,sC)}function fL(g){g.createObjectStore(sE)}function fF(g){let $=g.createObjectStore(sA,{keyPath:sO});$.createIndex(sx,sP,{unique:!0});let ee=g.createObjectStore(sN,{keyPath:sD});ee.createIndex(sk,sR,{unique:!0}),g.createObjectStore(sL)}function fV(g){g.deleteObjectStore(sA),g.deleteObjectStore(sN),g.deleteObjectStore(sL)}function fB(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}function fU(g){let $=g.store(sL),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ap.min().toTimestamp(),targetCount:0};return $.put(sM,ee)}function fj(g){g.createObjectStore(sB,{keyPath:sU})}function fq(g){g.createObjectStore(sj,{keyPath:sq})}function fz(g){g.createObjectStore(sz,{keyPath:sH})}function fH(g){let $=g.createObjectStore(s$,{keyPath:sW,autoIncrement:!0});$.createIndex(sK,sG,{unique:!1});let ee=g.createObjectStore(sQ,{keyPath:sY});ee.createIndex(sJ,sX,{unique:!1});let ei=g.createObjectStore(sZ,{keyPath:s1});ei.createIndex(s0,s2,{unique:!1})}function f$(g){let $=g.createObjectStore(s6,{keyPath:s4});$.createIndex(s3,s9,{unique:!1}),$.createIndex(s5,s8,{unique:!1})}function fW(g){return g.document?new av(am.fromString(g.document.name).popFirst(5)):g.noDocument?av.fromSegments(g.noDocument.path):g.unknownDocument?av.fromSegments(g.unknownDocument.path):n$()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fK="IndexedDbPersistence",fG=null,fQ=5e3,fY=4e3,fJ=null,fX=null,fZ="firestore_zombie",f0="main";class f6{constructor(g,$,ee,ei,er,en,es,eo,ep,eu,eh=fl){if(this.allowTabSynchronization=g,this.persistenceKey=$,this.clientId=ee,this.queue=er,this.window=en,this.document=es,this.sequenceNumberSyncer=ep,this.forceOwningTab=eu,this.schemaVersion=eh,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=g=>Promise.resolve(),!f6.isAvailable())throw new nQ(nG.UNIMPLEMENTED,fX);this.referenceDelegate=new m0(this,ei),this.dbName=$+f0,this.serializer=new hZ(eo),this.simpleDb=new aj(this.dbName,this.schemaVersion,new fk(this.serializer)),this.targetCache=new mV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=m5(this.serializer),this.bundleCache=new c_,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===eu&&nq(fK,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nQ(nG.FAILED_PRECONDITION,fJ);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",g=>this.targetCache.getHighestSequenceNumber(g))}).then(g=>{this.listenSequence=new a0(g,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(g=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(g)))}setPrimaryStateListener(g){return this.primaryStateListener=async $=>{if(this.started)return g($)},g(this.isPrimary)}setDatabaseDeletedListener(g){this.simpleDb.setVersionChangeListener(async $=>{null===$.newVersion&&await g()})}setNetworkEnabled(g){this.networkEnabled!==g&&(this.networkEnabled=g,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",g=>{let $=f3(g);return $.put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(g).next(g=>{g||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(g)).next($=>this.isPrimary&&!$?this.releasePrimaryLeaseIfHeld(g).next(()=>!1):!!$&&this.acquireOrExtendPrimaryLease(g).next(()=>!0))}).catch(g=>{if(aH(g))return nj(fK,"Failed to extend owner lease: ",g),this.isPrimary;if(!this.allowTabSynchronization)throw g;return nj(fK,"Releasing owner lease after error during lease refresh",g),!1}).then(g=>{this.isPrimary!==g&&this.queue.enqueueRetryable(()=>this.primaryStateListener(g)),this.isPrimary=g})}verifyPrimaryLease(g){let $=f4(g);return $.get(si).next(g=>aF.resolve(this.isLocalClient(g)))}removeClientMetadata(g){let $=f3(g);return $.delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,fG)){this.lastGarbageCollectionTime=Date.now();let g=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",g=>{let $=og(g,sB);return $.loadAll().next(g=>{let ee=this.filterActiveClients(g,fG),ei=g.filter(g=>-1===ee.indexOf(g));return aF.forEach(ei,g=>$.delete(g.clientId)).next(()=>ei)})}).catch(()=>[]);if(this.webStorage)for(let $ of g)this.webStorage.removeItem(this.zombiedClientLocalStorageKey($.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",fY,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(g){return!!g&&g.ownerId===this.clientId}canActAsPrimary(g){if(this.forceOwningTab)return aF.resolve(!0);let $=f4(g);return $.get(si).next($=>{let ee=null!==$&&this.isWithinAge($.leaseTimestampMs,fQ)&&!this.isClientZombied($.ownerId);if(ee){if(this.isLocalClient($)&&this.networkEnabled)return!0;if(!this.isLocalClient($)){if(!$.allowTabSynchronization)throw new nQ(nG.FAILED_PRECONDITION,fJ);return!1}}return!!this.networkEnabled&&!!this.inForeground||f3(g).loadAll().next(g=>{let $=this.filterActiveClients(g,fQ).find(g=>{if(this.clientId!==g.clientId){let $=!this.networkEnabled&&g.networkEnabled,ee=!this.inForeground&&g.inForeground,ei=this.networkEnabled===g.networkEnabled;if($||ee&&ei)return!0}return!1});return void 0===$})}).next(g=>(this.isPrimary!==g&&nj(fK,`Client ${g?"is":"is not"} eligible for a primary lease.`),g))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[st,sB],g=>{let $=new of(g,a0.INVALID);return this.releasePrimaryLeaseIfHeld($).next(()=>this.removeClientMetadata($))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(g,$){return g.filter(g=>this.isWithinAge(g.updateTimeMs,$)&&!this.isClientZombied(g.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",g=>f3(g).loadAll().next(g=>this.filterActiveClients(g,fG).map(g=>g.clientId)))}get started(){return this._started}getMutationQueue(g,$){return mR.forUser(g,this.serializer,$,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(g){return new mS(g,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(g){return cT.forUser(this.serializer,g)}getBundleCache(){return this.bundleCache}runTransaction(g,$,ee){let ei;nj(fK,"Starting transaction:",g);let er="readonly"===$?"readonly":"readwrite",en=om(this.schemaVersion);return this.simpleDb.runTransaction(g,er,en,er=>(ei=new of(er,this.listenSequence?this.listenSequence.next():a0.INVALID),"readwrite-primary"===$)?this.verifyPrimaryLease(ei).next(g=>!!g||this.canActAsPrimary(ei)).next($=>{if(!$)throw nq(`Failed to obtain primary lease for action '${g}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new nQ(nG.FAILED_PRECONDITION,aP);return ee(ei)}).next(g=>this.acquireOrExtendPrimaryLease(ei).next(()=>g)):this.verifyAllowTabSynchronization(ei).next(()=>ee(ei))).then(g=>(ei.raiseOnCommittedEvent(),g))}verifyAllowTabSynchronization(g){let $=f4(g);return $.get(si).next(g=>{let $=null!==g&&this.isWithinAge(g.leaseTimestampMs,fQ)&&!this.isClientZombied(g.ownerId);if($&&!this.isLocalClient(g)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!g.allowTabSynchronization))throw new nQ(nG.FAILED_PRECONDITION,fJ)})}acquireOrExtendPrimaryLease(g){let $={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return f4(g).put(si,$)}static isAvailable(){return aj.isAvailable()}releasePrimaryLeaseIfHeld(g){let $=f4(g);return $.get(si).next(g=>this.isLocalClient(g)?(nj(fK,"Releasing primary lease."),$.delete(si)):aF.resolve())}isWithinAge(g,$){let ee=Date.now(),ei=ee-$,er=ee;return!(g<ei)&&(!(g>er)||(nq(`Detected an update time that is in the future: ${g} > ${er}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var g;"function"==typeof(null===(g=this.window)||void 0===g?void 0:g.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let g=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match(g)||navigator.userAgent.match(g))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(g){var $;try{let ee=(null===($=this.webStorage)||void 0===$?void 0:$.getItem(this.zombiedClientLocalStorageKey(g)))!==null;return nj(fK,`Client '${g}' ${ee?"is":"is not"} zombied in LocalStorage`),ee}catch(g){return nq(fK,"Failed to get zombied client id.",g),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(g){nq("Failed to set zombie client id.",g)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(g){}}zombiedClientLocalStorageKey(g){return`${fZ}_${this.persistenceKey}_${g}`}}function f4(g){return og(g,st)}function f3(g){return og(g,sB)}function f9(g,$){let ee=g.projectId;return g.isDefaultDatabase||(ee+="."+g.database),"firestore/"+$+"/"+ee+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(g,$,ee,ei,er){$=[...$],(g=[...g]).sort(ee),$.sort(ee);let en=g.length,es=$.length,eo=0,ep=0;for(;eo<es&&ep<en;){let en=ee(g[ep],$[eo]);en<0?er(g[ep++]):en>0?ei($[eo++]):(eo++,ep++)}for(;eo<es;)ei($[eo++]);for(;ep<en;)er(g[ep++])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f8="LocalStore",f7=null;class ge{constructor(g,$,ee,ei){this.persistence=g,this.queryEngine=$,this.serializer=ei,this.targetDataByTarget=new ow(ai),this.targetIdByTarget=new pi(g=>dS(g),dC),this.collectionGroupReadTime=new Map,this.remoteDocuments=g.getRemoteDocumentCache(),this.targetCache=g.getTargetCache(),this.bundleCache=g.getBundleCache(),this.initializeUserComponents(ee)}initializeUserComponents(g){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(g),this.indexManager=this.persistence.getIndexManager(g),this.mutationQueue=this.persistence.getMutationQueue(g,this.indexManager),this.localDocuments=new fu(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(g){return this.persistence.runTransaction("Collect garbage","readwrite-primary",$=>g.collect($,this.targetDataByTarget))}}function gt(g,$,ee,ei){return new ge(g,$,ee,ei)}async function gi(g,$){let ee=nK(g),ei=await ee.persistence.runTransaction("Handle user change","readonly",g=>{let ei;return ee.mutationQueue.getAllMutationBatches(g).next(er=>(ei=er,ee.initializeUserComponents($),ee.mutationQueue.getAllMutationBatches(g))).next($=>{let er=[],en=[],es=py();for(let g of ei)for(let $ of(er.push(g.batchId),g.mutations))es=es.add($.key);for(let g of $)for(let $ of(en.push(g.batchId),g.mutations))es=es.add($.key);return ee.localDocuments.getDocuments(g,es).next(g=>({affectedDocuments:g,removedBatchIds:er,addedBatchIds:en}))})});return ei}function gr(g,$){let ee,ei;let er=nK(g),en=al.now(),es=$.reduce((g,$)=>g.add($.key),py());return er.persistence.runTransaction("Locally write mutations","readwrite",g=>{let eo=pn(),ep=py();return er.remoteDocuments.getEntries(g,es).next(g=>{(eo=g).forEach((g,$)=>{$.isValidDocument()||(ep=ep.add(g))})}).next(()=>er.localDocuments.getOverlayedDocuments(g,eo)).next(ei=>{ee=ei;let es=[];for(let g of $){let $=pJ(g,ee.get(g.key).overlayedDocument);null!=$&&es.push(new p4(g.key,$,lz($.value.mapValue),p$.exists(!0)))}return er.mutationQueue.addMutationBatch(g,en,es,$)}).next($=>{ei=$;let en=$.applyToLocalDocumentSet(ee,ep);return er.documentOverlayCache.saveOverlays(g,$.batchId,en)})}).then(()=>({batchId:ei.batchId,changes:pp(ee)}))}function gn(g,$){let ee=nK(g);return ee.persistence.runTransaction("Acknowledge batch","readwrite-primary",g=>{let ei=$.batch.keys(),er=ee.remoteDocuments.newChangeBuffer({trackRemovals:!0});return gS(ee,g,$,er).next(()=>er.apply(g)).next(()=>ee.mutationQueue.performConsistencyCheck(g)).next(()=>ee.documentOverlayCache.removeOverlaysForBatchId(g,ei,$.batch.batchId)).next(()=>ee.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,ga($))).next(()=>ee.localDocuments.getDocuments(g,ei))})}function ga(g){let $=py();for(let ee=0;ee<g.mutationResults.length;++ee){let ei=g.mutationResults[ee];ei.transformResults.length>0&&($=$.add(g.batch.mutations[ee].key))}return $}function gs(g,$){let ee=nK(g);return ee.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let ei;return ee.mutationQueue.lookupMutationBatch(g,$).next($=>(nW(null!==$),ei=$.keys(),ee.mutationQueue.removeMutationBatch(g,$))).next(()=>ee.mutationQueue.performConsistencyCheck(g)).next(()=>ee.documentOverlayCache.removeOverlaysForBatchId(g,ei,$)).next(()=>ee.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,ei)).next(()=>ee.localDocuments.getDocuments(g,ei))})}function go(g){let $=nK(g);return $.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>$.mutationQueue.getHighestUnacknowledgedBatchId(g))}function gl(g){let $=nK(g);return $.persistence.runTransaction("Get last remote snapshot version","readonly",g=>$.targetCache.getLastRemoteSnapshotVersion(g))}function gp(g,$){let ee=nK(g),ei=$.snapshotVersion,er=ee.targetDataByTarget;return ee.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{let en=ee.remoteDocuments.newChangeBuffer({trackRemovals:!0});er=ee.targetDataByTarget;let es=[];$.targetChanges.forEach((en,eo)=>{let ep=er.get(eo);if(!ep)return;es.push(ee.targetCache.removeMatchingKeys(g,en.removedDocuments,eo).next(()=>ee.targetCache.addMatchingKeys(g,en.addedDocuments,eo)));let eu=ep.withSequenceNumber(g.currentSequenceNumber);null!==$.targetMismatches.get(eo)?eu=eu.withResumeToken(oO.EMPTY_BYTE_STRING,ap.min()).withLastLimboFreeSnapshotVersion(ap.min()):en.resumeToken.approximateByteSize()>0&&(eu=eu.withResumeToken(en.resumeToken,ei)),er=er.insert(eo,eu),gh(ep,eu,en)&&es.push(ee.targetCache.updateTargetData(g,eu))});let eo=pn(),ep=py();if($.documentUpdates.forEach(ei=>{$.resolvedLimboDocuments.has(ei)&&es.push(ee.persistence.referenceDelegate.updateLimboDocument(g,ei))}),es.push(gu(g,en,$.documentUpdates).next(g=>{eo=g.changedDocuments,ep=g.existenceChangedKeys})),!ei.isEqual(ap.min())){let $=ee.targetCache.getLastRemoteSnapshotVersion(g).next($=>ee.targetCache.setTargetsMetadata(g,g.currentSequenceNumber,ei));es.push($)}return aF.waitFor(es).next(()=>en.apply(g)).next(()=>ee.localDocuments.getLocalViewOfDocuments(g,eo,ep)).next(()=>eo)}).then(g=>(ee.targetDataByTarget=er,g))}function gu(g,$,ee){let ei=py(),er=py();return ee.forEach(g=>ei=ei.add(g)),$.getEntries(g,ei).next(g=>{let ei=pn();return ee.forEach((ee,en)=>{let es=g.get(ee);en.isFoundDocument()!==es.isFoundDocument()&&(er=er.add(ee)),en.isNoDocument()&&en.version.isEqual(ap.min())?($.removeEntry(ee,en.readTime),ei=ei.insert(ee,en)):!es.isValidDocument()||en.version.compareTo(es.version)>0||0===en.version.compareTo(es.version)&&es.hasPendingWrites?($.addEntry(en),ei=ei.insert(ee,en)):nj(f8,"Ignoring outdated watch update for ",ee,". Current version:",es.version," Watch version:",en.version)}),{changedDocuments:ei,existenceChangedKeys:er}})}function gh(g,$,ee){if(0===g.resumeToken.approximateByteSize())return!0;let ei=$.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds();if(ei>=f7)return!0;let er=ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size;return er>0}async function gm(g,$){let ee=nK(g);try{await ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>aF.forEach($,$=>aF.forEach($.addedKeys,ei=>ee.persistence.referenceDelegate.addReference(g,$.targetId,ei)).next(()=>aF.forEach($.removedKeys,ei=>ee.persistence.referenceDelegate.removeReference(g,$.targetId,ei)))))}catch(g){if(aH(g))nj(f8,"Failed to update sequence numbers: "+g);else throw g}for(let g of $){let $=g.targetId;if(!g.fromCache){let g=ee.targetDataByTarget.get($),ei=g.snapshotVersion,er=g.withLastLimboFreeSnapshotVersion(ei);ee.targetDataByTarget=ee.targetDataByTarget.insert($,er)}}}function gf(g,$){let ee=nK(g);return ee.persistence.runTransaction("Get next mutation batch","readonly",g=>(void 0===$&&($=oJ),ee.mutationQueue.getNextMutationBatchAfterBatchId(g,$)))}function gg(g,$){let ee=nK(g);return ee.persistence.runTransaction("read document","readonly",g=>ee.localDocuments.getDocument(g,$))}function gv(g,$){let ee=nK(g);return ee.persistence.runTransaction("Allocate target","readwrite",g=>{let ei;return ee.targetCache.getTargetData(g,$).next(er=>er?(ei=er,aF.resolve(ei)):ee.targetCache.allocateTargetId(g).next(er=>(ei=new hX($,er,"TargetPurposeListen",g.currentSequenceNumber),ee.targetCache.addTargetData(g,ei).next(()=>ei))))}).then(g=>{let ei=ee.targetDataByTarget.get(g.targetId);return(null===ei||g.snapshotVersion.compareTo(ei.snapshotVersion)>0)&&(ee.targetDataByTarget=ee.targetDataByTarget.insert(g.targetId,g),ee.targetIdByTarget.set($,g.targetId)),g})}function gy(g,$,ee){let ei=nK(g),er=ei.targetIdByTarget.get(ee);return void 0!==er?aF.resolve(ei.targetDataByTarget.get(er)):ei.targetCache.getTargetData($,ee)}async function g_(g,$,ee){let ei=nK(g),er=ei.targetDataByTarget.get($),en=ee?"readwrite":"readwrite-primary";try{ee||await ei.persistence.runTransaction("Release target",en,g=>ei.persistence.referenceDelegate.removeTarget(g,er))}catch(g){if(aH(g))nj(f8,`Failed to update sequence numbers for target ${$}: ${g}`);else throw g}ei.targetDataByTarget=ei.targetDataByTarget.remove($),ei.targetIdByTarget.delete(er.target)}function gw(g,$,ee){let ei=nK(g),er=ap.min(),en=py();return ei.persistence.runTransaction("Execute query","readwrite",g=>gy(ei,g,d$($)).next($=>{if($)return er=$.lastLimboFreeSnapshotVersion,ei.targetCache.getMatchingKeysForTargetId(g,$.targetId).next(g=>{en=g})}).next(()=>ei.queryEngine.getDocumentsMatchingQuery(g,$,ee?er:ap.min(),ee?en:py())).next(g=>(gD(ei,d7($),g),{documents:g,remoteKeys:en})))}function gS(g,$,ee,ei){let er=ee.batch,en=er.keys(),es=aF.resolve();return en.forEach(g=>{es=es.next(()=>ei.getEntry($,g)).next($=>{let en=ee.docVersions.get(g);nW(null!==en),0>$.version.compareTo(en)&&(er.applyToRemoteDocument($,ee),$.isValidDocument()&&($.setReadTime(ee.commitVersion),ei.addEntry($)))})}),es.next(()=>g.mutationQueue.removeMutationBatch($,er))}function gT(g,$){let ee=nK(g),ei=nK(ee.mutationQueue);return ee.persistence.runTransaction("Lookup mutation documents","readonly",g=>ei.lookupMutationKeys(g,$).next($=>$?ee.localDocuments.getDocuments(g,$):aF.resolve(null)))}function gC(g,$){let ee=nK(nK(g,ge).mutationQueue);ee.removeCachedMutationKeys($)}function gE(g){let $=nK(nK(g,ge).persistence);return $.getActiveClients()}function gI(g,$){let ee=nK(g),ei=nK(ee.targetCache),er=ee.targetDataByTarget.get($);return er?Promise.resolve(er.target):ee.persistence.runTransaction("Get target data","readonly",g=>ei.getTargetDataForTarget(g,$).next(g=>g?g.target:null))}function gN(g,$){let ee=nK(g),ei=ee.collectionGroupReadTime.get($)||ap.min();return ee.persistence.runTransaction("Get new document changes","readonly",g=>ee.remoteDocuments.getAllFromCollectionGroup(g,$,aR(ei,ay),Number.MAX_SAFE_INTEGER)).then(g=>(gD(ee,$,g),g))}function gD(g,$,ee){let ei=g.collectionGroupReadTime.get($)||ap.min();ee.forEach((g,$)=>{$.readTime.compareTo(ei)>0&&(ei=$.readTime)}),g.collectionGroupReadTime.set($,ei)}function gk(g){return d$(dF(am.fromString(`__bundle__/docs/${g}`)))}async function gR(g,$,ee,ei){let er=nK(g),en=py(),es=pn();for(let g of ee){let ee=$.toDocumentKey(g.metadata.name);g.document&&(en=en.add(ee));let ei=$.toMutableDocument(g);ei.setReadTime($.toSnapshotVersion(g.metadata.readTime)),es=es.insert(ee,ei)}let eo=er.remoteDocuments.newChangeBuffer({trackRemovals:!0}),ep=await gv(er,gk(ei));return er.persistence.runTransaction("Apply bundle documents","readwrite",g=>gu(g,eo,es).next($=>(eo.apply(g),$)).next($=>er.targetCache.removeMatchingKeysForTargetId(g,ep.targetId).next(()=>er.targetCache.addMatchingKeys(g,en,ep.targetId)).next(()=>er.localDocuments.getLocalViewOfDocuments(g,$.changedDocuments,$.existenceChangedKeys)).next(()=>$.changedDocuments)))}function gA(g,$){let ee=nK(g),ei=uK($.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",g=>ee.bundleCache.getBundleMetadata(g,$.id)).then(g=>!!g&&g.createTime.compareTo(ei)>=0)}function gO(g,$){let ee=nK(g);return ee.persistence.runTransaction("Save bundle","readwrite",g=>ee.bundleCache.saveBundleMetadata(g,$))}async function gx(g,$,ee=py()){let ei=await gv(g,d$(co($.bundledQuery))),er=nK(g);return er.persistence.runTransaction("Save named query","readwrite",g=>{let en=uK($.readTime);if(ei.snapshotVersion.compareTo(en)>=0)return er.bundleCache.saveNamedQuery(g,$);let es=ei.withResumeToken(oO.EMPTY_BYTE_STRING,en);return er.targetDataByTarget=er.targetDataByTarget.insert(es.targetId,es),er.targetCache.updateTargetData(g,es).next(()=>er.targetCache.removeMatchingKeysForTargetId(g,ei.targetId)).next(()=>er.targetCache.addMatchingKeys(g,ee,ei.targetId)).next(()=>er.bundleCache.saveNamedQuery(g,$))})}function gP(g,$){let ee=nK(g);ee.queryEngine.indexAutoCreationEnabled=$}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(g){this._documentReadCount+=g}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gL=100,gF=8;class gV{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=gL,this.relativeIndexReadCostPerDocument=gF}initialize(g,$){this.localDocumentsView=g,this.indexManager=$,this.initialized=!0}getDocumentsMatchingQuery(g,$,ee,ei){let er={result:null};return this.performQueryUsingIndex(g,$).next(g=>{er.result=g}).next(()=>{if(!er.result)return this.performQueryUsingRemoteKeys(g,$,ei,ee).next(g=>{er.result=g})}).next(()=>{if(er.result)return;let ee=new gM;return this.executeFullCollectionScan(g,$,ee).next(ei=>{if(er.result=ei,this.indexAutoCreationEnabled)return this.createCacheIndexes(g,$,ee,ei.size)})}).next(()=>er.result)}createCacheIndexes(g,$,ee,ei){return ee.documentReadCount<this.indexAutoCreationMinCollectionSize?(nU()<=eh.in.DEBUG&&nj("QueryEngine","SDK will not create cache indexes for query:",d6($),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),aF.resolve()):(nU()<=eh.in.DEBUG&&nj("QueryEngine","Query:",d6($),"scans",ee.documentReadCount,"local documents and returns",ei,"documents as results."),ee.documentReadCount>this.relativeIndexReadCostPerDocument*ei)?(nU()<=eh.in.DEBUG&&nj("QueryEngine","The SDK decides to create cache indexes for query:",d6($),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(g,d$($))):aF.resolve()}performQueryUsingIndex(g,$){if(dB($))return aF.resolve(null);let ee=d$($);return this.indexManager.getIndexType(g,ee).next(ei=>0===ei?null:(null!==$.limit&&1===ei&&(ee=d$($=dY($,null,"F"))),this.indexManager.getDocumentsMatchingTarget(g,ee).next(ei=>{let er=py(...ei);return this.localDocumentsView.getDocuments(g,er).next(ei=>this.indexManager.getMinOffset(g,ee).next(ee=>{let en=this.applyQuery($,ei);return this.needsRefill($,en,er,ee.readTime)?this.performQueryUsingIndex(g,dY($,null,"F")):this.appendRemainingResults(g,en,$,ee)}))})))}performQueryUsingRemoteKeys(g,$,ee,ei){return dB($)||ei.isEqual(ap.min())?aF.resolve(null):this.localDocumentsView.getDocuments(g,ee).next(er=>{let en=this.applyQuery($,er);return this.needsRefill($,en,ee,ei)?aF.resolve(null):(nU()<=eh.in.DEBUG&&nj("QueryEngine","Re-using previous result from %s to execute query: %s",ei.toString(),d6($)),this.appendRemainingResults(g,en,$,aR(ei,ay)).next(g=>g))})}applyQuery(g,$){let ee=new oE(pe(g));return $.forEach(($,ei)=>{d4(g,ei)&&(ee=ee.add(ei))}),ee}needsRefill(g,$,ee,ei){if(null===g.limit)return!1;if(ee.size!==$.size)return!0;let er="F"===g.limitType?$.last():$.first();return!!er&&(er.hasPendingWrites||er.version.compareTo(ei)>0)}executeFullCollectionScan(g,$,ee){return nU()<=eh.in.DEBUG&&nj("QueryEngine","Using full collection scan to execute query:",d6($)),this.localDocumentsView.getDocumentsMatchingQuery(g,$,aO.min(),ee)}appendRemainingResults(g,$,ee,ei){return this.localDocumentsView.getDocumentsMatchingQuery(g,ee,ei).next(g=>($.forEach($=>{g=g.insert($.key,$)}),g))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gB="firestore_clients";function gU(g,$){return`${gB}_${g}_${$}`}let gj="firestore_mutations";function gq(g,$,ee){let ei=`${gj}_${g}_${ee}`;return $.isAuthenticated()&&(ei+=`_${$.uid}`),ei}let gz="firestore_targets";function gH(g,$){return`${gz}_${g}_${$}`}let g$="firestore_online_state";function gW(g){return`${g$}_${g}`}let gK="firestore_bundle_loaded_v2";function gG(g){return`${gK}_${g}`}let gQ="firestore_sequence_number";function gY(g){return`${gQ}_${g}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gJ="SharedClientState";class gX{constructor(g,$,ee,ei){this.user=g,this.batchId=$,this.state=ee,this.error=ei}static fromWebStorageEntry(g,$,ee){let ei;let er=JSON.parse(ee),en="object"==typeof er&&-1!==["pending","acknowledged","rejected"].indexOf(er.state)&&(void 0===er.error||"object"==typeof er.error);return(en&&er.error&&(en="string"==typeof er.error.message&&"string"==typeof er.error.code)&&(ei=new nQ(er.error.code,er.error.message)),en)?new gX(g,$,er.state,ei):(nq(gJ,`Failed to parse mutation state for ID '${$}': ${ee}`),null)}toWebStorageJSON(){let g={state:this.state,updateTimeMs:Date.now()};return this.error&&(g.error={code:this.error.code,message:this.error.message}),JSON.stringify(g)}}class gZ{constructor(g,$,ee){this.targetId=g,this.state=$,this.error=ee}static fromWebStorageEntry(g,$){let ee;let ei=JSON.parse($),er="object"==typeof ei&&-1!==["not-current","current","rejected"].indexOf(ei.state)&&(void 0===ei.error||"object"==typeof ei.error);return(er&&ei.error&&(er="string"==typeof ei.error.message&&"string"==typeof ei.error.code)&&(ee=new nQ(ei.error.code,ei.error.message)),er)?new gZ(g,ei.state,ee):(nq(gJ,`Failed to parse target state for ID '${g}': ${$}`),null)}toWebStorageJSON(){let g={state:this.state,updateTimeMs:Date.now()};return this.error&&(g.error={code:this.error.code,message:this.error.message}),JSON.stringify(g)}}class g1{constructor(g,$){this.clientId=g,this.activeTargetIds=$}static fromWebStorageEntry(g,$){let ee=JSON.parse($),ei="object"==typeof ee&&ee.activeTargetIds instanceof Array,er=pS();for(let g=0;ei&&g<ee.activeTargetIds.length;++g)ei=o1(ee.activeTargetIds[g]),er=er.add(ee.activeTargetIds[g]);return ei?new g1(g,er):(nq(gJ,`Failed to parse client data for instance '${g}': ${$}`),null)}}class g0{constructor(g,$){this.clientId=g,this.onlineState=$}static fromWebStorageEntry(g){let $=JSON.parse(g),ee="object"==typeof $&&-1!==["Unknown","Online","Offline"].indexOf($.onlineState)&&"string"==typeof $.clientId;return ee?new g0($.clientId,$.onlineState):(nq(gJ,`Failed to parse online state: ${g}`),null)}}class g2{constructor(){this.activeTargetIds=pS()}addQueryTarget(g){this.activeTargetIds=this.activeTargetIds.add(g)}removeQueryTarget(g){this.activeTargetIds=this.activeTargetIds.delete(g)}toWebStorageJSON(){let g={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(g)}}class g6{constructor(g,$,ee,ei,er){this.window=g,this.queue=$,this.persistenceKey=ee,this.localClientId=ei,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new ow(ai),this.started=!1,this.earlyEvents=[];let en=ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=er,this.localClientStorageKey=gU(this.persistenceKey,this.localClientId),this.sequenceNumberKey=gY(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new g2),this.clientStateKeyRe=RegExp(`^${gB}_${en}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${gj}_${en}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${gz}_${en}_(\\d+)$`),this.onlineStateKey=gW(this.persistenceKey),this.bundleLoadedKey=gG(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(g){return!!(g&&g.localStorage)}async start(){let g=await this.syncEngine.getActiveClients();for(let $ of g){if($===this.localClientId)continue;let g=this.getItem(gU(this.persistenceKey,$));if(g){let ee=g1.fromWebStorageEntry($,g);ee&&(this.activeClients=this.activeClients.insert(ee.clientId,ee))}}this.persistClientState();let $=this.storage.getItem(this.onlineStateKey);if($){let g=this.fromWebStorageOnlineState($);g&&this.handleOnlineStateEvent(g)}for(let g of this.earlyEvents)this.handleWebStorageEvent(g);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(g){this.setItem(this.sequenceNumberKey,JSON.stringify(g))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(g){let $=!1;return this.activeClients.forEach((ee,ei)=>{ei.activeTargetIds.has(g)&&($=!0)}),$}addPendingMutation(g){this.persistMutationState(g,"pending")}updateMutationState(g,$,ee){this.persistMutationState(g,$,ee),this.removeMutationState(g)}addLocalQueryTarget(g){let $="not-current";if(this.isActiveQueryTarget(g)){let ee=this.storage.getItem(gH(this.persistenceKey,g));if(ee){let ei=gZ.fromWebStorageEntry(g,ee);ei&&($=ei.state)}}return this.localClientState.addQueryTarget(g),this.persistClientState(),$}removeLocalQueryTarget(g){this.localClientState.removeQueryTarget(g),this.persistClientState()}isLocalQueryTarget(g){return this.localClientState.activeTargetIds.has(g)}clearQueryState(g){this.removeItem(gH(this.persistenceKey,g))}updateQueryState(g,$,ee){this.persistQueryTargetState(g,$,ee)}handleUserChange(g,$,ee){$.forEach(g=>{this.removeMutationState(g)}),this.currentUser=g,ee.forEach(g=>{this.addPendingMutation(g)})}setOnlineState(g){this.persistOnlineState(g)}notifyBundleLoaded(g){this.persistBundleLoadedState(g)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(g){let $=this.storage.getItem(g);return nj(gJ,"READ",g,$),$}setItem(g,$){nj(gJ,"SET",g,$),this.storage.setItem(g,$)}removeItem(g){nj(gJ,"REMOVE",g),this.storage.removeItem(g)}handleWebStorageEvent(g){let $=g;if($.storageArea===this.storage){if(nj(gJ,"EVENT",$.key,$.newValue),$.key===this.localClientStorageKey){nq("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push($);return}if(null!==$.key){if(this.clientStateKeyRe.test($.key)){if(null!=$.newValue){let g=this.fromWebStorageClientState($.key,$.newValue);if(g)return this.handleClientStateEvent(g.clientId,g)}else{let g=this.fromWebStorageClientStateKey($.key);return this.handleClientStateEvent(g,null)}}else if(this.mutationBatchKeyRe.test($.key)){if(null!==$.newValue){let g=this.fromWebStorageMutationMetadata($.key,$.newValue);if(g)return this.handleMutationBatchEvent(g)}}else if(this.queryTargetKeyRe.test($.key)){if(null!==$.newValue){let g=this.fromWebStorageQueryTargetMetadata($.key,$.newValue);if(g)return this.handleQueryTargetEvent(g)}}else if($.key===this.onlineStateKey){if(null!==$.newValue){let g=this.fromWebStorageOnlineState($.newValue);if(g)return this.handleOnlineStateEvent(g)}}else if($.key===this.sequenceNumberKey){let g=g4($.newValue);g!==a0.INVALID&&this.sequenceNumberHandler(g)}else if($.key===this.bundleLoadedKey){let g=this.fromWebStoreBundleLoadedState($.newValue);await Promise.all(g.map(g=>this.syncEngine.synchronizeWithChangedDocuments(g)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(g,$,ee){let ei=new gX(this.currentUser,g,$,ee),er=gq(this.persistenceKey,this.currentUser,g);this.setItem(er,ei.toWebStorageJSON())}removeMutationState(g){let $=gq(this.persistenceKey,this.currentUser,g);this.removeItem($)}persistOnlineState(g){let $={clientId:this.localClientId,onlineState:g};this.storage.setItem(this.onlineStateKey,JSON.stringify($))}persistQueryTargetState(g,$,ee){let ei=gH(this.persistenceKey,g),er=new gZ(g,$,ee);this.setItem(ei,er.toWebStorageJSON())}persistBundleLoadedState(g){let $=JSON.stringify(Array.from(g));this.setItem(this.bundleLoadedKey,$)}fromWebStorageClientStateKey(g){let $=this.clientStateKeyRe.exec(g);return $?$[1]:null}fromWebStorageClientState(g,$){let ee=this.fromWebStorageClientStateKey(g);return g1.fromWebStorageEntry(ee,$)}fromWebStorageMutationMetadata(g,$){let ee=this.mutationBatchKeyRe.exec(g),ei=Number(ee[1]),er=void 0!==ee[2]?ee[2]:null;return gX.fromWebStorageEntry(new nP(er),ei,$)}fromWebStorageQueryTargetMetadata(g,$){let ee=this.queryTargetKeyRe.exec(g),ei=Number(ee[1]);return gZ.fromWebStorageEntry(ei,$)}fromWebStorageOnlineState(g){return g0.fromWebStorageEntry(g)}fromWebStoreBundleLoadedState(g){return JSON.parse(g)}async handleMutationBatchEvent(g){if(g.user.uid!==this.currentUser.uid){nj(gJ,`Ignoring mutation for non-active user ${g.user.uid}`);return}return this.syncEngine.applyBatchState(g.batchId,g.state,g.error)}handleQueryTargetEvent(g){return this.syncEngine.applyTargetState(g.targetId,g.state,g.error)}handleClientStateEvent(g,$){let ee=$?this.activeClients.insert(g,$):this.activeClients.remove(g),ei=this.extractActiveQueryTargets(this.activeClients),er=this.extractActiveQueryTargets(ee),en=[],es=[];return er.forEach(g=>{ei.has(g)||en.push(g)}),ei.forEach(g=>{er.has(g)||es.push(g)}),this.syncEngine.applyActiveTargetsChange(en,es).then(()=>{this.activeClients=ee})}handleOnlineStateEvent(g){this.activeClients.get(g.clientId)&&this.onlineStateHandler(g.onlineState)}extractActiveQueryTargets(g){let $=pS();return g.forEach((g,ee)=>{$=$.unionWith(ee.activeTargetIds)}),$}}function g4(g){let $=a0.INVALID;if(null!=g)try{let ee=JSON.parse(g);nW("number"==typeof ee),$=ee}catch(g){nq(gJ,"Failed to read sequence number from WebStorage",g)}return $}class g3{constructor(){this.localState=new g2,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(g){}updateMutationState(g,$,ee){}addLocalQueryTarget(g){return this.localState.addQueryTarget(g),this.queryState[g]||"not-current"}updateQueryState(g,$,ee){this.queryState[g]=$}removeLocalQueryTarget(g){this.localState.removeQueryTarget(g)}isLocalQueryTarget(g){return this.localState.activeTargetIds.has(g)}clearQueryState(g){delete this.queryState[g]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(g){return this.localState.activeTargetIds.has(g)}start(){return this.localState=new g2,Promise.resolve()}handleUserChange(g,$,ee){}setOnlineState(g){}shutdown(){}writeSequenceNumber(g){}notifyBundleLoaded(g){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{addCallback(g){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(g){this.sendFn=g.sendFn,this.closeFn=g.closeFn}onOpen(g){this.wrappedOnOpen=g}onClose(g){this.wrappedOnClose=g}onMessage(g){this.wrappedOnMessage=g}close(){this.closeFn()}send(g){this.sendFn(g)}callOnOpen(){this.wrappedOnOpen()}callOnClose(g){this.wrappedOnClose(g)}callOnMessage(g){this.wrappedOnMessage(g)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g8=null;function g7(){let g=268435456,$=2415919104,ee=$-g,ei=Math.round(ee*Math.random());return g+ei}function ve(){return null===g8?g8=g7():g8++,"0x"+g8.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(g){return new Promise(($,ee)=>{g((g,ei)=>{g?ee(g):$(ei)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi="1.9.1",vr="GrpcConnection",vn=`gl-node/${process.versions.node} fire/${nL} grpc/${vi}`;function vs(g,$,ee,ei){nW(null===$||"OAuth"===$.type);let er=new nR.SF;return $&&$.headers.forEach((g,$)=>er.set($,g)),ee&&ee.headers.forEach((g,$)=>er.set($,g)),ei&&er.set("X-Firebase-GMPID",ei),er.set("X-Goog-Api-Client",vn),er.set("Google-Cloud-Resource-Prefix",g),er.set("x-goog-request-params",g),er}class vo{constructor(g,$){this.databaseInfo=$,this.cachedStub=null,this.firestore=g.google.firestore.v1,this.databasePath=`projects/${$.databaseId.projectId}/databases/${$.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){nj(vr,"Creating Firestore stub.");let g=this.databaseInfo.ssl?nR.K9.createSsl():nR.K9.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,g)}return this.cachedStub}invokeRPC(g,$,ee,ei,er){let en=ve(),es=this.ensureActiveStub(),eo=vs(this.databasePath,ei,er,this.databaseInfo.appId),ep=Object.assign({database:this.databasePath},ee);return vt($=>(nj(vr,`RPC '${g}' ${en} invoked with request:`,ee),es[g](ep,eo,(ee,ei)=>{ee?(nj(vr,`RPC '${g}' ${en} failed with error:`,ee),$(new nQ(uh(ee.code),ee.message))):(nj(vr,`RPC '${g}' ${en} completed with response:`,ei),$(void 0,ei))})))}invokeStreamingRPC(g,$,ee,ei,er,en){let es=ve(),eo=[],ep=new nY;nj(vr,`RPC '${g}' ${es} invoked (streaming) with request:`,ee);let eu=this.ensureActiveStub(),eh=vs(this.databasePath,ei,er,this.databaseInfo.appId),em=Object.assign(Object.assign({},ee),{database:this.databasePath}),ef=eu[g](em,eh),eg=!1;return ef.on("data",$=>{nj(vr,`RPC ${g} ${es} received result:`,$),eo.push($),void 0!==en&&eo.length===en&&(eg=!0,ep.resolve(eo))}),ef.on("end",()=>{nj(vr,`RPC '${g}' ${es} completed.`),eg||(eg=!0,ep.resolve(eo))}),ef.on("error",$=>{nj(vr,`RPC '${g}' ${es} failed with error:`,$);let ee=uh($.code);ep.reject(new nQ(ee,$.message))}),ep.promise}openStream(g,$,ee){let ei=ve(),er=this.ensureActiveStub(),en=vs(this.databasePath,$,ee,this.databaseInfo.appId),es=er[g](en),eo=!1,ep=g=>{eo||(eo=!0,eu.callOnClose(g),es.end())},eu=new g5({sendFn:$=>{if(eo)nj(vr,`RPC '${g}' stream ${ei} not sending because gRPC stream is closed:`,$);else{nj(vr,`RPC '${g}' stream ${ei} sending:`,$);try{es.write($)}catch(g){throw nq("Failure sending:",$),nq("Error:",g),g}}},closeFn:()=>{nj(vr,`RPC '${g}' stream ${ei} closed locally via close().`),ep()}});return es.on("data",$=>{eo||(nj(vr,`RPC '${g}' stream ${ei} received:`,$),eu.callOnMessage($))}),es.on("end",()=>{nj(vr,`RPC '${g}' stream ${ei} ended.`),ep()}),es.on("error",$=>{if(!eo){nz(vr,`RPC '${g}' stream ${ei} error. Code:`,$.code,"Message:",$.message);let ee=uh($.code);ep(new nQ(ee,$.message))}}),nj(vr,`Opening RPC '${g}' stream ${ei} to ${this.databaseInfo.host}`),setTimeout(()=>{eu.callOnOpen()},0),eu}}let vl={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var vp={nested:vl},vu=Object.freeze({__proto__:null,nested:vl,default:vp});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={longs:String,enums:String,defaults:!0,oneofs:!1};function vm(){let g=nA.im(vu,vh);return nR.Rz(g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(g){let $=vm();return new vo($,g)}function vg(){return new g9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function vy(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(g){return new uV(g,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vw="ExponentialBackoff",vS=1e3,vT=1.5,vC=6e4;class vE{constructor(g,$,ee=vS,ei=vT,er=vC){this.queue=g,this.timerId=$,this.initialDelayMs=ee,this.backoffFactor=ei,this.maxDelayMs=er,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(g){this.cancel();let $=Math.floor(this.currentBaseMs+this.jitterDelayMs()),ee=Math.max(0,Date.now()-this.lastAttemptTime),ei=Math.max(0,$-ee);ei>0&&nj(vw,`Backing off for ${ei} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${$} ms, last attempt: ${ee} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,ei,()=>(this.lastAttemptTime=Date.now(),g())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vI="PersistentStream",vN=6e4,vD=1e4;class vk{constructor(g,$,ee,ei,er,en,es,eo){this.queue=g,this.idleTimerId=ee,this.healthTimerId=ei,this.connection=er,this.authCredentialsProvider=en,this.appCheckCredentialsProvider=es,this.listener=eo,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new vE(g,$)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,vN,()=>this.handleIdleCloseTimer()))}sendRequest(g){this.cancelIdleCheck(),this.stream.send(g)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(g,$){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==g?this.backoff.reset():$&&$.code===nG.RESOURCE_EXHAUSTED?(nq($.toString()),nq("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):$&&$.code===nG.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=g,await this.listener.onClose($)}tearDown(){}auth(){this.state=1;let g=this.getCloseGuardedDispatcher(this.closeCount),$=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([g,ee])=>{this.closeCount===$&&this.startStream(g,ee)},$=>{g(()=>{let g=new nQ(nG.UNKNOWN,"Fetching auth token failed: "+$.message);return this.handleStreamClose(g)})})}startStream(g,$){let ee=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(g,$),this.stream.onOpen(()=>{ee(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,vD,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(g=>{ee(()=>this.handleStreamClose(g))}),this.stream.onMessage(g=>{ee(()=>this.onMessage(g))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(g){return nj(vI,`close with error: ${g}`),this.stream=null,this.close(4,g)}getCloseGuardedDispatcher(g){return $=>{this.queue.enqueueAndForget(()=>this.closeCount===g?$():(nj(vI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vR extends null{constructor(g,$,ee,ei,er,en){super(g,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",$,ee,ei,en),this.serializer=er}startRpc(g,$){return this.connection.openStream("Listen",g,$)}onMessage(g){this.backoff.reset();let $=u7(this.serializer,g),ee=ht(g);return this.listener.onWatchChange($,ee)}watch(g){let $={};$.database=u1(this.serializer),$.addTarget=hT(this.serializer,g);let ee=hw(this.serializer,g);ee&&($.labels=ee),this.sendRequest($)}unwatch(g){let $={};$.database=u1(this.serializer),$.removeTarget=g,this.sendRequest($)}}class vA extends vk{constructor(g,$,ee,ei,er,en){super(g,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",$,ee,ei,en),this.serializer=er,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(g,$){return this.connection.openStream("Write",g,$)}onMessage(g){if(nW(!!g.streamToken),this.lastStreamToken=g.streamToken,!this.handshakeComplete_)return nW(!g.writeResults||0===g.writeResults.length),this.handshakeComplete_=!0,this.listener.onHandshakeComplete();{this.backoff.reset();let $=hp(g.writeResults,g.commitTime),ee=uK(g.commitTime);return this.listener.onMutationResult(ee,$)}}writeHandshake(){let g={};g.database=u1(this.serializer),this.sendRequest(g)}writeMutations(g){let $={streamToken:this.lastStreamToken,writes:g.map(g=>hr(this.serializer,g))};this.sendRequest($)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{}class vx extends vO{constructor(g,$,ee,ei){super(),this.authCredentials=g,this.appCheckCredentials=$,this.connection=ee,this.serializer=ei,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new nQ(nG.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(g,$,ee){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ei,er])=>this.connection.invokeRPC(g,$,ee,ei,er)).catch(g=>{if("FirebaseError"===g.name)throw g.code===nG.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g;throw new nQ(nG.UNKNOWN,g.toString())})}invokeStreamingRPC(g,$,ee,ei){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([er,en])=>this.connection.invokeStreamingRPC(g,$,ee,er,en,ei)).catch(g=>{if("FirebaseError"===g.name)throw g.code===nG.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g;throw new nQ(nG.UNKNOWN,g.toString())})}terminate(){this.terminated=!0}}function vP(g,$,ee,ei){return new vx(g,$,ee,ei)}async function vM(g,$){let ee=nK(g),ei=u1(ee.serializer)+"/documents",er={writes:$.map(g=>hr(ee.serializer,g))};await ee.invokeRPC("Commit",ei,er)}async function vL(g,$){let ee=nK(g),ei=u1(ee.serializer)+"/documents",er={documents:$.map(g=>uY(ee.serializer,g))},en=await ee.invokeStreamingRPC("BatchGetDocuments",ei,er,$.length),es=new Map;en.forEach(g=>{let $=u8(ee.serializer,g);es.set($.key.toString(),$)});let eo=[];return $.forEach(g=>{let $=es.get(g.toString());nW(!!$),eo.push($)}),eo}async function vF(g,$,ee){var ei;let er=nK(g),{request:en,aliasMap:es}=hv(er.serializer,dW($),ee),eo=en.parent;er.connection.shouldResourcePathBeIncludedInRequest||delete en.parent;let ep=await er.invokeStreamingRPC("RunAggregationQuery",eo,en,1),eu=ep.filter(g=>!!g.result);nW(1===eu.length);let eh=null===(ei=eu[0].result)||void 0===ei?void 0:ei.aggregateFields,em=Object.keys(eh).reduce((g,$)=>(g[es[$]]=eh[$],g),{});return em}function vV(g,$,ee){let ei=nK(g);return ei.verifyInitialized(),new vA($,ei.connection,ei.authCredentials,ei.appCheckCredentials,ei.serializer,ee)}function vB(g,$,ee){let ei=nK(g);return ei.verifyInitialized(),new vR($,ei.connection,ei.authCredentials,ei.appCheckCredentials,ei.serializer,ee)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vU="OnlineStateTracker",vj=1,vq=1e4;class vz{constructor(g,$){this.asyncQueue=g,this.onlineStateHandler=$,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",vq,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${vq/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(g){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=vj&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${vj} times. Most recent error: ${g.toString()}`),this.setAndBroadcast("Offline")))}set(g){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===g&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(g)}setAndBroadcast(g){g!==this.state&&(this.state=g,this.onlineStateHandler(g))}logClientOfflineWarningIfNecessary(g){let $=`Could not reach Cloud Firestore backend. ${g}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(nq($),this.shouldWarnClientIsOffline=!1):nj(vU,$)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vH="RemoteStore",v$=10;class vW{constructor(g,$,ee,ei,er){this.localStore=g,this.datastore=$,this.asyncQueue=ee,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=er,this.connectivityMonitor.addCallback(g=>{ee.enqueueAndForget(async()=>{v3(this)&&(nj(vH,"Restarting streams for network reachability change."),await yv(this))})}),this.onlineStateTracker=new vz(ee,ei)}}function vK(g,$,ee,ei,er){return new vW(g,$,ee,ei,er)}async function vG(g){if(v3(g))for(let $ of g.onNetworkStatusChange)await $(!0)}async function vQ(g){for(let $ of g.onNetworkStatusChange)await $(!1)}async function vY(g){let $=nK(g);nj(vH,"RemoteStore shutting down."),$.offlineCauses.add(5),await vQ($),$.connectivityMonitor.shutdown(),$.onlineStateTracker.set("Unknown")}function vJ(g,$){let ee=nK(g);!ee.listenTargets.has($.targetId)&&(ee.listenTargets.set($.targetId,$),v4(ee)?v6(ee):yw(ee).isOpen()&&vZ(ee,$))}function vX(g,$){let ee=nK(g),ei=yw(ee);ee.listenTargets.delete($),ei.isOpen()&&v0(ee,$),0===ee.listenTargets.size&&(ei.isOpen()?ei.markIdle():v3(ee)&&ee.onlineStateTracker.set("Unknown"))}function vZ(g,$){if(g.watchChangeAggregator.recordPendingTargetRequest($.targetId),$.resumeToken.approximateByteSize()>0||$.snapshotVersion.compareTo(ap.min())>0){let ee=g.remoteSyncer.getRemoteKeysForTarget($.targetId).size;$=$.withExpectedCount(ee)}yw(g).watch($)}function v0(g,$){g.watchChangeAggregator.recordPendingTargetRequest($),yw(g).unwatch($)}function v6(g){g.watchChangeAggregator=new uA({getRemoteKeysForTarget:$=>g.remoteSyncer.getRemoteKeysForTarget($),getTargetDataForTarget:$=>g.listenTargets.get($)||null,getDatabaseId:()=>g.datastore.serializer.databaseId}),yw(g).start(),g.onlineStateTracker.handleWatchStreamStart()}function v4(g){return v3(g)&&!yw(g).isStarted()&&g.listenTargets.size>0}function v3(g){let $=nK(g);return 0===$.offlineCauses.size}function v9(g){g.watchChangeAggregator=void 0}async function v5(g){g.listenTargets.forEach(($,ee)=>{vZ(g,$)})}async function v8(g,$){v9(g),v4(g)?(g.onlineStateTracker.handleWatchStreamFailure($),v6(g)):g.onlineStateTracker.set("Unknown")}async function v7(g,$,ee){if(g.onlineStateTracker.set("Online"),$ instanceof uD&&2===$.state&&$.cause){try{await yr(g,$)}catch(ee){nj(vH,"Failed to remove targets %s: %s ",$.targetIds.join(","),ee),await ye(g,ee)}return}if($ instanceof uI?g.watchChangeAggregator.handleDocumentChange($):$ instanceof uN?g.watchChangeAggregator.handleExistenceFilter($):g.watchChangeAggregator.handleTargetChange($),!ee.isEqual(ap.min()))try{let $=await gl(g.localStore);ee.compareTo($)>=0&&await yi(g,ee)}catch($){nj(vH,"Failed to raise snapshot:",$),await ye(g,$)}}async function ye(g,$,ee){if(aH($))g.offlineCauses.add(1),await vQ(g),g.onlineStateTracker.set("Offline"),ee||(ee=()=>gl(g.localStore)),g.asyncQueue.enqueueRetryable(async()=>{nj(vH,"Retrying IndexedDB access"),await ee(),g.offlineCauses.delete(1),await vG(g)});else throw $}function yt(g,$){return $().catch(ee=>ye(g,ee,$))}function yi(g,$){let ee=g.watchChangeAggregator.createRemoteEvent($);return ee.targetChanges.forEach((ee,ei)=>{if(ee.resumeToken.approximateByteSize()>0){let er=g.listenTargets.get(ei);er&&g.listenTargets.set(ei,er.withResumeToken(ee.resumeToken,$))}}),ee.targetMismatches.forEach(($,ee)=>{let ei=g.listenTargets.get($);if(!ei)return;g.listenTargets.set($,ei.withResumeToken(oO.EMPTY_BYTE_STRING,ei.snapshotVersion)),v0(g,$);let er=new hX(ei.target,$,ee,ei.sequenceNumber);vZ(g,er)}),g.remoteSyncer.applyRemoteEvent(ee)}async function yr(g,$){let ee=$.cause;for(let ei of $.targetIds)g.listenTargets.has(ei)&&(await g.remoteSyncer.rejectListen(ei,ee),g.listenTargets.delete(ei),g.watchChangeAggregator.removeTarget(ei))}async function yn(g){let $=nK(g),ee=yS($),ei=$.writePipeline.length>0?$.writePipeline[$.writePipeline.length-1].batchId:oJ;for(;ys($);)try{let g=await gf($.localStore,ei);if(null===g){0===$.writePipeline.length&&ee.markIdle();break}ei=g.batchId,yo($,g)}catch(g){await ye($,g)}yl($)&&yp($)}function ys(g){return v3(g)&&g.writePipeline.length<v$}function yo(g,$){g.writePipeline.push($);let ee=yS(g);ee.isOpen()&&ee.handshakeComplete&&ee.writeMutations($.mutations)}function yl(g){return v3(g)&&!yS(g).isStarted()&&g.writePipeline.length>0}function yp(g){yS(g).start()}async function yu(g){yS(g).writeHandshake()}async function yh(g){let $=yS(g);for(let ee of g.writePipeline)$.writeMutations(ee.mutations)}async function ym(g,$,ee){let ei=g.writePipeline.shift(),er=us.from(ei,$,ee);await yt(g,()=>g.remoteSyncer.applySuccessfulWrite(er)),await yn(g)}async function yf(g,$){$&&yS(g).handshakeComplete&&await yg(g,$),yl(g)&&yp(g)}async function yg(g,$){if(uu($.code)){let ee=g.writePipeline.shift();yS(g).inhibitBackoff(),await yt(g,()=>g.remoteSyncer.rejectFailedWrite(ee.batchId,$)),await yn(g)}}async function yv(g){let $=nK(g);$.offlineCauses.add(4),await vQ($),$.onlineStateTracker.set("Unknown"),$.offlineCauses.delete(4),await vG($)}async function yy(g,$){let ee=nK(g);ee.asyncQueue.verifyOperationInProgress(),nj(vH,"RemoteStore received new credentials");let ei=v3(ee);ee.offlineCauses.add(3),await vQ(ee),ei&&ee.onlineStateTracker.set("Unknown"),await ee.remoteSyncer.handleCredentialChange($),ee.offlineCauses.delete(3),await vG(ee)}async function y_(g,$){let ee=nK(g);$?(ee.offlineCauses.delete(2),await vG(ee)):$||(ee.offlineCauses.add(2),await vQ(ee),ee.onlineStateTracker.set("Unknown"))}function yw(g){return g.watchStream||(g.watchStream=vB(g.datastore,g.asyncQueue,{onOpen:v5.bind(null,g),onClose:v8.bind(null,g),onWatchChange:v7.bind(null,g)}),g.onNetworkStatusChange.push(async $=>{$?(g.watchStream.inhibitBackoff(),v4(g)?v6(g):g.onlineStateTracker.set("Unknown")):(await g.watchStream.stop(),v9(g))})),g.watchStream}function yS(g){return g.writeStream||(g.writeStream=vV(g.datastore,g.asyncQueue,{onOpen:yu.bind(null,g),onClose:yf.bind(null,g),onHandshakeComplete:yh.bind(null,g),onMutationResult:ym.bind(null,g)}),g.onNetworkStatusChange.push(async $=>{$?(g.writeStream.inhibitBackoff(),await yn(g)):(await g.writeStream.stop(),g.writePipeline.length>0&&(nj(vH,`Stopping write stream with ${g.writePipeline.length} pending writes`),g.writePipeline=[]))})),g.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yT="AsyncQueue";class yC{constructor(g,$,ee,ei,er){this.asyncQueue=g,this.timerId=$,this.targetTimeMs=ee,this.op=ei,this.removalCallback=er,this.deferred=new nY,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(g,$,ee,ei,er){let en=Date.now()+ee,es=new yC(g,$,en,ei,er);return es.start(ee),es}start(g){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),g)}skipDelay(){return this.handleDelayElapsed()}cancel(g){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nQ(nG.CANCELLED,"Operation cancelled"+(g?": "+g:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(g=>this.deferred.resolve(g))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yE(g,$){if(nq(yT,`${$}: ${g}`),aH(g))return new nQ(nG.UNAVAILABLE,`${$}: ${g}`);throw g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(g){g?this.comparator=($,ee)=>g($,ee)||av.comparator($.key,ee.key):this.comparator=(g,$)=>av.comparator(g.key,$.key),this.keyedMap=po(),this.sortedSet=new ow(this.comparator)}static emptySet(g){return new yI(g.comparator)}has(g){return null!=this.keyedMap.get(g)}get(g){return this.keyedMap.get(g)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(g){let $=this.keyedMap.get(g);return $?this.sortedSet.indexOf($):-1}get size(){return this.sortedSet.size}forEach(g){this.sortedSet.inorderTraversal(($,ee)=>(g($),!1))}add(g){let $=this.delete(g.key);return $.copy($.keyedMap.insert(g.key,g),$.sortedSet.insert(g,null))}delete(g){let $=this.get(g);return $?this.copy(this.keyedMap.remove(g),this.sortedSet.remove($)):this}isEqual(g){if(!(g instanceof yI)||this.size!==g.size)return!1;let $=this.sortedSet.getIterator(),ee=g.sortedSet.getIterator();for(;$.hasNext();){let g=$.getNext().key,ei=ee.getNext().key;if(!g.isEqual(ei))return!1}return!0}toString(){let g=[];return(this.forEach($=>{g.push($.toString())}),0===g.length)?"DocumentSet ()":"DocumentSet (\n  "+g.join("  \n")+"\n)"}copy(g,$){let ee=new yI;return ee.comparator=this.comparator,ee.keyedMap=g,ee.sortedSet=$,ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changeMap=new ow(av.comparator)}track(g){let $=g.doc.key,ee=this.changeMap.get($);if(!ee){this.changeMap=this.changeMap.insert($,g);return}0!==g.type&&3===ee.type?this.changeMap=this.changeMap.insert($,g):3===g.type&&1!==ee.type?this.changeMap=this.changeMap.insert($,{type:ee.type,doc:g.doc}):2===g.type&&2===ee.type?this.changeMap=this.changeMap.insert($,{type:2,doc:g.doc}):2===g.type&&0===ee.type?this.changeMap=this.changeMap.insert($,{type:0,doc:g.doc}):1===g.type&&0===ee.type?this.changeMap=this.changeMap.remove($):1===g.type&&2===ee.type?this.changeMap=this.changeMap.insert($,{type:1,doc:ee.doc}):0===g.type&&1===ee.type?this.changeMap=this.changeMap.insert($,{type:2,doc:g.doc}):n$()}getChanges(){let g=[];return this.changeMap.inorderTraversal(($,ee)=>{g.push(ee)}),g}}class yD{constructor(g,$,ee,ei,er,en,es,eo,ep){this.query=g,this.docs=$,this.oldDocs=ee,this.docChanges=ei,this.mutatedKeys=er,this.fromCache=en,this.syncStateChanged=es,this.excludesMetadataChanges=eo,this.hasCachedResults=ep}static fromInitialDocuments(g,$,ee,ei,er){let en=[];return $.forEach(g=>{en.push({type:0,doc:g})}),new yD(g,$,yI.emptySet($),en,ee,ei,!0,!1,er)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(g){if(this.fromCache!==g.fromCache||this.hasCachedResults!==g.hasCachedResults||this.syncStateChanged!==g.syncStateChanged||!this.mutatedKeys.isEqual(g.mutatedKeys)||!dZ(this.query,g.query)||!this.docs.isEqual(g.docs)||!this.oldDocs.isEqual(g.oldDocs))return!1;let $=this.docChanges,ee=g.docChanges;if($.length!==ee.length)return!1;for(let g=0;g<$.length;g++)if($[g].type!==ee[g].type||!$[g].doc.isEqual(ee[g].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.viewSnap=void 0,this.listeners=[]}}function yR(){return new yA}class yA{constructor(){this.queries=new pi(g=>d0(g),dZ),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}}async function yO(g,$){let ee=nK(g),ei=$.query,er=!1,en=ee.queries.get(ei);if(en||(er=!0,en=new yk),er)try{en.viewSnap=await ee.onListen(ei)}catch(ee){let g=yE(ee,`Initialization of query '${d6($.query)}' failed`);$.onError(g);return}if(ee.queries.set(ei,en),en.listeners.push($),$.applyOnlineStateChange(ee.onlineState),en.viewSnap){let g=$.onViewSnapshot(en.viewSnap);g&&yF(ee)}}async function yx(g,$){let ee=nK(g),ei=$.query,er=!1,en=ee.queries.get(ei);if(en){let g=en.listeners.indexOf($);g>=0&&(en.listeners.splice(g,1),er=0===en.listeners.length)}if(er)return ee.queries.delete(ei),ee.onUnlisten(ei)}function yP(g,$){let ee=nK(g),ei=!1;for(let g of $){let $=g.query,er=ee.queries.get($);if(er){for(let $ of er.listeners)$.onViewSnapshot(g)&&(ei=!0);er.viewSnap=g}}ei&&yF(ee)}function yM(g,$,ee){let ei=nK(g),er=ei.queries.get($);if(er)for(let g of er.listeners)g.onError(ee);ei.queries.delete($)}function yL(g,$){let ee=nK(g);ee.onlineState=$;let ei=!1;ee.queries.forEach((g,ee)=>{for(let g of ee.listeners)g.applyOnlineStateChange($)&&(ei=!0)}),ei&&yF(ee)}function yF(g){g.snapshotsInSyncListeners.forEach(g=>{g.next()})}class yV{constructor(g,$,ee){this.query=g,this.queryObserver=$,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=ee||{}}onViewSnapshot(g){if(!this.options.includeMetadataChanges){let $=[];for(let ee of g.docChanges)3!==ee.type&&$.push(ee);g=new yD(g.query,g.docs,g.oldDocs,$,g.mutatedKeys,g.fromCache,g.syncStateChanged,!0,g.hasCachedResults)}let $=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(g)&&(this.queryObserver.next(g),$=!0):this.shouldRaiseInitialEvent(g,this.onlineState)&&(this.raiseInitialEvent(g),$=!0),this.snap=g,$}onError(g){this.queryObserver.error(g)}applyOnlineStateChange(g){this.onlineState=g;let $=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,g)&&(this.raiseInitialEvent(this.snap),$=!0),$}shouldRaiseInitialEvent(g,$){if(!g.fromCache)return!0;let ee="Offline"!==$;return(!this.options.waitForSyncWhenOnline||!ee)&&(!g.docs.isEmpty()||g.hasCachedResults||"Offline"===$)}shouldRaiseEvent(g){if(g.docChanges.length>0)return!0;let $=this.snap&&this.snap.hasPendingWrites!==g.hasPendingWrites;return(!!g.syncStateChanged||!!$)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(g){g=yD.fromInitialDocuments(g.query,g.docs,g.mutatedKeys,g.fromCache,g.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(g)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(g,$,ee,ei){this.targetId=g,this.fromCache=$,this.addedKeys=ee,this.removedKeys=ei}static fromSnapshot(g,$){let ee=py(),ei=py();for(let g of $.docChanges)switch(g.type){case 0:ee=ee.add(g.doc.key);break;case 1:ei=ei.add(g.doc.key)}return new yB(g,$.fromCache,ee,ei)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(g){this.serializer=g}toDocumentKey(g){return uJ(this.serializer,g)}toMutableDocument(g){return g.metadata.exists?u3(this.serializer,g.document,!1):lH.newNoDocument(this.toDocumentKey(g.metadata.name),this.toSnapshotVersion(g.metadata.readTime))}toSnapshotVersion(g){return uK(g)}}class yj{constructor(g,$,ee){this.bundleMetadata=g,this.localStore=$,this.serializer=ee,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yq(g)}addSizedElement(g){this.progress.bytesLoaded+=g.byteLength;let $=this.progress.documentsLoaded;if(g.payload.namedQuery)this.queries.push(g.payload.namedQuery);else if(g.payload.documentMetadata){this.documents.push({metadata:g.payload.documentMetadata}),!g.payload.documentMetadata.exists&&++$;let ee=am.fromString(g.payload.documentMetadata.name);this.collectionGroups.add(ee.get(ee.length-2))}else g.payload.document&&(this.documents[this.documents.length-1].document=g.payload.document,++$);return $!==this.progress.documentsLoaded?(this.progress.documentsLoaded=$,Object.assign({},this.progress)):null}getQueryDocumentMapping(g){let $=new Map,ee=new yU(this.serializer);for(let ei of g)if(ei.metadata.queries){let g=ee.toDocumentKey(ei.metadata.name);for(let ee of ei.metadata.queries){let ei=($.get(ee)||py()).add(g);$.set(ee,ei)}}return $}async complete(){let g=await gR(this.localStore,new yU(this.serializer),this.documents,this.bundleMetadata.id),$=this.getQueryDocumentMapping(this.documents);for(let g of this.queries)await gx(this.localStore,g,$.get(g.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:g}}}function yq(g){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}function yz(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(g){this.key=g}}class y${constructor(g){this.key=g}}class yW{constructor(g,$){this.query=g,this._syncedDocuments=$,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=py(),this.mutatedKeys=py(),this.docComparator=pe(g),this.documentSet=new yI(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(g,$){let ee=$?$.changeSet:new yN,ei=$?$.documentSet:this.documentSet,er=$?$.mutatedKeys:this.mutatedKeys,en=ei,es=!1,eo="F"===this.query.limitType&&ei.size===this.query.limit?ei.last():null,ep="L"===this.query.limitType&&ei.size===this.query.limit?ei.first():null;if(g.inorderTraversal((g,$)=>{let eu=ei.get(g),eh=d4(this.query,$)?$:null,em=!!eu&&this.mutatedKeys.has(eu.key),ef=!!eh&&(eh.hasLocalMutations||this.mutatedKeys.has(eh.key)&&eh.hasCommittedMutations),eg=!1;if(eu&&eh){let g=eu.data.isEqual(eh.data);g?em!==ef&&(ee.track({type:3,doc:eh}),eg=!0):!this.shouldWaitForSyncedDocument(eu,eh)&&(ee.track({type:2,doc:eh}),eg=!0,(eo&&this.docComparator(eh,eo)>0||ep&&0>this.docComparator(eh,ep))&&(es=!0))}else!eu&&eh?(ee.track({type:0,doc:eh}),eg=!0):eu&&!eh&&(ee.track({type:1,doc:eu}),eg=!0,(eo||ep)&&(es=!0));eg&&(eh?(en=en.add(eh),er=ef?er.add(g):er.delete(g)):(en=en.delete(g),er=er.delete(g)))}),null!==this.query.limit)for(;en.size>this.query.limit;){let g="F"===this.query.limitType?en.last():en.first();en=en.delete(g.key),er=er.delete(g.key),ee.track({type:1,doc:g})}return{documentSet:en,changeSet:ee,needsRefill:es,mutatedKeys:er}}shouldWaitForSyncedDocument(g,$){return g.hasLocalMutations&&$.hasCommittedMutations&&!$.hasLocalMutations}applyChanges(g,$,ee){let ei=this.documentSet;this.documentSet=g.documentSet,this.mutatedKeys=g.mutatedKeys;let er=g.changeSet.getChanges();er.sort((g,$)=>yK(g.type,$.type)||this.docComparator(g.doc,$.doc)),this.applyTargetChange(ee);let en=$?this.updateLimboDocuments():[],es=0===this.limboDocuments.size&&this.current,eo=es?1:0,ep=eo!==this.syncState;if(this.syncState=eo,0===er.length&&!ep)return{limboChanges:en};{let $=new yD(this.query,g.documentSet,ei,er,g.mutatedKeys,0===eo,ep,!1,!!ee&&ee.resumeToken.approximateByteSize()>0);return{snapshot:$,limboChanges:en}}}applyOnlineStateChange(g){return this.current&&"Offline"===g?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new yN,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(g){return!this._syncedDocuments.has(g)&&!!this.documentSet.has(g)&&!this.documentSet.get(g).hasLocalMutations}applyTargetChange(g){g&&(g.addedDocuments.forEach(g=>this._syncedDocuments=this._syncedDocuments.add(g)),g.modifiedDocuments.forEach(g=>{}),g.removedDocuments.forEach(g=>this._syncedDocuments=this._syncedDocuments.delete(g)),this.current=g.current)}updateLimboDocuments(){if(!this.current)return[];let g=this.limboDocuments;this.limboDocuments=py(),this.documentSet.forEach(g=>{this.shouldBeInLimbo(g.key)&&(this.limboDocuments=this.limboDocuments.add(g.key))});let $=[];return g.forEach(g=>{this.limboDocuments.has(g)||$.push(new y$(g))}),this.limboDocuments.forEach(ee=>{g.has(ee)||$.push(new yH(ee))}),$}synchronizeWithPersistedState(g){this._syncedDocuments=g.remoteKeys,this.limboDocuments=py();let $=this.computeDocChanges(g.documents);return this.applyChanges($,!0)}computeInitialSnapshot(){return yD.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function yK(g,$){let ee=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return n$()}};return ee(g)-ee($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yG="SyncEngine";class yQ{constructor(g,$,ee){this.query=g,this.targetId=$,this.view=ee}}class yY{constructor(g){this.key=g,this.receivedDocument=!1}}class yJ{constructor(g,$,ee,ei,er,en){this.localStore=g,this.remoteStore=$,this.eventManager=ee,this.sharedClientState=ei,this.currentUser=er,this.maxConcurrentLimboResolutions=en,this.syncEngineListener={},this.queryViewsByQuery=new pi(g=>d0(g),dZ),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new ow(av.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new ff,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=mF.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function yX(g,$,ee,ei,er,en,es){let eo=new yJ(g,$,ee,ei,er,en);return es&&(eo._isPrimaryClient=!0),eo}async function yZ(g,$){let ee,ei;let er=_R(g),en=er.queryViewsByQuery.get($);if(en)ee=en.targetId,er.sharedClientState.addLocalQueryTarget(ee),ei=en.view.computeInitialSnapshot();else{let g=await gv(er.localStore,d$($)),en=er.sharedClientState.addLocalQueryTarget(g.targetId);ee=g.targetId,ei=await y1(er,$,ee,"current"===en,g.resumeToken),er.isPrimaryClient&&vJ(er.remoteStore,g)}return ei}async function y1(g,$,ee,ei,er){g.applyDocChanges=($,ee,ei)=>_u(g,$,ee,ei);let en=await gw(g.localStore,$,!0),es=new yW($,en.remoteKeys),eo=es.computeDocChanges(en.documents),ep=uE.createSynthesizedTargetChangeForCurrentChange(ee,ei&&"Offline"!==g.onlineState,er),eu=es.applyChanges(eo,g.isPrimaryClient,ep);_s(g,ee,eu.limboChanges);let eh=new yQ($,ee,es);return g.queryViewsByQuery.set($,eh),g.queriesByTarget.has(ee)?g.queriesByTarget.get(ee).push($):g.queriesByTarget.set(ee,[$]),eu.snapshot}async function y0(g,$){let ee=nK(g),ei=ee.queryViewsByQuery.get($),er=ee.queriesByTarget.get(ei.targetId);if(er.length>1){ee.queriesByTarget.set(ei.targetId,er.filter(g=>!dZ(g,$))),ee.queryViewsByQuery.delete($);return}if(ee.isPrimaryClient){ee.sharedClientState.removeLocalQueryTarget(ei.targetId);let g=ee.sharedClientState.isActiveQueryTarget(ei.targetId);g||await g_(ee.localStore,ei.targetId,!1).then(()=>{ee.sharedClientState.clearQueryState(ei.targetId),vX(ee.remoteStore,ei.targetId),_r(ee,ei.targetId)}).catch(aL)}else _r(ee,ei.targetId),await g_(ee.localStore,ei.targetId,!0)}async function y2(g,$,ee){let ei=_A(g);try{let g=await gr(ei.localStore,$);ei.sharedClientState.addPendingMutation(g.batchId),_t(ei,g.batchId,ee),await _p(ei,g.changes),await yn(ei.remoteStore)}catch($){let g=yE($,"Failed to persist write");ee.reject(g)}}async function y6(g,$){let ee=nK(g);try{let g=await gp(ee.localStore,$);$.targetChanges.forEach((g,$)=>{let ei=ee.activeLimboResolutionsByTarget.get($);ei&&(nW(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?ei.receivedDocument=!0:g.modifiedDocuments.size>0?nW(ei.receivedDocument):g.removedDocuments.size>0&&(nW(ei.receivedDocument),ei.receivedDocument=!1))}),await _p(ee,g,$)}catch(g){await aL(g)}}function y4(g,$,ee){let ei=nK(g);if(ei.isPrimaryClient&&0===ee||!ei.isPrimaryClient&&1===ee){let g=[];ei.queryViewsByQuery.forEach((ee,ei)=>{let er=ei.view.applyOnlineStateChange($);er.snapshot&&g.push(er.snapshot)}),yL(ei.eventManager,$),g.length&&ei.syncEngineListener.onWatchChange(g),ei.onlineState=$,ei.isPrimaryClient&&ei.sharedClientState.setOnlineState($)}}async function y3(g,$,ee){let ei=nK(g);ei.sharedClientState.updateQueryState($,"rejected",ee);let er=ei.activeLimboResolutionsByTarget.get($),en=er&&er.key;if(en){let g=new ow(av.comparator);g=g.insert(en,lH.newNoDocument(en,ap.min()));let ee=py().add(en),er=new uC(ap.min(),new Map,new ow(ai),g,ee);await y6(ei,er),ei.activeLimboTargetsByKey=ei.activeLimboTargetsByKey.remove(en),ei.activeLimboResolutionsByTarget.delete($),_l(ei)}else await g_(ei.localStore,$,!1).then(()=>_r(ei,$,ee)).catch(aL)}async function y9(g,$){let ee=nK(g),ei=$.batch.batchId;try{let g=await gn(ee.localStore,$);_i(ee,ei,null),y8(ee,ei),ee.sharedClientState.updateMutationState(ei,"acknowledged"),await _p(ee,g)}catch(g){await aL(g)}}async function y5(g,$,ee){let ei=nK(g);try{let g=await gs(ei.localStore,$);_i(ei,$,ee),y8(ei,$),ei.sharedClientState.updateMutationState($,"rejected",ee),await _p(ei,g)}catch(g){await aL(g)}}function y8(g,$){(g.pendingWritesCallbacks.get($)||[]).forEach(g=>{g.resolve()}),g.pendingWritesCallbacks.delete($)}function y7(g,$){g.pendingWritesCallbacks.forEach(g=>{g.forEach(g=>{g.reject(new nQ(nG.CANCELLED,$))})}),g.pendingWritesCallbacks.clear()}function _t(g,$,ee){let ei=g.mutationUserCallbacks[g.currentUser.toKey()];ei||(ei=new ow(ai)),ei=ei.insert($,ee),g.mutationUserCallbacks[g.currentUser.toKey()]=ei}function _i(g,$,ee){let ei=nK(g),er=ei.mutationUserCallbacks[ei.currentUser.toKey()];if(er){let g=er.get($);g&&(ee?g.reject(ee):g.resolve(),er=er.remove($)),ei.mutationUserCallbacks[ei.currentUser.toKey()]=er}}function _r(g,$,ee=null){for(let ei of(g.sharedClientState.removeLocalQueryTarget($),g.queriesByTarget.get($)))g.queryViewsByQuery.delete(ei),ee&&g.syncEngineListener.onWatchError(ei,ee);if(g.queriesByTarget.delete($),g.isPrimaryClient){let ee=g.limboDocumentRefs.removeReferencesForId($);ee.forEach($=>{let ee=g.limboDocumentRefs.containsKey($);ee||_n(g,$)})}}function _n(g,$){g.enqueuedLimboResolutions.delete($.path.canonicalString());let ee=g.activeLimboTargetsByKey.get($);null!==ee&&(vX(g.remoteStore,ee),g.activeLimboTargetsByKey=g.activeLimboTargetsByKey.remove($),g.activeLimboResolutionsByTarget.delete(ee),_l(g))}function _s(g,$,ee){for(let ei of ee)if(ei instanceof yH)g.limboDocumentRefs.addReference(ei.key,$),_o(g,ei);else if(ei instanceof y$){nj(yG,"Document no longer in limbo: "+ei.key),g.limboDocumentRefs.removeReference(ei.key,$);let ee=g.limboDocumentRefs.containsKey(ei.key);ee||_n(g,ei.key)}else n$()}function _o(g,$){let ee=$.key,ei=ee.path.canonicalString();g.activeLimboTargetsByKey.get(ee)||g.enqueuedLimboResolutions.has(ei)||(nj(yG,"New document in limbo: "+ee),g.enqueuedLimboResolutions.add(ei),_l(g))}function _l(g){for(;g.enqueuedLimboResolutions.size>0&&g.activeLimboTargetsByKey.size<g.maxConcurrentLimboResolutions;){let $=g.enqueuedLimboResolutions.values().next().value;g.enqueuedLimboResolutions.delete($);let ee=new av(am.fromString($)),ei=g.limboTargetIdGenerator.next();g.activeLimboResolutionsByTarget.set(ei,new yY(ee)),g.activeLimboTargetsByKey=g.activeLimboTargetsByKey.insert(ee,ei),vJ(g.remoteStore,new hX(d$(dF(ee.path)),ei,"TargetPurposeLimboResolution",a0.INVALID))}}async function _p(g,$,ee){let ei=nK(g),er=[],en=[],es=[];ei.queryViewsByQuery.isEmpty()||(ei.queryViewsByQuery.forEach((g,eo)=>{es.push(ei.applyDocChanges(eo,$,ee).then(g=>{if((g||ee)&&ei.isPrimaryClient&&ei.sharedClientState.updateQueryState(eo.targetId,(null==g?void 0:g.fromCache)?"not-current":"current"),g){er.push(g);let $=yB.fromSnapshot(eo.targetId,g);en.push($)}}))}),await Promise.all(es),ei.syncEngineListener.onWatchChange(er),await gm(ei.localStore,en))}async function _u(g,$,ee,ei){let er=$.view.computeDocChanges(ee);er.needsRefill&&(er=await gw(g.localStore,$.query,!1).then(({documents:g})=>$.view.computeDocChanges(g,er)));let en=ei&&ei.targetChanges.get($.targetId),es=$.view.applyChanges(er,g.isPrimaryClient,en);return _s(g,$.targetId,es.limboChanges),es.snapshot}async function _m(g,$){let ee=nK(g),ei=!ee.currentUser.isEqual($);if(ei){nj(yG,"User change. New user:",$.toKey());let g=await gi(ee.localStore,$);ee.currentUser=$,y7(ee,"'waitForPendingWrites' promise is rejected due to a user change."),ee.sharedClientState.handleUserChange($,g.removedBatchIds,g.addedBatchIds),await _p(ee,g.affectedDocuments)}}function _v(g,$){let ee=nK(g),ei=ee.activeLimboResolutionsByTarget.get($);if(ei&&ei.receivedDocument)return py().add(ei.key);{let g=py(),ei=ee.queriesByTarget.get($);if(!ei)return g;for(let $ of ei){let ei=ee.queryViewsByQuery.get($);g=g.unionWith(ei.view.syncedDocuments)}return g}}async function _y(g,$){let ee=nK(g),ei=await gw(ee.localStore,$.query,!0),er=$.view.synchronizeWithPersistedState(ei);return ee.isPrimaryClient&&_s(ee,$.targetId,er.limboChanges),er}async function __(g,$){let ee=nK(g);return gN(ee.localStore,$).then(g=>_p(ee,g))}async function _w(g,$,ee,ei){let er=nK(g),en=await gT(er.localStore,$);if(null===en){nj(yG,"Cannot apply mutation batch with id: "+$);return}"pending"===ee?await yn(er.remoteStore):"acknowledged"===ee||"rejected"===ee?(_i(er,$,ei||null),y8(er,$),gC(er.localStore,$)):n$(),await _p(er,en)}async function _S(g,$){let ee=nK(g);if(_R(ee),_A(ee),!0===$&&!0!==ee._isPrimaryClient){let g=ee.sharedClientState.getAllActiveQueryTargets(),$=await _C(ee,g.toArray());for(let g of(ee._isPrimaryClient=!0,await y_(ee.remoteStore,!0),$))vJ(ee.remoteStore,g)}else if(!1===$&&!1!==ee._isPrimaryClient){let g=[],$=Promise.resolve();ee.queriesByTarget.forEach((ei,er)=>{ee.sharedClientState.isLocalQueryTarget(er)?g.push(er):$=$.then(()=>(_r(ee,er),g_(ee.localStore,er,!0))),vX(ee.remoteStore,er)}),await $,await _C(ee,g),_T(ee),ee._isPrimaryClient=!1,await y_(ee.remoteStore,!1)}}function _T(g){let $=nK(g);$.activeLimboResolutionsByTarget.forEach((g,ee)=>{vX($.remoteStore,ee)}),$.limboDocumentRefs.removeAllReferences(),$.activeLimboResolutionsByTarget=new Map,$.activeLimboTargetsByKey=new ow(av.comparator)}async function _C(g,$,ee){let ei=nK(g),er=[],en=[];for(let g of $){let $;let ee=ei.queriesByTarget.get(g);if(ee&&0!==ee.length)for(let g of($=await gv(ei.localStore,d$(ee[0])),ee)){let $=ei.queryViewsByQuery.get(g),ee=await _y(ei,$);ee.snapshot&&en.push(ee.snapshot)}else{let ee=await gI(ei.localStore,g);$=await gv(ei.localStore,ee),await y1(ei,_E(ee),g,!1,$.resumeToken)}er.push($)}return ei.syncEngineListener.onWatchChange(en),er}function _E(g){return dL(g.path,g.collectionGroup,g.orderBy,g.filters,g.limit,"F",g.startAt,g.endAt)}function _I(g){let $=nK(g);return gE($.localStore)}async function _N(g,$,ee,ei){let er=nK(g);if(er._isPrimaryClient){nj(yG,"Ignoring unexpected query state notification.");return}let en=er.queriesByTarget.get($);if(en&&en.length>0)switch(ee){case"current":case"not-current":{let g=await gN(er.localStore,d7(en[0])),ei=uC.createSynthesizedRemoteEventForCurrentChange($,"current"===ee,oO.EMPTY_BYTE_STRING);await _p(er,g,ei);break}case"rejected":await g_(er.localStore,$,!0),_r(er,$,ei);break;default:n$()}}async function _D(g,$,ee){let ei=_R(g);if(ei._isPrimaryClient){for(let g of $){if(ei.queriesByTarget.has(g)){nj(yG,"Adding an already active target "+g);continue}let $=await gI(ei.localStore,g),ee=await gv(ei.localStore,$);await y1(ei,_E($),ee.targetId,!1,ee.resumeToken),vJ(ei.remoteStore,ee)}for(let g of ee)ei.queriesByTarget.has(g)&&await g_(ei.localStore,g,!1).then(()=>{vX(ei.remoteStore,g),_r(ei,g)}).catch(aL)}}function _R(g){let $=nK(g);return $.remoteStore.remoteSyncer.applyRemoteEvent=y6.bind(null,$),$.remoteStore.remoteSyncer.getRemoteKeysForTarget=_v.bind(null,$),$.remoteStore.remoteSyncer.rejectListen=y3.bind(null,$),$.syncEngineListener.onWatchChange=yP.bind(null,$.eventManager),$.syncEngineListener.onWatchError=yM.bind(null,$.eventManager),$}function _A(g){let $=nK(g);return $.remoteStore.remoteSyncer.applySuccessfulWrite=y9.bind(null,$),$.remoteStore.remoteSyncer.rejectFailedWrite=y5.bind(null,$),$}async function _O(g,$,ee){try{let ei=await $.getMetadata(),er=await gA(g.localStore,ei);if(er)return await $.close(),ee._completeWith(yz(ei)),Promise.resolve(new Set);ee._updateProgress(yq(ei));let en=new yj(ei,g.localStore,$.serializer),es=await $.nextElement();for(;es;){let g=await en.addSizedElement(es);g&&ee._updateProgress(g),es=await $.nextElement()}let eo=await en.complete();return await _p(g,eo.changedDocs,void 0),await gO(g.localStore,ei),ee._completeWith(eo.progress),Promise.resolve(eo.changedCollectionGroups)}catch(g){return nz(yG,`Loading bundle failed with ${g}`),ee._failWith(g),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.synchronizeTabs=!1}async initialize(g){this.serializer=v_(g.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(g),this.persistence=this.createPersistence(g),await this.persistence.start(),this.localStore=this.createLocalStore(g),this.gcScheduler=this.createGarbageCollectionScheduler(g,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(g,this.localStore)}createGarbageCollectionScheduler(g,$){return null}createIndexBackfillerScheduler(g,$){return null}createLocalStore(g){return gt(this.persistence,new gV,g.initialUser,this.serializer)}createPersistence(g){return new fE(fN.factory,this.serializer)}createSharedClientState(g){return new g3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _P extends null{constructor(g,$,ee){super(),this.onlineComponentProvider=g,this.cacheSizeBytes=$,this.forceOwnership=ee,this.synchronizeTabs=!1}async initialize(g){await super.initialize(g),await this.onlineComponentProvider.initialize(this,g),await _A(this.onlineComponentProvider.syncEngine),await yn(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(g){return gt(this.persistence,new gV,g.initialUser,this.serializer)}createGarbageCollectionScheduler(g,$){let ee=this.persistence.referenceDelegate.garbageCollector;return new mX(ee,g.asyncQueue,$)}createIndexBackfillerScheduler(g,$){let ee=new a1($,this.persistence);return new aZ(g.asyncQueue,ee)}createPersistence(g){let $=f9(g.databaseInfo.databaseId,g.databaseInfo.persistenceKey),ee=void 0!==this.cacheSizeBytes?m$.withCacheSize(this.cacheSizeBytes):m$.DEFAULT;return new f6(this.synchronizeTabs,$,g.clientId,ee,g.asyncQueue,vv(),vy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(g){return new g3}}class _M{async initialize(g,$){this.localStore||(this.localStore=g.localStore,this.sharedClientState=g.sharedClientState,this.datastore=this.createDatastore($),this.remoteStore=this.createRemoteStore($),this.eventManager=this.createEventManager($),this.syncEngine=this.createSyncEngine($,!g.synchronizeTabs),this.sharedClientState.onlineStateHandler=g=>y4(this.syncEngine,g,1),this.remoteStore.remoteSyncer.handleCredentialChange=_m.bind(null,this.syncEngine),await y_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(g){return yR()}createDatastore(g){let $=v_(g.databaseInfo.databaseId),ee=vf(g.databaseInfo);return vP(g.authCredentials,g.appCheckCredentials,ee,$)}createRemoteStore(g){return vK(this.localStore,this.datastore,g.asyncQueue,g=>y4(this.syncEngine,g,0),vg())}createSyncEngine(g,$){return yX(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,g.initialUser,g.maxConcurrentLimboResolutions,$)}terminate(){return vY(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _L=10240;function _F(g,$=_L){let ee=0,ei={async read(){if(ee<g.byteLength){let ei={value:g.slice(ee,ee+$),done:!1};return ee+=$,ei}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()};return ei}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(g,$,ee){if(!ee)throw new nQ(nG.INVALID_ARGUMENT,`Function ${g}() cannot be called with an empty ${$}.`)}function _B(g,$,ee,ei){if(!0===$&&!0===ei)throw new nQ(nG.INVALID_ARGUMENT,`${g} and ${ee} cannot be used together.`)}function _U(g){if(!av.isDocumentKey(g))throw new nQ(nG.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${g} has ${g.length}.`)}function _q(g){return"object"==typeof g&&null!==g&&(Object.getPrototypeOf(g)===Object.prototype||null===Object.getPrototypeOf(g))}function _z(g){if(void 0===g)return"undefined";if(null===g)return"null";if("string"==typeof g)return g.length>20&&(g=`${g.substring(0,20)}...`),JSON.stringify(g);if("number"==typeof g||"boolean"==typeof g)return""+g;if("object"==typeof g){if(g instanceof Array)return"an array";{let $=_H(g);return $?`a custom ${$} object`:"an object"}}if("function"==typeof g)return"a function";return n$()}function _H(g){return g.constructor?g.constructor.name:null}function _$(g,$){if("_delegate"in g&&(g=g._delegate),!(g instanceof $)){if($.name===g.constructor.name)throw new nQ(nG.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let ee=_z(g);throw new nQ(nG.INVALID_ARGUMENT,`Expected type '${$.name}', but it was: ${ee}`)}}return g}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(g,$){if(!(g instanceof Uint8Array))throw new nQ(nG.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${_z(g)}`);return _F(g,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(g){this.observer=g,this.muted=!1}next(g){this.observer.next&&this.scheduleEvent(this.observer.next,g)}error(g){this.observer.error?this.scheduleEvent(this.observer.error,g):nq("Uncaught Error in snapshot listener:",g.toString())}mute(){this.muted=!0}scheduleEvent(g,$){this.muted||setTimeout(()=>{this.muted||g($)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(g,$){this.payload=g,this.byteLength=$}isBundleMetadata(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(g,$){this.reader=g,this.serializer=$,this.metadata=new nY,this.buffer=new Uint8Array,this.textDecoder=uv(),this.nextElementImpl().then(g=>{g&&g.isBundleMetadata()?this.metadata.resolve(g.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==g?void 0:g.payload)}`))},g=>this.metadata.reject(g))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let g=await this.readLength();if(null===g)return null;let $=this.textDecoder.decode(g),ee=Number($);isNaN(ee)&&this.raiseError(`length string (${$}) is not valid number`);let ei=await this.readJsonString(ee);return new _G(JSON.parse(ei),g.length+ee)}indexOfOpenBracket(){return this.buffer.findIndex(g=>123===g)}async readLength(){for(;0>this.indexOfOpenBracket();){let g=await this.pullMoreDataToBuffer();if(g)break}if(0===this.buffer.length)return null;let g=this.indexOfOpenBracket();g<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let $=this.buffer.slice(0,g);return this.buffer=this.buffer.slice(g),$}async readJsonString(g){for(;this.buffer.length<g;){let g=await this.pullMoreDataToBuffer();g&&this.raiseError("Reached the end of bundle when more is expected.")}let $=this.textDecoder.decode(this.buffer.slice(0,g));return this.buffer=this.buffer.slice(g),$}raiseError(g){throw this.reader.cancel(),Error(`Invalid bundle format: ${g}`)}async pullMoreDataToBuffer(){let g=await this.reader.read();if(!g.done){let $=new Uint8Array(this.buffer.length+g.value.length);$.set(this.buffer),$.set(g.value,this.buffer.length),this.buffer=$}return g.done}}function _Y(g,$){return new _Q(g,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(g){this.datastore=g,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(g){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new nQ(nG.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let $=await vL(this.datastore,g);return $.forEach(g=>this.recordVersion(g)),$}set(g,$){this.write($.toMutation(g,this.precondition(g))),this.writtenDocs.add(g.toString())}update(g,$){try{this.write($.toMutation(g,this.preconditionForUpdate(g)))}catch(g){this.lastWriteError=g}this.writtenDocs.add(g.toString())}delete(g){this.write(new ue(g,this.precondition(g))),this.writtenDocs.add(g.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let g=this.readVersions;this.mutations.forEach($=>{g.delete($.key.toString())}),g.forEach((g,$)=>{let ee=av.fromPath($);this.mutations.push(new ur(ee,this.precondition(ee)))}),await vM(this.datastore,this.mutations),this.committed=!0}recordVersion(g){let $;if(g.isFoundDocument())$=g.version;else if(g.isNoDocument())$=ap.min();else throw n$();let ee=this.readVersions.get(g.key.toString());if(ee){if(!$.isEqual(ee))throw new nQ(nG.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(g.key.toString(),$)}precondition(g){let $=this.readVersions.get(g.toString());return this.writtenDocs.has(g.toString())||!$?p$.none():$.isEqual(ap.min())?p$.exists(!1):p$.updateTime($)}preconditionForUpdate(g){let $=this.readVersions.get(g.toString());if(this.writtenDocs.has(g.toString())||!$)return p$.exists(!0);if($.isEqual(ap.min()))throw new nQ(nG.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return p$.updateTime($)}write(g){this.ensureCommitNotCalled(),this.mutations.push(g)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _X="FirestoreClient",_Z=100,_1=11,_0=20,_2=22;class _6{constructor(g,$,ee,ei){this.authCredentials=g,this.appCheckCredentials=$,this.asyncQueue=ee,this.databaseInfo=ei,this.user=nP.UNAUTHENTICATED,this.clientId=n7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(ee,async g=>{nj(_X,"Received user=",g.uid),await this.authCredentialListener(g),this.user=g}),this.appCheckCredentials.start(ee,g=>(nj(_X,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:_Z}}setCredentialChangeListener(g){this.authCredentialListener=g}setAppCheckTokenChangeListener(g){this.appCheckCredentialListener=g}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nQ(nG.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let g=new nY;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),g.resolve()}catch(ee){let $=yE(ee,"Failed to shutdown persistence");g.reject($)}}),g.promise}}async function _4(g,$){g.asyncQueue.verifyOperationInProgress(),nj(_X,"Initializing OfflineComponentProvider");let ee=await g.getConfiguration();await $.initialize(ee);let ei=ee.initialUser;g.setCredentialChangeListener(async g=>{ei.isEqual(g)||(await gi($.localStore,g),ei=g)}),$.persistence.setDatabaseDeletedListener(()=>g.terminate()),g._offlineComponents=$}async function _3(g,$){g.asyncQueue.verifyOperationInProgress();let ee=await _5(g);nj(_X,"Initializing OnlineComponentProvider");let ei=await g.getConfiguration();await $.initialize(ee,ei),g.setCredentialChangeListener(g=>yy($.remoteStore,g)),g.setAppCheckTokenChangeListener((g,ee)=>yy($.remoteStore,ee)),g._onlineComponents=$}function _9(g){return"FirebaseError"===g.name?g.code===nG.FAILED_PRECONDITION||g.code===nG.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||g.code===_2||g.code===_0||g.code===_1}async function _5(g){if(!g._offlineComponents){if(g._uninitializedComponentsProvider){nj(_X,"Using user provided OfflineComponentProvider");try{await _4(g,g._uninitializedComponentsProvider._offline)}catch(ee){let $=ee;if(!_9($))throw $;nz("Error using user provided cache. Falling back to memory cache: "+$),await _4(g,new _x)}}else nj(_X,"Using default OfflineComponentProvider"),await _4(g,new _x)}return g._offlineComponents}async function _8(g){return g._onlineComponents||(g._uninitializedComponentsProvider?(nj(_X,"Using user provided OnlineComponentProvider"),await _3(g,g._uninitializedComponentsProvider._online)):(nj(_X,"Using default OnlineComponentProvider"),await _3(g,new _M))),g._onlineComponents}function _7(g){return _5(g).then(g=>g.localStore)}function we(g){return _8(g).then(g=>g.syncEngine)}function wt(g){return _8(g).then(g=>g.datastore)}function wi(g,$){let ee=new nY;return g.asyncQueue.enqueueAndForget(async()=>{let ei=await we(g);return y2(ei,$,ee)}),ee.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(g,$){return g.timeoutSeconds===$.timeoutSeconds}function wn(g){let $={};return void 0!==g.timeoutSeconds&&($.timeoutSeconds=g.timeoutSeconds),$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws="ComponentProvider",wo=new Map;function wl(g){let $=wo.get(g);$&&(nj(ws,"Removing Datastore"),wo.delete(g),$.terminate())}function wp(g,$,ee,ei){return new oK(g,$,ee,ei.host,ei.ssl,ei.experimentalForceLongPolling,ei.experimentalAutoDetectLongPolling,wn(ei.experimentalLongPollingOptions),ei.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu="firestore.googleapis.com",wh=!0,wm=5,wf=30,wg=!0;class wv{constructor(g){var $,ee;if(void 0===g.host){if(void 0!==g.ssl)throw new nQ(nG.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wu,this.ssl=wh}else this.host=g.host,this.ssl=null!==($=g.ssl)&&void 0!==$?$:wh;if(this.credentials=g.credentials,this.ignoreUndefinedProperties=!!g.ignoreUndefinedProperties,this.localCache=g.localCache,void 0===g.cacheSizeBytes)this.cacheSizeBytes=mH;else{if(g.cacheSizeBytes!==mz&&g.cacheSizeBytes<mK)throw new nQ(nG.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${mK}`);this.cacheSizeBytes=g.cacheSizeBytes}_B("experimentalForceLongPolling",g.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",g.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!g.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===g.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=wg:this.experimentalAutoDetectLongPolling=!!g.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wn(null!==(ee=g.experimentalLongPollingOptions)&&void 0!==ee?ee:{}),wy(this.experimentalLongPollingOptions),this.useFetchStreams=!!g.useFetchStreams}isEqual(g){return this.host===g.host&&this.ssl===g.ssl&&this.credentials===g.credentials&&this.cacheSizeBytes===g.cacheSizeBytes&&this.experimentalForceLongPolling===g.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===g.experimentalAutoDetectLongPolling&&wr(this.experimentalLongPollingOptions,g.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===g.ignoreUndefinedProperties&&this.useFetchStreams===g.useFetchStreams}}function wy(g){if(void 0!==g.timeoutSeconds){if(isNaN(g.timeoutSeconds))throw new nQ(nG.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<wm)throw new nQ(nG.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is ${wm})`);if(g.timeoutSeconds>wf)throw new nQ(nG.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is ${wf})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(g,$,ee,ei){this._authCredentials=g,this._appCheckCredentials=$,this._databaseId=ee,this._app=ei,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nQ(nG.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(g){if(this._settingsFrozen)throw new nQ(nG.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(g),void 0!==g.credentials&&(this._authCredentials=n5(g.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return wl(this),Promise.resolve()}}function ww(g,$,ee,ei={}){var er;g=_$(g,w_);let en=g._getSettings(),es=`${$}:${ee}`;if(en.host!==wu&&en.host!==es&&nz("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),g._setSettings(Object.assign(Object.assign({},en),{host:es,ssl:!1})),ei.mockUserToken){let $,ee;if("string"==typeof ei.mockUserToken)$=ei.mockUserToken,ee=nP.MOCK_USER;else{$=(0,ef.Sg)(ei.mockUserToken,null===(er=g._app)||void 0===er?void 0:er.options.projectId);let en=ei.mockUserToken.sub||ei.mockUserToken.user_id;if(!en)throw new nQ(nG.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ee=new nP(en)}g._authCredentials=new nZ(new nJ($,ee))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(g,$,ee){this.converter=$,this._query=ee,this.type="query",this.firestore=g}withConverter(g){return new wS(this.firestore,g,this._query)}}class wT{constructor(g,$,ee){this.converter=$,this._key=ee,this.type="document",this.firestore=g}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wC(this.firestore,this.converter,this._key.path.popLast())}withConverter(g){return new wT(this.firestore,g,this._key)}}class wC extends wS{constructor(g,$,ee){super(g,$,dF(ee)),this._path=ee,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let g=this._path.popLast();return g.isEmpty()?null:new wT(this.firestore,null,new av(g))}withConverter(g){return new wC(this.firestore,g,this._path)}}function wE(g,$,...ee){if(g=(0,ef.m9)(g),1==arguments.length&&($=n7.newId()),_V("doc","path",$),g instanceof w_){let ei=am.fromString($,...ee);return _U(ei),new wT(g,null,new av(ei))}{if(!(g instanceof wT)&&!(g instanceof wC))throw new nQ(nG.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let ei=g._path.child(am.fromString($,...ee));return _U(ei),new wT(g.firestore,g instanceof wC?g.converter:null,new av(ei))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wI="AsyncQueue";class wN{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new vE(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(g){this.enqueue(g)}enqueueAndForgetEvenWhileRestricted(g){this.verifyNotFailed(),this.enqueueInternal(g)}enterRestrictedMode(g){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=g||!1)}enqueue(g){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let $=new nY;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(g().then($.resolve,$.reject),$.promise)).then(()=>$.promise)}enqueueRetryable(g){this.enqueueAndForget(()=>(this.retryableOps.push(g),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(g){if(aH(g))nj(wI,"Operation failed with retryable error: "+g);else throw g}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(g){let $=this.tail.then(()=>(this.operationInProgress=!0,g().catch(g=>{this.failure=g,this.operationInProgress=!1;let $=wk(g);throw nq("INTERNAL UNHANDLED ERROR: ",$),g}).then(g=>(this.operationInProgress=!1,g))));return this.tail=$,$}enqueueAfterDelay(g,$,ee){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(g)>-1&&($=0);let ei=yC.createAndSchedule(this,g,$,ee,g=>this.removeDelayedOperation(g));return this.delayedOperations.push(ei),ei}verifyNotFailed(){this.failure&&n$()}verifyOperationInProgress(){}async drain(){let g;do g=this.tail,await g;while(g!==this.tail)}containsDelayedOperation(g){for(let $ of this.delayedOperations)if($.timerId===g)return!0;return!1}runAllDelayedOperationsUntil(g){return this.drain().then(()=>{for(let $ of(this.delayedOperations.sort((g,$)=>g.targetTimeMs-$.targetTimeMs),this.delayedOperations))if($.skipDelay(),"all"!==g&&$.timerId===g)break;return this.drain()})}skipDelaysForTimerId(g){this.timerIdsToSkip.push(g)}removeDelayedOperation(g){let $=this.delayedOperations.indexOf(g);this.delayedOperations.splice($,1)}}function wD(){return new wN}function wk(g){let $=g.message||"";return g.stack&&($=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),$}class wR extends w_{constructor(g,$,ee,ei){super(g,$,ee,ei),this.type="firestore",this._queue=wD(),this._persistenceKey=(null==ei?void 0:ei.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wx(this),this._firestoreClient.terminate()}}function wA(g,$){let ee="object"==typeof g?g:(0,ep.Mq)(),ei="string"==typeof g?g:$||oG,er=(0,ep.qX)(ee,"firestore").getImmediate({identifier:ei});if(!er._initialized){let g=(0,ef.P0)("firestore");g&&ww(er,...g)}return er}function wO(g){return g._firestoreClient||wx(g),g._firestoreClient.verifyNotTerminated(),g._firestoreClient}function wx(g){var $,ee,ei;let er=g._freezeSettings(),en=wp(g._databaseId,(null===($=g._app)||void 0===$?void 0:$.options.appId)||"",g._persistenceKey,er);g._firestoreClient=new _6(g._authCredentials,g._appCheckCredentials,g._queue,en),(null===(ee=er.localCache)||void 0===ee?void 0:ee._offlineComponentProvider)&&(null===(ei=er.localCache)||void 0===ei?void 0:ei._onlineComponentProvider)&&(g._firestoreClient._uninitializedComponentsProvider={_offlineKind:er.localCache.kind,_offline:er.localCache._offlineComponentProvider,_online:er.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(g,$=!0){nF(ep.Jn),(0,ep.Xd)(new eu.wA("firestore",(g,{instanceIdentifier:ee,options:ei})=>{let er=g.getProvider("app").getImmediate(),en=new wR(new n0(g.getProvider("auth-internal")),new n9(g.getProvider("app-check-internal")),oY(er,ee),er);return ei=Object.assign({useFetchStreams:$},ei),en._setSettings(ei),en},"PUBLIC").setMultipleInstances(!0)),(0,ep.KN)(nO,nx,g),(0,ep.KN)(nO,nx,"esm2017")}class wM{constructor(g,$,ee){this._userDataWriter=$,this._data=ee,this.type="AggregateQuerySnapshot",this.query=g}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(g){this._byteString=g}static fromBase64String(g){try{return new wL(oO.fromBase64String(g))}catch(g){throw new nQ(nG.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+g)}}static fromUint8Array(g){return new wL(oO.fromUint8Array(g))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(g){return this._byteString.isEqual(g._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(...g){for(let $=0;$<g.length;++$)if(0===g[$].length)throw new nQ(nG.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ag(g)}isEqual(g){return this._internalPath.isEqual(g._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(g){this._methodName=g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(g,$){if(!isFinite(g)||g<-90||g>90)throw new nQ(nG.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+g);if(!isFinite($)||$<-180||$>180)throw new nQ(nG.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+$);this._lat=g,this._long=$}get latitude(){return this._lat}get longitude(){return this._long}isEqual(g){return this._lat===g._lat&&this._long===g._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(g){return ai(this._lat,g._lat)||ai(this._long,g._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wU=/^__.*__$/;class wj{constructor(g,$,ee){this.data=g,this.fieldMask=$,this.fieldTransforms=ee}toMutation(g,$){return null!==this.fieldMask?new p4(g,this.data,this.fieldMask,$,this.fieldTransforms):new pZ(g,this.data,$,this.fieldTransforms)}}class wq{constructor(g,$,ee){this.data=g,this.fieldMask=$,this.fieldTransforms=ee}toMutation(g,$){return new p4(g,this.data,this.fieldMask,$,this.fieldTransforms)}}function wz(g){switch(g){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw n$()}}class wH{constructor(g,$,ee,ei,er,en){this.settings=g,this.databaseId=$,this.serializer=ee,this.ignoreUndefinedProperties=ei,void 0===er&&this.validatePath(),this.fieldTransforms=er||[],this.fieldMask=en||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(g){return new wH(Object.assign(Object.assign({},this.settings),g),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(g){var $;let ee=null===($=this.path)||void 0===$?void 0:$.child(g),ei=this.contextWith({path:ee,arrayElement:!1});return ei.validatePathSegment(g),ei}childContextForFieldPath(g){var $;let ee=null===($=this.path)||void 0===$?void 0:$.child(g),ei=this.contextWith({path:ee,arrayElement:!1});return ei.validatePath(),ei}childContextForArray(g){return this.contextWith({path:void 0,arrayElement:!0})}createError(g){return w5(g,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(g){return void 0!==this.fieldMask.find($=>g.isPrefixOf($))||void 0!==this.fieldTransforms.find($=>g.isPrefixOf($.field))}validatePath(){if(this.path)for(let g=0;g<this.path.length;g++)this.validatePathSegment(this.path.get(g))}validatePathSegment(g){if(0===g.length)throw this.createError("Document fields must not be empty");if(wz(this.dataSource)&&wU.test(g))throw this.createError('Document fields cannot begin and end with "__"')}}class w${constructor(g,$,ee){this.databaseId=g,this.ignoreUndefinedProperties=$,this.serializer=ee||v_(g)}createContext(g,$,ee,ei=!1){return new wH({dataSource:g,methodName:$,targetDoc:ee,path:ag.emptyPath(),arrayElement:!1,hasConverter:ei},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wW(g){let $=g._freezeSettings(),ee=v_(g._databaseId);return new w$(g._databaseId,!!$.ignoreUndefinedProperties,ee)}function wK(g,$,ee,ei,er,en={}){let es,eo;let ep=g.createContext(en.merge||en.mergeFields?2:0,$,ee,er);w6("Data must be an object, but it was:",ep,ei);let eu=wX(ei,ep);if(en.merge)es=new ok(ep.fieldMask),eo=ep.fieldTransforms;else if(en.mergeFields){let g=[];for(let ei of en.mergeFields){let er=w4($,ei,ee);if(!ep.contains(er))throw new nQ(nG.INVALID_ARGUMENT,`Field '${er}' is specified in your field mask but missing from your input data.`);w8(g,er)||g.push(er)}es=new ok(g),eo=ep.fieldTransforms.filter(g=>es.covers(g.field))}else es=null,eo=ep.fieldTransforms;return new wj(new lq(eu),es,eo)}class wG extends null{_toFieldTransform(g){if(2===g.dataSource)g.fieldMask.push(g.path);else if(1===g.dataSource)throw g.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw g.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(g){return g instanceof wG}}class wQ extends null{_toFieldTransform(g){return new pj(g.path,new pO)}isEqual(g){return g instanceof wQ}}function wY(g,$,ee,ei=!1){let er=g.createContext(ei?4:3,$),en=wJ(ee,er);return en}function wJ(g,$){if(w2(g=(0,ef.m9)(g)))return w6("Unsupported field value:",$,g),wX(g,$);if(g instanceof wV)return w1(g,$),null;if(void 0===g&&$.ignoreUndefinedProperties)return null;if($.path&&$.fieldMask.push($.path),!(g instanceof Array))return w0(g,$);if($.settings.arrayElement&&4!==$.dataSource)throw $.createError("Nested arrays are not supported");return wZ(g,$)}function wX(g,$){let ee={};return o_(g)?$.path&&$.path.length>0&&$.fieldMask.push($.path):oy(g,(g,ei)=>{let er=wJ(ei,$.childContextForField(g));null!=er&&(ee[g]=er)}),{mapValue:{fields:ee}}}function wZ(g,$){let ee=[],ei=0;for(let er of g){let g=wJ(er,$.childContextForArray(ei));null==g&&(g={nullValue:"NULL_VALUE"}),ee.push(g),ei++}return{arrayValue:{values:ee}}}function w1(g,$){if(!wz($.dataSource))throw $.createError(`${g._methodName}() can only be used with update() and set()`);if(!$.path)throw $.createError(`${g._methodName}() is not currently supported inside arrays`);let ee=g._toFieldTransform($);ee&&$.fieldTransforms.push(ee)}function w0(g,$){if(null===(g=(0,ef.m9)(g)))return{nullValue:"NULL_VALUE"};if("number"==typeof g)return pE($.serializer,g);if("boolean"==typeof g)return{booleanValue:g};if("string"==typeof g)return{stringValue:g};if(g instanceof Date){let ee=al.fromDate(g);return{timestampValue:uq($.serializer,ee)}}if(g instanceof al){let ee=new al(g.seconds,1e3*Math.floor(g.nanoseconds/1e3));return{timestampValue:uq($.serializer,ee)}}if(g instanceof wB)return{geoPointValue:{latitude:g.latitude,longitude:g.longitude}};else if(g instanceof wL)return{bytesValue:uH($.serializer,g._byteString)};else if(g instanceof wT){let ee=$.databaseId,ei=g.firestore._databaseId;if(!ei.isEqual(ee))throw $.createError(`Document reference is for database ${ei.projectId}/${ei.database} but should be for database ${ee.projectId}/${ee.database}`);return{referenceValue:uG(g.firestore._databaseId||$.databaseId,g._key.path)}}else throw $.createError(`Unsupported field value: ${_z(g)}`)}function w2(g){return"object"==typeof g&&null!==g&&!(g instanceof Array)&&!(g instanceof Date)&&!(g instanceof al)&&!(g instanceof wB)&&!(g instanceof wL)&&!(g instanceof wT)&&!(g instanceof wV)}function w6(g,$,ee){if(!w2(ee)||!_q(ee)){let ei=_z(ee);if("an object"===ei)throw $.createError(g+" a custom object");throw $.createError(g+" "+ei)}}function w4(g,$,ee){if(($=(0,ef.m9)($))instanceof wF)return $._internalPath;if("string"==typeof $)return w9(g,$);{let $="Field path arguments must be of type string or ";throw w5($,g,!1,void 0,ee)}}let w3=RegExp("[~\\*/\\[\\]]");function w9(g,$,ee){let ei=$.search(w3);if(ei>=0)throw w5(`Invalid field path (${$}). Paths must not contain '~', '*', '/', '[', or ']'`,g,!1,void 0,ee);try{return new wF(...$.split("."))._internalPath}catch(ei){throw w5(`Invalid field path (${$}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,g,!1,void 0,ee)}}function w5(g,$,ee,ei,er){let en=ei&&!ei.isEmpty(),es=void 0!==er,eo=`Function ${$}() called with invalid data`;ee&&(eo+=" (via `toFirestore()`)"),eo+=". ";let ep="";return(en||es)&&(ep+=" (found",en&&(ep+=` in field ${ei}`),es&&(ep+=` in document ${er}`),ep+=")"),new nQ(nG.INVALID_ARGUMENT,eo+g+ep)}function w8(g,$){return g.some(g=>g.isEqual($))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(g,$,ee,ei,er){this._firestore=g,this._userDataWriter=$,this._key=ee,this._document=ei,this._converter=er}get id(){return this._key.path.lastSegment()}get ref(){return new wT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let g=new bt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(g)}}}get(g){if(this._document){let $=this._document.data.field(bi("DocumentSnapshot.get",g));if(null!==$)return this._userDataWriter.convertValue($)}}}class bt extends null{data(){return super.data()}}function bi(g,$){return"string"==typeof $?w9(g,$):$ instanceof wF?$._internalPath:$._delegate._internalPath}class br extends null{constructor(g,$,ee){super(),this._field=g,this._op=$,this._value=ee,this.type="where"}static _create(g,$,ee){return new br(g,$,ee)}_apply(g){let $=this._parse(g);return bw(g._query,$),new wS(g.firestore,g.converter,dG(g._query,$))}_parse(g){let $=wW(g.firestore),ee=bh(g._query,"where",$,g.firestore._databaseId,this._field,this._op,this._value);return ee}}class bn extends null{constructor(g,$){super(),this.type=g,this._queryConstraints=$}static _create(g,$){return new bn(g,$)}_parse(g){let $=this._queryConstraints.map($=>$._parse(g)).filter(g=>g.getFilters().length>0);return 1===$.length?$[0]:l6.create($,this._getOperator())}_apply(g){let $=this._parse(g);return 0===$.getFilters().length?g:(bS(g._query,$),new wS(g.firestore,g.converter,dG(g._query,$)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bs extends null{constructor(g,$){super(),this._field=g,this._direction=$,this.type="orderBy"}static _create(g,$){return new bs(g,$)}_apply(g){let $=bm(g._query,this._field,this._direction);return new wS(g.firestore,g.converter,dQ(g._query,$))}}class bo extends null{constructor(g,$,ee){super(),this.type=g,this._limit=$,this._limitType=ee}static _create(g,$,ee){return new bo(g,$,ee)}_apply(g){return new wS(g.firestore,g.converter,dY(g._query,this._limit,this._limitType))}}class bl extends null{constructor(g,$,ee){super(),this.type=g,this._docOrFields=$,this._inclusive=ee}static _create(g,$,ee){return new bl(g,$,ee)}_apply(g){let $=bu(g,this.type,this._docOrFields,this._inclusive);return new wS(g.firestore,g.converter,dJ(g._query,$))}}class bp extends null{constructor(g,$,ee){super(),this.type=g,this._docOrFields=$,this._inclusive=ee}static _create(g,$,ee){return new bp(g,$,ee)}_apply(g){let $=bu(g,this.type,this._docOrFields,this._inclusive);return new wS(g.firestore,g.converter,dX(g._query,$))}}function bu(g,$,ee,ei){if(ee[0]=getModularInstance(ee[0]),ee[0]instanceof w7)return bf(g._query,g.firestore._databaseId,$,ee[0]._document,ei);{let er=wW(g.firestore);return bg(g._query,g.firestore._databaseId,er,$,ee,ei)}}function bh(g,$,ee,ei,er,en,es){let eo;if(er.isKeyField()){if("array-contains"===en||"array-contains-any"===en)throw new nQ(nG.INVALID_ARGUMENT,`Invalid Query. You can't perform '${en}' queries on documentId().`);if("in"===en||"not-in"===en){by(es,en);let $=[];for(let ee of es)$.push(bv(ei,g,ee));eo={arrayValue:{values:$}}}else eo=bv(ei,g,es)}else("in"===en||"not-in"===en||"array-contains-any"===en)&&by(es,en),eo=wY(ee,$,es,"in"===en||"not-in"===en);let ep=l2.create(er,en,eo);return ep}function bm(g,$,ee){if(null!==g.startAt)throw new nQ(nG.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==g.endAt)throw new nQ(nG.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");let ei=new lJ($,ee);return bC(g,ei),ei}function bf(g,$,ee,ei,er){if(!ei)throw new nQ(nG.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${ee}().`);let en=[];for(let ee of dH(g))if(ee.field.isKeyField())en.push(lD($,ei.key));else{let g=ei.data.field(ee.field);if(oz(g))throw new nQ(nG.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==g)en.push(g);else{let g=ee.field.canonicalString();throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}}return new lW(en,er)}function bg(g,$,ee,ei,er,en){let es=g.explicitOrderBy;if(er.length>es.length)throw new nQ(nG.INVALID_ARGUMENT,`Too many arguments provided to ${ei}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let eo=[];for(let en=0;en<er.length;en++){let ep=er[en],eu=es[en];if(eu.field.isKeyField()){if("string"!=typeof ep)throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ei}(), but got a ${typeof ep}`);if(!dz(g)&&-1!==ep.indexOf("/"))throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ei}() must be a plain document ID, but '${ep}' contains a slash.`);let ee=g.path.child(am.fromString(ep));if(!av.isDocumentKey(ee))throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ei}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);let er=new av(ee);eo.push(lD($,er))}else{let g=wY(ee,ei,ep);eo.push(g)}}return new lW(eo,en)}function bv(g,$,ee){if("string"==typeof(ee=getModularInstance(ee))){if(""===ee)throw new nQ(nG.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dz($)&&-1!==ee.indexOf("/"))throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${ee}' contains a '/' character.`);let ei=$.path.child(am.fromString(ee));if(!av.isDocumentKey(ei))throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${ei}' is not because it has an odd number of segments (${ei.length}).`);return lD(g,new av(ei))}if(ee instanceof wT)return lD(g,ee._key);throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_z(ee)}.`)}function by(g,$){if(!Array.isArray(g)||0===g.length)throw new nQ(nG.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${$.toString()}' filters.`)}function b_(g){switch(g){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function bw(g,$){if($.isInequality()){let ee=dj(g),ei=$.field;if(null!==ee&&!ee.isEqual(ei))throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ee.toString()}' and '${ei.toString()}'`);let er=dU(g);null!==er&&bE(g,ei,er)}let ee=bT(g.filters,b_($.op));if(null!==ee){if(ee===$.op)throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`);throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. You cannot use '${$.op.toString()}' filters with '${ee.toString()}' filters.`)}}function bS(g,$){let ee=g,ei=$.getFlattenedFilters();for(let g of ei)bw(ee,g),ee=dG(ee,g)}function bT(g,$){for(let ee of g)for(let g of ee.getFlattenedFilters())if($.indexOf(g.op)>=0)return g.op;return null}function bC(g,$){if(null===dU(g)){let ee=dj(g);null!==ee&&bE(g,ee,$.field)}}function bE(g,$,ee){if(!ee.isEqual($))throw new nQ(nG.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${$.toString()}' and so you must also use '${$.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${ee.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(g,$,ee){return g?ee&&(ee.merge||ee.mergeFields)?g.toFirestore($,ee):g.toFirestore($):$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(g,$){this.hasPendingWrites=g,this.fromCache=$}isEqual(g){return this.hasPendingWrites===g.hasPendingWrites&&this.fromCache===g.fromCache}}class bD extends null{data(g={}){return super.data(g)}}function bk(g){switch(g){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return n$()}}class bR extends null{constructor(g){super(),this.firestore=g}convertBytes(g){return new wL(g)}convertReference(g){let $=this.convertDocumentKey(g,this.firestore._databaseId);return new wT(this.firestore,null,$)}}function bA(g,$,ee){g=_$(g,wT);let ei=_$(g.firestore,wR),er=bI(g.converter,$,ee),en=wW(ei),es=wK(en,"setDoc",g._key,er,null!==g.converter,ee),eo=es.toMutation(g._key,p$.none());return bO(ei,[eo])}function bO(g,$){let ee=wO(g);return wi(ee,$)}class bx{constructor(g){this.forceOwnership=g,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(g){this._onlineComponentProvider=new _M,this._offlineComponentProvider=new _P(this._onlineComponentProvider,null==g?void 0:g.cacheSizeBytes,this.forceOwnership)}}new WeakMap,/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wP("node")},81513:g=>{"use strict";g.exports={i8:"1.9.3"}},56541:g=>{"use strict";g.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},89987:g=>{"use strict";g.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},57674:g=>{"use strict";g.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},73795:g=>{"use strict";g.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},71841:g=>{"use strict";g.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')}};